{"uid":"10eb0c52e2d65a37","name":"Архивирование Space-документа для роли owner","fullName":"tests.test_backend.document.access_doc.test_archive_doc#test_archive_space_doc","historyId":"b5cd4275c510ddbcdef07537105da578","time":{"start":1752665677870,"stop":1752665679508,"duration":1638},"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","descriptionHtml":"<pre><code>Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\nТест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\nи оценивает возможность архивации документа на основе предоставленной роли client_fixture.\nПроверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\nДополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\nс использованием случайного клиента с повышенными правами.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1752665650193,"stop":1752665650193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1752665650193,"stop":1752665650193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1752665650194,"stop":1752665650923,"duration":729},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1752665650194,"stop":1752665650194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1752665650194,"stop":1752665650194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1752665676854,"stop":1752665677513,"duration":659},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1752665677513,"stop":1752665677870,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"manager_client","time":{"start":1752665677871,"stop":1752665678525,"duration":654},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","status":"passed","steps":[{"name":"Случайный клиент(manager_client) создаёт Space-документ для архивации (title = 16.07_11:34:37 Space Doc For Archive Check)","time":{"start":1752665678525,"stop":1752665679214,"duration":689},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Архивация Space-документа в роли owner, 200","time":{"start":1752665679214,"stop":1752665679508,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_archive_doc"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2560-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_archive_doc"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'owner_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":52,"unknown":0,"total":54},"items":[{"uid":"bdb11285f965683","reportUrl":"https://vaizcom.github.io/autotests/307//#testresult/bdb11285f965683","status":"passed","time":{"start":1752586299447,"stop":1752586300688,"duration":1241}},{"uid":"621449b16619dfab","reportUrl":"https://vaizcom.github.io/autotests/306//#testresult/621449b16619dfab","status":"passed","time":{"start":1752585460253,"stop":1752585461469,"duration":1216}},{"uid":"b3d34c85b6ccd216","reportUrl":"https://vaizcom.github.io/autotests/305//#testresult/b3d34c85b6ccd216","status":"passed","time":{"start":1752583561674,"stop":1752583562875,"duration":1201}},{"uid":"d7edd7ba334eed2d","reportUrl":"https://vaizcom.github.io/autotests/304//#testresult/d7edd7ba334eed2d","status":"passed","time":{"start":1752579794145,"stop":1752579795280,"duration":1135}},{"uid":"c66b22b3dcac39c7","reportUrl":"https://vaizcom.github.io/autotests/303//#testresult/c66b22b3dcac39c7","status":"passed","time":{"start":1752569816653,"stop":1752569817249,"duration":596}},{"uid":"52eb24b3d4c090a1","reportUrl":"https://vaizcom.github.io/autotests/302//#testresult/52eb24b3d4c090a1","status":"passed","time":{"start":1752568880073,"stop":1752568880725,"duration":652}},{"uid":"7d0c4e8fd21718e5","reportUrl":"https://vaizcom.github.io/autotests/301//#testresult/7d0c4e8fd21718e5","status":"passed","time":{"start":1752568133701,"stop":1752568134337,"duration":636}},{"uid":"1d4e64b8630d63e0","reportUrl":"https://vaizcom.github.io/autotests/300//#testresult/1d4e64b8630d63e0","status":"passed","time":{"start":1752565809451,"stop":1752565810696,"duration":1245}},{"uid":"ad277fcab0edffe8","reportUrl":"https://vaizcom.github.io/autotests/299//#testresult/ad277fcab0edffe8","status":"passed","time":{"start":1752565261926,"stop":1752565262841,"duration":915}},{"uid":"dc3fd9cb0bd030ea","reportUrl":"https://vaizcom.github.io/autotests/298//#testresult/dc3fd9cb0bd030ea","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752563848040,"stop":1752563848040,"duration":0}},{"uid":"903c4c57636d5c75","reportUrl":"https://vaizcom.github.io/autotests/297//#testresult/903c4c57636d5c75","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752562435900,"stop":1752562435900,"duration":0}},{"uid":"f8a4d9db314dc327","reportUrl":"https://vaizcom.github.io/autotests/296//#testresult/f8a4d9db314dc327","status":"passed","time":{"start":1752501028855,"stop":1752501031409,"duration":2554}},{"uid":"4982e7ed08e7648e","reportUrl":"https://vaizcom.github.io/autotests/295//#testresult/4982e7ed08e7648e","status":"passed","time":{"start":1752500639715,"stop":1752500642528,"duration":2813}},{"uid":"5e33fa5befec0831","reportUrl":"https://vaizcom.github.io/autotests/294//#testresult/5e33fa5befec0831","status":"passed","time":{"start":1752499325537,"stop":1752499326545,"duration":1008}},{"uid":"5e24797365cc2f27","reportUrl":"https://vaizcom.github.io/autotests/293//#testresult/5e24797365cc2f27","status":"passed","time":{"start":1752498147327,"stop":1752498148803,"duration":1476}},{"uid":"f5d838c003fed2d9","reportUrl":"https://vaizcom.github.io/autotests/292//#testresult/f5d838c003fed2d9","status":"passed","time":{"start":1752496477380,"stop":1752496478949,"duration":1569}},{"uid":"d7222f8a58e28b1c","reportUrl":"https://vaizcom.github.io/autotests/291//#testresult/d7222f8a58e28b1c","status":"passed","time":{"start":1752481623530,"stop":1752481624077,"duration":547}},{"uid":"b9f85e8cdc5f4ade","reportUrl":"https://vaizcom.github.io/autotests/290//#testresult/b9f85e8cdc5f4ade","status":"passed","time":{"start":1752479651479,"stop":1752479652092,"duration":613}},{"uid":"1fc23d7d64eeee88","reportUrl":"https://vaizcom.github.io/autotests/289//#testresult/1fc23d7d64eeee88","status":"passed","time":{"start":1752477797602,"stop":1752477798632,"duration":1030}},{"uid":"6abca03daa3512c9","reportUrl":"https://vaizcom.github.io/autotests/288//#testresult/6abca03daa3512c9","status":"passed","time":{"start":1752236676525,"stop":1752236677229,"duration":704}}]},"tags":["backend"]},"source":"10eb0c52e2d65a37.json","parameterValues":["'owner_client'","200"]}