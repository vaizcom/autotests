{"uid":"e11f79e58ea3c52b","name":"Архивирование Space-документа для роли manager","fullName":"tests.test_backend.document.access_doc.test_archive_doc#test_archive_space_doc","historyId":"5e7c8af1758830173e4e2d42e4b077e5","time":{"start":1753089901769,"stop":1753089903736,"duration":1967},"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","descriptionHtml":"<pre><code>Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\nТест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\nи оценивает возможность архивации документа на основе предоставленной роли client_fixture.\nПроверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\nДополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\nс использованием случайного клиента с повышенными правами.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1753089877938,"stop":1753089877938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1753089877938,"stop":1753089877938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1753089877938,"stop":1753089877938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1753089877938,"stop":1753089877938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1753089900396,"stop":1753089900848,"duration":452},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1753089900848,"stop":1753089901104,"duration":256},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"manager_client","time":{"start":1753089901769,"stop":1753089902237,"duration":468},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"member_client","time":{"start":1753089902237,"stop":1753089902709,"duration":472},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","status":"passed","steps":[{"name":"Случайный клиент(member_client) создаёт Space-документ для архивации (title = 21.07_09:25:02 Space Doc For Archive Check)","time":{"start":1753089902709,"stop":1753089903213,"duration":504},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Архивация Space-документа в роли manager, 200","time":{"start":1753089903213,"stop":1753089903736,"duration":523},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_archive_doc"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2528-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_archive_doc"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'manager_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":57,"unknown":0,"total":61},"items":[{"uid":"7667ea593bc00c9","reportUrl":"https://vaizcom.github.io/autotests/314//#testresult/7667ea593bc00c9","status":"passed","time":{"start":1752836768940,"stop":1752836770471,"duration":1531}},{"uid":"b3ae0e5f0ec4c410","reportUrl":"https://vaizcom.github.io/autotests/313//#testresult/b3ae0e5f0ec4c410","status":"passed","time":{"start":1752835902896,"stop":1752835904083,"duration":1187}},{"uid":"2c0c2cb3b7037689","reportUrl":"https://vaizcom.github.io/autotests/312//#testresult/2c0c2cb3b7037689","status":"passed","time":{"start":1752827258733,"stop":1752827259815,"duration":1082}},{"uid":"b2371c098d526557","reportUrl":"https://vaizcom.github.io/autotests/311//#testresult/b2371c098d526557","status":"passed","time":{"start":1752738162728,"stop":1752738165432,"duration":2704}},{"uid":"24c04b1e40148c56","reportUrl":"https://vaizcom.github.io/autotests/310//#testresult/24c04b1e40148c56","status":"passed","time":{"start":1752669065847,"stop":1752669067599,"duration":1752}},{"uid":"c21331f10ad79daa","reportUrl":"https://vaizcom.github.io/autotests/309//#testresult/c21331f10ad79daa","status":"passed","time":{"start":1752668191682,"stop":1752668192179,"duration":497}},{"uid":"96d21b1d47475d2","reportUrl":"https://vaizcom.github.io/autotests/308//#testresult/96d21b1d47475d2","status":"passed","time":{"start":1752665679510,"stop":1752665680175,"duration":665}},{"uid":"bab7b974761c4e82","reportUrl":"https://vaizcom.github.io/autotests/307//#testresult/bab7b974761c4e82","status":"passed","time":{"start":1752586300690,"stop":1752586301809,"duration":1119}},{"uid":"7a935e17e8d6c8fc","reportUrl":"https://vaizcom.github.io/autotests/306//#testresult/7a935e17e8d6c8fc","status":"passed","time":{"start":1752585461471,"stop":1752585462598,"duration":1127}},{"uid":"7dd9786a452e4c5a","reportUrl":"https://vaizcom.github.io/autotests/305//#testresult/7dd9786a452e4c5a","status":"passed","time":{"start":1752583562877,"stop":1752583563401,"duration":524}},{"uid":"7b47688c33bc06ff","reportUrl":"https://vaizcom.github.io/autotests/304//#testresult/7b47688c33bc06ff","status":"passed","time":{"start":1752579795282,"stop":1752579795791,"duration":509}},{"uid":"c168ba817399f407","reportUrl":"https://vaizcom.github.io/autotests/303//#testresult/c168ba817399f407","status":"passed","time":{"start":1752569817253,"stop":1752569818950,"duration":1697}},{"uid":"670778dc2408527d","reportUrl":"https://vaizcom.github.io/autotests/302//#testresult/670778dc2408527d","status":"passed","time":{"start":1752568880727,"stop":1752568883485,"duration":2758}},{"uid":"971e4a64e85c09b4","reportUrl":"https://vaizcom.github.io/autotests/301//#testresult/971e4a64e85c09b4","status":"passed","time":{"start":1752568134339,"stop":1752568134884,"duration":545}},{"uid":"e9519dd2169e5594","reportUrl":"https://vaizcom.github.io/autotests/300//#testresult/e9519dd2169e5594","status":"passed","time":{"start":1752565810699,"stop":1752565811385,"duration":686}},{"uid":"d8696e2864a720be","reportUrl":"https://vaizcom.github.io/autotests/299//#testresult/d8696e2864a720be","status":"passed","time":{"start":1752565262843,"stop":1752565263598,"duration":755}},{"uid":"4c8e4e9fe99b7345","reportUrl":"https://vaizcom.github.io/autotests/298//#testresult/4c8e4e9fe99b7345","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752563848045,"stop":1752563848045,"duration":0}},{"uid":"c6b41e1a8e325561","reportUrl":"https://vaizcom.github.io/autotests/297//#testresult/c6b41e1a8e325561","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752562435903,"stop":1752562435903,"duration":0}},{"uid":"d12cb80c630b090c","reportUrl":"https://vaizcom.github.io/autotests/296//#testresult/d12cb80c630b090c","status":"failed","statusDetails":"AssertionError: assert 200 == 403","time":{"start":1752501031412,"stop":1752501031972,"duration":560}},{"uid":"d60b4c01214e431e","reportUrl":"https://vaizcom.github.io/autotests/295//#testresult/d60b4c01214e431e","status":"failed","statusDetails":"AssertionError: assert 200 == 403","time":{"start":1752500642531,"stop":1752500643331,"duration":800}}]},"tags":["backend"]},"source":"e11f79e58ea3c52b.json","parameterValues":["'manager_client'","200"]}