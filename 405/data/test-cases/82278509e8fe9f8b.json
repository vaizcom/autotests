{"uid":"82278509e8fe9f8b","name":"Проверка доступа owner_client к документам пространства, проекта и персональному документу","fullName":"tests.test_backend.document.access_doc.test_matrix_access_docs#test_owner_client_document_access","historyId":"2f7f1f3840e05e27e392e5adc272584b","time":{"start":1762155140218,"stop":1762155140382,"duration":164},"description":"\n    Проверяем, что owner_client имеет доступ к main_space_doc и main_project_doc,\n    но не имеет доступа к main_personal_doc.\n    ","descriptionHtml":"<pre><code>Проверяем, что owner_client имеет доступ к main_space_doc и main_project_doc,\nно не имеет доступа к main_personal_doc.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7fb4e4ec1550>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title('Проверка доступа owner_client к документам пространства, проекта и персональному документу')\n    def test_owner_client_document_access(owner_client, main_space, main_space_doc, main_project_doc, main_personal_doc):\n        \"\"\"\n        Проверяем, что owner_client имеет доступ к main_space_doc и main_project_doc,\n        но не имеет доступа к main_personal_doc.\n        \"\"\"\n        with allure.step('Проверка доступа owner_client к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = owner_client.post(**get_document_endpoint(document_id=main_space_doc, space_id=main_space))\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:86: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1762155001105,"stop":1762155001105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1762155001105,"stop":1762155001106,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1762155001105,"stop":1762155001105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1762155001106,"stop":1762155001799,"duration":693},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1762155001106,"stop":1762155001106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1762155009711,"stop":1762155010061,"duration":350},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1762155010061,"stop":1762155010424,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_personal_doc","time":{"start":1762155138883,"stop":1762155138883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project_doc","time":{"start":1762155138883,"stop":1762155138883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space_doc","time":{"start":1762155138883,"stop":1762155138883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяем, что owner_client имеет доступ к main_space_doc и main_project_doc,\n    но не имеет доступа к main_personal_doc.\n    ","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7fb4e4ec1550>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title('Проверка доступа owner_client к документам пространства, проекта и персональному документу')\n    def test_owner_client_document_access(owner_client, main_space, main_space_doc, main_project_doc, main_personal_doc):\n        \"\"\"\n        Проверяем, что owner_client имеет доступ к main_space_doc и main_project_doc,\n        но не имеет доступа к main_personal_doc.\n        \"\"\"\n        with allure.step('Проверка доступа owner_client к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = owner_client.post(**get_document_endpoint(document_id=main_space_doc, space_id=main_space))\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:86: AssertionError","steps":[{"name":"Проверка доступа owner_client к основному документу MAIN_SPACE_DOC_ID","time":{"start":1762155140219,"stop":1762155140382,"duration":163},"status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_matrix_access_docs.py\", line 86, in test_owner_client_document_access\n    assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_matrix_access_docs"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2549-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_matrix_access_docs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":16,"broken":0,"skipped":0,"passed":40,"unknown":0,"total":56},"items":[{"uid":"3a34649fe8ab8372","reportUrl":"https://vaizcom.github.io/autotests/404//#testresult/3a34649fe8ab8372","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761921876459,"stop":1761921876579,"duration":120}},{"uid":"2f2148bcdc4a9b3e","reportUrl":"https://vaizcom.github.io/autotests/404//#testresult/2f2148bcdc4a9b3e","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761912187331,"stop":1761912187464,"duration":133}},{"uid":"78cc8002129116b5","reportUrl":"https://vaizcom.github.io/autotests/403//#testresult/78cc8002129116b5","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761911298959,"stop":1761911299137,"duration":178}},{"uid":"8df5e045d4f651d4","reportUrl":"https://vaizcom.github.io/autotests/402//#testresult/8df5e045d4f651d4","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761910910972,"stop":1761910911096,"duration":124}},{"uid":"9e1fae25228c5a2a","reportUrl":"https://vaizcom.github.io/autotests/401//#testresult/9e1fae25228c5a2a","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761910612878,"stop":1761910612993,"duration":115}},{"uid":"976832bc8a1a351a","reportUrl":"https://vaizcom.github.io/autotests/400//#testresult/976832bc8a1a351a","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761910004242,"stop":1761910004417,"duration":175}},{"uid":"dd8a1132b36f58d5","reportUrl":"https://vaizcom.github.io/autotests/399//#testresult/dd8a1132b36f58d5","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761900035898,"stop":1761900036073,"duration":175}},{"uid":"57be455fd34cddd8","reportUrl":"https://vaizcom.github.io/autotests/398//#testresult/57be455fd34cddd8","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761835056844,"stop":1761835056958,"duration":114}},{"uid":"abbd4174126b2bfa","reportUrl":"https://vaizcom.github.io/autotests/397//#testresult/abbd4174126b2bfa","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761834640986,"stop":1761834641160,"duration":174}},{"uid":"b1cdadfd85cafb1a","reportUrl":"https://vaizcom.github.io/autotests/396//#testresult/b1cdadfd85cafb1a","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761833477036,"stop":1761833477217,"duration":181}},{"uid":"2c449387338789e8","reportUrl":"https://vaizcom.github.io/autotests/395//#testresult/2c449387338789e8","status":"passed","time":{"start":1761821704940,"stop":1761821705516,"duration":576}},{"uid":"a20c43bc91d9e88","reportUrl":"https://vaizcom.github.io/autotests/394//#testresult/a20c43bc91d9e88","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761818765317,"stop":1761818765494,"duration":177}},{"uid":"d537d73fb10310be","reportUrl":"https://vaizcom.github.io/autotests/393//#testresult/d537d73fb10310be","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761748628873,"stop":1761748629248,"duration":375}},{"uid":"d1c2160047c84053","reportUrl":"https://vaizcom.github.io/autotests/393//#testresult/d1c2160047c84053","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761747904608,"stop":1761747904790,"duration":182}},{"uid":"4306c137f9fa797e","reportUrl":"https://vaizcom.github.io/autotests/391//#testresult/4306c137f9fa797e","status":"passed","time":{"start":1761746869379,"stop":1761746870249,"duration":870}},{"uid":"df4f83d42e16a88d","reportUrl":"https://vaizcom.github.io/autotests/392//#testresult/df4f83d42e16a88d","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761745737501,"stop":1761745737625,"duration":124}},{"uid":"75f01e86cee66eec","reportUrl":"https://vaizcom.github.io/autotests/391//#testresult/75f01e86cee66eec","status":"passed","time":{"start":1761576710748,"stop":1761576711472,"duration":724}},{"uid":"dc5a53ed35b54f9f","reportUrl":"https://vaizcom.github.io/autotests/390//#testresult/dc5a53ed35b54f9f","status":"passed","time":{"start":1761557361436,"stop":1761557362008,"duration":572}},{"uid":"77a1469eaacb1fb9","reportUrl":"https://vaizcom.github.io/autotests/389//#testresult/77a1469eaacb1fb9","status":"passed","time":{"start":1761308585525,"stop":1761308586125,"duration":600}},{"uid":"9df68d1967802c32","reportUrl":"https://vaizcom.github.io/autotests/388//#testresult/9df68d1967802c32","status":"passed","time":{"start":1761306746975,"stop":1761306747593,"duration":618}}]},"tags":["backend"]},"source":"82278509e8fe9f8b.json","parameterValues":[]}