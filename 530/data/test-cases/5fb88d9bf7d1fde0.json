{"uid":"5fb88d9bf7d1fde0","name":"Multiple edit Tasks: некорректный assigneeId статус 400 !!! тест должен упасть после исправления бага CCSS-31512 !!! ","fullName":"tests.test_backend.task_service.multiple_edit_tasks.test_multiple_edit_tasks_assignees#test_multiple_edit_tasks_invalid_assignee_id","historyId":"87fa58ddd0747823b3bcde7380af17b7","time":{"start":1768298719442,"stop":1768298719561,"duration":119},"description":"\n    Передаём валидный и заведомо некорректный идентификаторы ассайни (у второго последняя цифра заменена на 0).\n    Ожидаем HTTP 400 и корректное сообщение об ошибке.\n    Баг: CCSS-31512. сейчас статус 200 !!!! тест должен упасть после исправления бага !!!\n    так как Api только для внутреннего использования баг не сильно кретичен, но нужно будет учесть в OpenApi\n    ","descriptionHtml":"<pre><code>Передаём валидный и заведомо некорректный идентификаторы ассайни (у второго последняя цифра заменена на 0).\nОжидаем HTTP 400 и корректное сообщение об ошибке.\nБаг: CCSS-31512. сейчас статус 200 !!!! тест должен упасть после исправления бага !!!\nтак как Api только для внутреннего использования баг не сильно кретичен, но нужно будет учесть в OpenApi\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\nmain_space = '6866309d85fb8d104544a61e', main_board = '6866731185fb8d104544e826'\nmain_personal = {'guest': ['686630dd85fb8d104544aac8'], 'main': ['6866309d85fb8d104544a620'], 'manager': ['6866313985fb8d104544ab6c'], 'member': ['6866310b85fb8d104544ab1d'], ...}\nmake_task_in_main = <function make_task_in_main.<locals>._create_task at 0x7f78ed6c2200>\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Multiple Edit Tasks\")\n    @allure.title(\"Multiple edit Tasks: некорректный assigneeId статус 400 !!! тест должен упасть после исправления бага CCSS-31512 !!! \")\n    def test_multiple_edit_tasks_invalid_assignee_id(owner_client, main_space, main_board, main_personal, make_task_in_main):\n        \"\"\"\n        Передаём валидный и заведомо некорректный идентификаторы ассайни (у второго последняя цифра заменена на 0).\n        Ожидаем HTTP 400 и корректное сообщение об ошибке.\n        Баг: CCSS-31512. сейчас статус 200 !!!! тест должен упасть после исправления бага !!!\n        так как Api только для внутреннего использования баг не сильно кретичен, но нужно будет учесть в OpenApi\n        \"\"\"\n        with allure.step(\"Готовим валидные данные и генерируем невалидный assigneeId\"):\n            valid_assignee = main_personal[\"member\"][0]\n>           valid_task = make_task_in_main({\"name\": \"Valid task\"})\n\ntests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_assignees.py:151: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nbody_overrides = {'name': 'Valid task'}\n\n    def _create_task(body_overrides: dict):\n        body = {\n            \"space_id\": main_space,\n            \"board\": main_board\n        }\n        # объединим остальные поля в create_task_endpoint через kwargs\n        resp = owner_client.post(**create_task_endpoint(**body, **body_overrides))\n>       assert resp.status_code == 200, resp.text\nE       AssertionError: <html>\r\nE         <head><title>503 Service Temporarily Unavailable</title></head>\r\nE         <body>\r\nE         <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE         <hr><center>nginx</center>\r\nE         </body>\r\nE         </html>\r\nE         \nE       assert 503 == 200\nE        +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/conftest.py:126: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1768298486051,"stop":1768298486554,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1768298488144,"stop":1768298488609,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1768298488609,"stop":1768298489052,"duration":443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1768298493063,"stop":1768298493283,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_personal","time":{"start":1768298521556,"stop":1768298521855,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"make_task_in_main","time":{"start":1768298719442,"stop":1768298719442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Передаём валидный и заведомо некорректный идентификаторы ассайни (у второго последняя цифра заменена на 0).\n    Ожидаем HTTP 400 и корректное сообщение об ошибке.\n    Баг: CCSS-31512. сейчас статус 200 !!!! тест должен упасть после исправления бага !!!\n    так как Api только для внутреннего использования баг не сильно кретичен, но нужно будет учесть в OpenApi\n    ","status":"failed","statusMessage":"AssertionError: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\nmain_space = '6866309d85fb8d104544a61e', main_board = '6866731185fb8d104544e826'\nmain_personal = {'guest': ['686630dd85fb8d104544aac8'], 'main': ['6866309d85fb8d104544a620'], 'manager': ['6866313985fb8d104544ab6c'], 'member': ['6866310b85fb8d104544ab1d'], ...}\nmake_task_in_main = <function make_task_in_main.<locals>._create_task at 0x7f78ed6c2200>\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Multiple Edit Tasks\")\n    @allure.title(\"Multiple edit Tasks: некорректный assigneeId статус 400 !!! тест должен упасть после исправления бага CCSS-31512 !!! \")\n    def test_multiple_edit_tasks_invalid_assignee_id(owner_client, main_space, main_board, main_personal, make_task_in_main):\n        \"\"\"\n        Передаём валидный и заведомо некорректный идентификаторы ассайни (у второго последняя цифра заменена на 0).\n        Ожидаем HTTP 400 и корректное сообщение об ошибке.\n        Баг: CCSS-31512. сейчас статус 200 !!!! тест должен упасть после исправления бага !!!\n        так как Api только для внутреннего использования баг не сильно кретичен, но нужно будет учесть в OpenApi\n        \"\"\"\n        with allure.step(\"Готовим валидные данные и генерируем невалидный assigneeId\"):\n            valid_assignee = main_personal[\"member\"][0]\n>           valid_task = make_task_in_main({\"name\": \"Valid task\"})\n\ntests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_assignees.py:151: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nbody_overrides = {'name': 'Valid task'}\n\n    def _create_task(body_overrides: dict):\n        body = {\n            \"space_id\": main_space,\n            \"board\": main_board\n        }\n        # объединим остальные поля в create_task_endpoint через kwargs\n        resp = owner_client.post(**create_task_endpoint(**body, **body_overrides))\n>       assert resp.status_code == 200, resp.text\nE       AssertionError: <html>\r\nE         <head><title>503 Service Temporarily Unavailable</title></head>\r\nE         <body>\r\nE         <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE         <hr><center>nginx</center>\r\nE         </body>\r\nE         </html>\r\nE         \nE       assert 503 == 200\nE        +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/conftest.py:126: AssertionError","steps":[{"name":"Готовим валидные данные и генерируем невалидный assigneeId","time":{"start":1768298719442,"stop":1768298719561,"duration":119},"status":"failed","statusMessage":"AssertionError: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_assignees.py\", line 151, in test_multiple_edit_tasks_invalid_assignee_id\n    valid_task = make_task_in_main({\"name\": \"Valid task\"})\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/conftest.py\", line 126, in _create_task\n    assert resp.status_code == 200, resp.text\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"make_task_in_main::0","time":{"start":1768298719568,"stop":1768298719568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Multiple Edit Tasks"},{"name":"parentSuite","value":"Task Service"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.multiple_edit_tasks.test_multiple_edit_tasks_assignees"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":46,"unknown":0,"total":50},"items":[{"uid":"b91051e603a53d04","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/b91051e603a53d04","status":"passed","time":{"start":1767850466509,"stop":1767850467495,"duration":986}},{"uid":"8d72f7cd296711a4","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/8d72f7cd296711a4","status":"passed","time":{"start":1766508307108,"stop":1766508308188,"duration":1080}},{"uid":"e3e3be25daad5469","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/e3e3be25daad5469","status":"passed","time":{"start":1766507020076,"stop":1766507021423,"duration":1347}},{"uid":"34c468f7c8aced12","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/34c468f7c8aced12","status":"passed","time":{"start":1766505856738,"stop":1766505857992,"duration":1254}},{"uid":"72f881cfd70c2506","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/72f881cfd70c2506","status":"passed","time":{"start":1766504759769,"stop":1766504760875,"duration":1106}},{"uid":"1792bf4c97db5502","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/1792bf4c97db5502","status":"passed","time":{"start":1766503477227,"stop":1766503478164,"duration":937}},{"uid":"50e9b28e82e1fde","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/50e9b28e82e1fde","status":"passed","time":{"start":1766497629909,"stop":1766497630960,"duration":1051}},{"uid":"cadffeb344888523","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/cadffeb344888523","status":"passed","time":{"start":1766489246035,"stop":1766489246986,"duration":951}},{"uid":"8c25bf4de3758405","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/8c25bf4de3758405","status":"passed","time":{"start":1766487942758,"stop":1766487943737,"duration":979}},{"uid":"c9efa08e8f43f0f2","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/c9efa08e8f43f0f2","status":"passed","time":{"start":1766412784001,"stop":1766412785293,"duration":1292}},{"uid":"5069ea0421ffe3e8","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/5069ea0421ffe3e8","status":"passed","time":{"start":1766406648622,"stop":1766406649557,"duration":935}},{"uid":"7f5a553ebd812ebb","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/7f5a553ebd812ebb","status":"passed","time":{"start":1766404364678,"stop":1766404365736,"duration":1058}},{"uid":"56a3016fa3a71c1d","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/56a3016fa3a71c1d","status":"passed","time":{"start":1766403032335,"stop":1766403033349,"duration":1014}},{"uid":"bf452647b8b2b22","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/bf452647b8b2b22","status":"passed","time":{"start":1766067936752,"stop":1766067937802,"duration":1050}},{"uid":"54ea9ad0709e6f4","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/54ea9ad0709e6f4","status":"passed","time":{"start":1766043347654,"stop":1766043348703,"duration":1049}},{"uid":"4f7af34a332fad83","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/4f7af34a332fad83","status":"passed","time":{"start":1765984819724,"stop":1765984823440,"duration":3716}},{"uid":"e2c6f4f2ef065f33","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/e2c6f4f2ef065f33","status":"passed","time":{"start":1765976111707,"stop":1765976112831,"duration":1124}},{"uid":"c3f7af19600ca541","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/c3f7af19600ca541","status":"passed","time":{"start":1765892312799,"stop":1765892313991,"duration":1192}},{"uid":"a757bebdc94bc658","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/a757bebdc94bc658","status":"passed","time":{"start":1765890482072,"stop":1765890483573,"duration":1501}},{"uid":"f68ac70c8ae98c46","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/f68ac70c8ae98c46","status":"passed","time":{"start":1765881616995,"stop":1765881618374,"duration":1379}}]},"tags":["backend"]},"source":"5fb88d9bf7d1fde0.json","parameterValues":[]}