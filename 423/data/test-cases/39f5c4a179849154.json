{"uid":"39f5c4a179849154","name":"Создание Project-документа для роли owner","fullName":"tests.test_backend.document.access_doc.test_create_doc_access_by_roles#test_create_and_archive_project_doc_access_by_roles","historyId":"0d0a3e9396dfba82a041484969c56ee3","time":{"start":1762517727080,"stop":1762517727234,"duration":154},"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_and_archive_project_doc_access_by_roles[owner]>>\nmain_project = '686672af85fb8d104544e798'\nmain_space = '6866309d85fb8d104544a61e', client_fixture = 'owner_client'\nexpected_status = 200\n\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 200),\n            ('guest_client', 403),\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_create_and_archive_project_doc_access_by_roles(\n        request, main_project, main_space, client_fixture, expected_status\n    ):\n        api_client = request.getfixturevalue(client_fixture)\n        role = client_fixture.replace('_client', '')\n        current_date = datetime.now().strftime('%Y.%m.%d_%H:%M:%S')\n        title = f'{current_date} Project Doc'\n    \n        allure.dynamic.title(f'Создание Project-документа для роли {role}')\n    \n        with allure.step(f'{role} создаёт Project-документ, {expected_status}'):\n            resp = api_client.post(\n                **create_document_endpoint(kind='Project', kind_id=main_project, space_id=main_space, title=title)\n            )\n>           assert resp.status_code == expected_status\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_create_doc_access_by_roles.py:77: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_and_archive_project_doc_access_by_roles[owner]>>\nmain_project = '686672af85fb8d104544e798'\nmain_space = '6866309d85fb8d104544a61e', client_fixture = 'owner_client'\nexpected_status = 200\n\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 200),\n            ('guest_client', 403),\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_create_and_archive_project_doc_access_by_roles(\n        request, main_project, main_space, client_fixture, expected_status\n    ):\n        api_client = request.getfixturevalue(client_fixture)\n        role = client_fixture.replace('_client', '')\n        current_date = datetime.now().strftime('%Y.%m.%d_%H:%M:%S')\n        title = f'{current_date} Project Doc'\n    \n        allure.dynamic.title(f'Создание Project-документа для роли {role}')\n    \n        with allure.step(f'{role} создаёт Project-документ, {expected_status}'):\n            resp = api_client.post(\n                **create_document_endpoint(kind='Project', kind_id=main_project, space_id=main_space, title=title)\n            )\n>           assert resp.status_code == expected_status\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_create_doc_access_by_roles.py:77: AssertionError","steps":[{"name":"owner создаёт Project-документ, 200","time":{"start":1762517727080,"stop":1762517727234,"duration":154},"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_create_doc_access_by_roles.py\", line 77, in test_create_and_archive_project_doc_access_by_roles\n    assert resp.status_code == expected_status\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_create_doc_access_by_roles"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2576-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_create_doc_access_by_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'owner_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":15,"unknown":0,"total":19},"items":[{"uid":"42a2ead55d977330","reportUrl":"https://vaizcom.github.io/autotests/422/#testresult/42a2ead55d977330","status":"passed","time":{"start":1762516932457,"stop":1762516933061,"duration":604}},{"uid":"f3f674d6598c5f1a","reportUrl":"https://vaizcom.github.io/autotests/421/#testresult/f3f674d6598c5f1a","status":"failed","statusDetails":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1762516772537,"stop":1762516772672,"duration":135}},{"uid":"93eb6f3151e2fbbc","reportUrl":"https://vaizcom.github.io/autotests/421/#testresult/93eb6f3151e2fbbc","status":"failed","statusDetails":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1762516308062,"stop":1762516308190,"duration":128}},{"uid":"12fd21ab85fe7d68","reportUrl":"https://vaizcom.github.io/autotests/421/#testresult/12fd21ab85fe7d68","status":"failed","statusDetails":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1762514765099,"stop":1762514765230,"duration":131}},{"uid":"eb9766f4869cd195","reportUrl":"https://vaizcom.github.io/autotests/420/#testresult/eb9766f4869cd195","status":"passed","time":{"start":1762507448195,"stop":1762507448730,"duration":535}},{"uid":"bff3fb1fba0792ea","reportUrl":"https://vaizcom.github.io/autotests/420/#testresult/bff3fb1fba0792ea","status":"passed","time":{"start":1762506147225,"stop":1762506147699,"duration":474}},{"uid":"4fe90a4ed9242f16","reportUrl":"https://vaizcom.github.io/autotests/419/#testresult/4fe90a4ed9242f16","status":"passed","time":{"start":1762505266753,"stop":1762505267222,"duration":469}},{"uid":"3a51db12acb1e8d4","reportUrl":"https://vaizcom.github.io/autotests/418/#testresult/3a51db12acb1e8d4","status":"passed","time":{"start":1762354240367,"stop":1762354240926,"duration":559}},{"uid":"8c5a679a0a7edc45","reportUrl":"https://vaizcom.github.io/autotests/417/#testresult/8c5a679a0a7edc45","status":"passed","time":{"start":1762353173048,"stop":1762353173594,"duration":546}},{"uid":"5e3be79b0f49f224","reportUrl":"https://vaizcom.github.io/autotests/416/#testresult/5e3be79b0f49f224","status":"passed","time":{"start":1762349762771,"stop":1762349763395,"duration":624}},{"uid":"32332d059addb8ef","reportUrl":"https://vaizcom.github.io/autotests/415/#testresult/32332d059addb8ef","status":"passed","time":{"start":1762331775009,"stop":1762331775547,"duration":538}},{"uid":"fa5031fdc865fa2b","reportUrl":"https://vaizcom.github.io/autotests/414/#testresult/fa5031fdc865fa2b","status":"passed","time":{"start":1762328783714,"stop":1762328784284,"duration":570}},{"uid":"3f548d4bc2fa2685","reportUrl":"https://vaizcom.github.io/autotests/413/#testresult/3f548d4bc2fa2685","status":"passed","time":{"start":1762270398931,"stop":1762270399471,"duration":540}},{"uid":"25706d02f7280265","reportUrl":"https://vaizcom.github.io/autotests/412/#testresult/25706d02f7280265","status":"passed","time":{"start":1762269534482,"stop":1762269535272,"duration":790}},{"uid":"3d808cf5a88e6062","reportUrl":"https://vaizcom.github.io/autotests/411/#testresult/3d808cf5a88e6062","status":"passed","time":{"start":1762269395422,"stop":1762269396142,"duration":720}},{"uid":"5ef1000d95ef15e0","reportUrl":"https://vaizcom.github.io/autotests/410/#testresult/5ef1000d95ef15e0","status":"passed","time":{"start":1762269272873,"stop":1762269273336,"duration":463}},{"uid":"d6fbf0a23b5ecb48","reportUrl":"https://vaizcom.github.io/autotests/409/#testresult/d6fbf0a23b5ecb48","status":"passed","time":{"start":1762268653547,"stop":1762268654014,"duration":467}},{"uid":"7e31c31b79fa44cd","reportUrl":"https://vaizcom.github.io/autotests/408/#testresult/7e31c31b79fa44cd","status":"passed","time":{"start":1762244985805,"stop":1762244986435,"duration":630}}]},"tags":["backend"]},"source":"39f5c4a179849154.json","parameterValues":["'owner_client'","200"]}