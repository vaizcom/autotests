{"uid":"121bc76ad2a65d40","name":"Негативный экспорт Y-Doc для document_id=","fullName":"tests.test_backend.document.test_get_y_document#test_get_ydocument_invalid_id","historyId":"67c17837a711787277c3356df1734d1c","time":{"start":1768298699198,"stop":1768298699328,"duration":130},"description":"\n    Негативный сценарий: разные некорректные document_id.\n    ","descriptionHtml":"<pre><code>Негативный сценарий: разные некорректные document_id.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\ntemp_space = '696617fe3f4e1998752138fd', fake_id = '', expected_status = 400\n\n    @allure.parent_suite(\"Document Service\")\n    @pytest.mark.parametrize(\n        'fake_id, expected_status',\n        [\n            ('000000000000000000000000', 400),\n            ('', 400),\n            (None, 400),\n        ],\n        ids=['not_found', 'empty', 'null'],\n    )\n    def test_get_ydocument_invalid_id(owner_client, temp_space, fake_id, expected_status):\n        \"\"\"\n        Негативный сценарий: разные некорректные document_id.\n        \"\"\"\n        allure.dynamic.title(f'Негативный экспорт Y-Doc для document_id={fake_id}')\n        with allure.step('Выполняем запрос с некорректным document_id'):\n            endpoint = get_ydocument_endpoint(document_id=fake_id, space_id=temp_space)\n            resp = owner_client.post(**endpoint)\n>           assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\nE           AssertionError: Ожидался 400, получен 503\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_y_document.py:72: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1768298486051,"stop":1768298486554,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_space","time":{"start":1768298494378,"stop":1768298494959,"duration":581},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Негативный сценарий: разные некорректные document_id.\n    ","status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\ntemp_space = '696617fe3f4e1998752138fd', fake_id = '', expected_status = 400\n\n    @allure.parent_suite(\"Document Service\")\n    @pytest.mark.parametrize(\n        'fake_id, expected_status',\n        [\n            ('000000000000000000000000', 400),\n            ('', 400),\n            (None, 400),\n        ],\n        ids=['not_found', 'empty', 'null'],\n    )\n    def test_get_ydocument_invalid_id(owner_client, temp_space, fake_id, expected_status):\n        \"\"\"\n        Негативный сценарий: разные некорректные document_id.\n        \"\"\"\n        allure.dynamic.title(f'Негативный экспорт Y-Doc для document_id={fake_id}')\n        with allure.step('Выполняем запрос с некорректным document_id'):\n            endpoint = get_ydocument_endpoint(document_id=fake_id, space_id=temp_space)\n            resp = owner_client.post(**endpoint)\n>           assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\nE           AssertionError: Ожидался 400, получен 503\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_y_document.py:72: AssertionError","steps":[{"name":"Выполняем запрос с некорректным document_id","time":{"start":1768298699198,"stop":1768298699327,"duration":129},"status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_get_y_document.py\", line 72, in test_get_ydocument_invalid_id\n    assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_space::0","time":{"start":1768298720251,"stop":1768298720369,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"Document Service"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_get_y_document"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_y_document"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"expected_status","value":"400"},{"name":"fake_id","value":"''"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":120,"unknown":0,"total":126},"items":[{"uid":"d8b94a8b950d3b3c","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/d8b94a8b950d3b3c","status":"passed","time":{"start":1767849992468,"stop":1767849992689,"duration":221}},{"uid":"863f9fde63f15716","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/863f9fde63f15716","status":"passed","time":{"start":1766507886770,"stop":1766507887020,"duration":250}},{"uid":"70407d31c290cdab","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/70407d31c290cdab","status":"passed","time":{"start":1766506538351,"stop":1766506538610,"duration":259}},{"uid":"4c34f60291ad06b1","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/4c34f60291ad06b1","status":"passed","time":{"start":1766505392670,"stop":1766505392923,"duration":253}},{"uid":"139c85861ada1cd4","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/139c85861ada1cd4","status":"passed","time":{"start":1766504313593,"stop":1766504313797,"duration":204}},{"uid":"7646593f98df8104","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/7646593f98df8104","status":"passed","time":{"start":1766503075280,"stop":1766503075468,"duration":188}},{"uid":"5a0310088e01ba60","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/5a0310088e01ba60","status":"passed","time":{"start":1766497216906,"stop":1766497217097,"duration":191}},{"uid":"ffa5e019d654c699","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/ffa5e019d654c699","status":"passed","time":{"start":1766488864875,"stop":1766488865079,"duration":204}},{"uid":"16f71aadb766ef7e","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/16f71aadb766ef7e","status":"passed","time":{"start":1766487458858,"stop":1766487460045,"duration":1187}},{"uid":"a22bf99189fc2d9f","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/a22bf99189fc2d9f","status":"passed","time":{"start":1766412348533,"stop":1766412348736,"duration":203}},{"uid":"cde193f04561e1da","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/cde193f04561e1da","status":"passed","time":{"start":1766406301766,"stop":1766406301977,"duration":211}},{"uid":"13563c824ddd1fbf","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/13563c824ddd1fbf","status":"passed","time":{"start":1766403969545,"stop":1766403969772,"duration":227}},{"uid":"b3c018ecea8baa18","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/b3c018ecea8baa18","status":"passed","time":{"start":1766402562079,"stop":1766402562334,"duration":255}},{"uid":"497dc02e3aeb5772","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/497dc02e3aeb5772","status":"passed","time":{"start":1766067477159,"stop":1766067478873,"duration":1714}},{"uid":"a0ddc8a173975b1c","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/a0ddc8a173975b1c","status":"passed","time":{"start":1766042895212,"stop":1766042895401,"duration":189}},{"uid":"78fa79243ed73163","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/78fa79243ed73163","status":"passed","time":{"start":1765984285091,"stop":1765984285346,"duration":255}},{"uid":"7ca582a3bf013e98","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/7ca582a3bf013e98","status":"passed","time":{"start":1765975618157,"stop":1765975618359,"duration":202}},{"uid":"2bea3c71796b422b","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/2bea3c71796b422b","status":"passed","time":{"start":1765891825859,"stop":1765891826115,"duration":256}},{"uid":"c13c1a24a79d29fb","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/c13c1a24a79d29fb","status":"passed","time":{"start":1765890017582,"stop":1765890017841,"duration":259}},{"uid":"812e120a70483d15","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/812e120a70483d15","status":"passed","time":{"start":1765881177497,"stop":1765881177714,"duration":217}}]},"tags":["backend"]},"source":"121bc76ad2a65d40.json","parameterValues":["400","''"]}