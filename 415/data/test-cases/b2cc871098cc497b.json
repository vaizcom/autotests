{"uid":"b2cc871098cc497b","name":"Негативный тест на доступ к борде: клиент=project_client, ожидаемый статус=403","fullName":"tests.test_backend.board.access_board.test_matrix_access_board#test_negative_access_to_board","historyId":"75c686ec148757504f7e54bb761fe30e","time":{"start":1762331745272,"stop":1762331745272,"duration":0},"description":"\n    Test to verify negative access scenarios for a board.\n\n    This test validates that a client cannot access a board in various scenarios\n    when they do not have sufficient permissions. The test ensures that an appropriate\n    error response is returned along with the correct status code and error structure.\n    ","descriptionHtml":"<pre><code>Test to verify negative access scenarios for a board.\n\nThis test validates that a client cannot access a board in various scenarios\nwhen they do not have sufficient permissions. The test ensures that an appropriate\nerror response is returned along with the correct status code and error structure.\n</code></pre>\n","status":"broken","statusMessage":"_pytest.fixtures.FixtureLookupError: ('project_client', <FixtureRequest for <Function test_negative_access_to_board[project_client]>>)","statusTrace":"file /home/runner/work/autotests/autotests/tests/test_backend/board/access_board/test_matrix_access_board.py, line 11\n  @pytest.mark.parametrize(\n      'client_fixture, expected_status, expected_error_code',\n      [\n          ('foreign_client', 403, 'AccessDenied'),  # Пользователь не имеет доступа к space\n          ('space_client_memb', 403, 'AccessDenied'),  # Пользователь имеет доступ к space, но не к проекту и борде\n          ('project_client', 403, 'AccessDenied'),  # Пользователь имеет доступ к space и проекту, но не к борде\n      ],\n      ids=['foreign_client', 'space_client', 'project_client'],\n  )\n  def test_negative_access_to_board(\nE       fixture 'project_client' not found\n>       available fixtures: _verify_url, base_url, board_with_tasks, browser, browser_channel, browser_context_args, browser_name, browser_type, browser_type_launch_args, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, client_with_access_only_in_project, client_with_access_only_in_space, context, create_main_documents, delete_output_dir, device, doctest_namespace, foreign_client, foreign_space, guest_client, is_chromium, is_firefox, is_webkit, launch_browser, main_board, main_client, main_personal, main_personal_doc, main_project, main_project_doc, main_space, main_space_doc, manager_client, member_client, member_id_function, member_id_module, monkeypatch, owner_client, page, playwright, project_id_function, project_id_module, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, space_id_function, space_id_module, temp_board, temp_document, temp_member, temp_project, temp_space, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/autotests/autotests/tests/test_backend/board/access_board/test_matrix_access_board.py:11","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1762331739976,"stop":1762331739976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762331739976,"stop":1762331739976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762331739976,"stop":1762331739976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1762331739976,"stop":1762331740434,"duration":458},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762331739976,"stop":1762331739976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1762331740434,"stop":1762331741028,"duration":594},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1762331744595,"stop":1762331744798,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Test to verify negative access scenarios for a board.\n\n    This test validates that a client cannot access a board in various scenarios\n    when they do not have sufficient permissions. The test ensures that an appropriate\n    error response is returned along with the correct status code and error structure.\n    ","status":"broken","statusMessage":"_pytest.fixtures.FixtureLookupError: ('project_client', <FixtureRequest for <Function test_negative_access_to_board[project_client]>>)","statusTrace":"file /home/runner/work/autotests/autotests/tests/test_backend/board/access_board/test_matrix_access_board.py, line 11\n  @pytest.mark.parametrize(\n      'client_fixture, expected_status, expected_error_code',\n      [\n          ('foreign_client', 403, 'AccessDenied'),  # Пользователь не имеет доступа к space\n          ('space_client_memb', 403, 'AccessDenied'),  # Пользователь имеет доступ к space, но не к проекту и борде\n          ('project_client', 403, 'AccessDenied'),  # Пользователь имеет доступ к space и проекту, но не к борде\n      ],\n      ids=['foreign_client', 'space_client', 'project_client'],\n  )\n  def test_negative_access_to_board(\nE       fixture 'project_client' not found\n>       available fixtures: _verify_url, base_url, board_with_tasks, browser, browser_channel, browser_context_args, browser_name, browser_type, browser_type_launch_args, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, client_with_access_only_in_project, client_with_access_only_in_space, context, create_main_documents, delete_output_dir, device, doctest_namespace, foreign_client, foreign_space, guest_client, is_chromium, is_firefox, is_webkit, launch_browser, main_board, main_client, main_personal, main_personal_doc, main_project, main_project_doc, main_space, main_space_doc, manager_client, member_client, member_id_function, member_id_module, monkeypatch, owner_client, page, playwright, project_id_function, project_id_module, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, space_id_function, space_id_module, temp_board, temp_document, temp_member, temp_project, temp_space, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/autotests/autotests/tests/test_backend/board/access_board/test_matrix_access_board.py:11","steps":[{"name":"Получение клиента: project_client","time":{"start":1762331745272,"stop":1762331745272,"duration":0},"status":"broken","statusMessage":"_pytest.fixtures.FixtureLookupError: ('project_client', <FixtureRequest for <Function test_negative_access_to_board[project_client]>>)\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/board/access_board/test_matrix_access_board.py\", line 35, in test_negative_access_to_board\n    client = request.getfixturevalue(client_fixture)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 574, in _get_active_fixturedef\n    raise FixtureLookupError(argname, self)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.board.access_board"},{"name":"suite","value":"test_matrix_access_board"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2591-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.board.access_board.test_matrix_access_board"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'project_client'"},{"name":"expected_error_code","value":"'AccessDenied'"},{"name":"expected_status","value":"403"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":7,"unknown":0,"total":8},"items":[{"uid":"231dae2dcb910446","reportUrl":"https://vaizcom.github.io/autotests/414/#testresult/231dae2dcb910446","status":"passed","time":{"start":1762328747326,"stop":1762328747886,"duration":560}},{"uid":"d2771026b285ef59","reportUrl":"https://vaizcom.github.io/autotests/413/#testresult/d2771026b285ef59","status":"passed","time":{"start":1762270361564,"stop":1762270362687,"duration":1123}},{"uid":"90350d3b29bc32c4","reportUrl":"https://vaizcom.github.io/autotests/412/#testresult/90350d3b29bc32c4","status":"passed","time":{"start":1762269491899,"stop":1762269492404,"duration":505}},{"uid":"5e6dd47ab7a7fa1","reportUrl":"https://vaizcom.github.io/autotests/411/#testresult/5e6dd47ab7a7fa1","status":"passed","time":{"start":1762269354845,"stop":1762269355423,"duration":578}},{"uid":"5f079fbb48a44dd4","reportUrl":"https://vaizcom.github.io/autotests/410/#testresult/5f079fbb48a44dd4","status":"passed","time":{"start":1762269243530,"stop":1762269244206,"duration":676}},{"uid":"e45f2b0bcd4237ea","reportUrl":"https://vaizcom.github.io/autotests/409/#testresult/e45f2b0bcd4237ea","status":"passed","time":{"start":1762268622793,"stop":1762268623437,"duration":644}},{"uid":"74bfb488470bebe5","reportUrl":"https://vaizcom.github.io/autotests/408/#testresult/74bfb488470bebe5","status":"passed","time":{"start":1762244946131,"stop":1762244946705,"duration":574}}]},"tags":["backend"]},"source":"b2cc871098cc497b.json","parameterValues":["'project_client'","'AccessDenied'","403"]}