{"uid":"6bb83b8831c6d673","name":"Негативный экспорт Y-Doc для document_id=000000000000000000000000","fullName":"tests.test_backend.document.test_get_y_document#test_get_ydocument_invalid_id","historyId":"df734bad064435f4b5227a69032219a7","time":{"start":1768298699073,"stop":1768298699193,"duration":120},"description":"\n    Негативный сценарий: разные некорректные document_id.\n    ","descriptionHtml":"<pre><code>Негативный сценарий: разные некорректные document_id.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\ntemp_space = '696617fe3f4e1998752138fd', fake_id = '000000000000000000000000'\nexpected_status = 400\n\n    @allure.parent_suite(\"Document Service\")\n    @pytest.mark.parametrize(\n        'fake_id, expected_status',\n        [\n            ('000000000000000000000000', 400),\n            ('', 400),\n            (None, 400),\n        ],\n        ids=['not_found', 'empty', 'null'],\n    )\n    def test_get_ydocument_invalid_id(owner_client, temp_space, fake_id, expected_status):\n        \"\"\"\n        Негативный сценарий: разные некорректные document_id.\n        \"\"\"\n        allure.dynamic.title(f'Негативный экспорт Y-Doc для document_id={fake_id}')\n        with allure.step('Выполняем запрос с некорректным document_id'):\n            endpoint = get_ydocument_endpoint(document_id=fake_id, space_id=temp_space)\n            resp = owner_client.post(**endpoint)\n>           assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\nE           AssertionError: Ожидался 400, получен 503\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_y_document.py:72: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1768298486051,"stop":1768298486554,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_space","time":{"start":1768298494378,"stop":1768298494959,"duration":581},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Негативный сценарий: разные некорректные document_id.\n    ","status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\ntemp_space = '696617fe3f4e1998752138fd', fake_id = '000000000000000000000000'\nexpected_status = 400\n\n    @allure.parent_suite(\"Document Service\")\n    @pytest.mark.parametrize(\n        'fake_id, expected_status',\n        [\n            ('000000000000000000000000', 400),\n            ('', 400),\n            (None, 400),\n        ],\n        ids=['not_found', 'empty', 'null'],\n    )\n    def test_get_ydocument_invalid_id(owner_client, temp_space, fake_id, expected_status):\n        \"\"\"\n        Негативный сценарий: разные некорректные document_id.\n        \"\"\"\n        allure.dynamic.title(f'Негативный экспорт Y-Doc для document_id={fake_id}')\n        with allure.step('Выполняем запрос с некорректным document_id'):\n            endpoint = get_ydocument_endpoint(document_id=fake_id, space_id=temp_space)\n            resp = owner_client.post(**endpoint)\n>           assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\nE           AssertionError: Ожидался 400, получен 503\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_y_document.py:72: AssertionError","steps":[{"name":"Выполняем запрос с некорректным document_id","time":{"start":1768298699073,"stop":1768298699193,"duration":120},"status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_get_y_document.py\", line 72, in test_get_ydocument_invalid_id\n    assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_space::0","time":{"start":1768298720251,"stop":1768298720369,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"Document Service"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_get_y_document"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_y_document"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"expected_status","value":"400"},{"name":"fake_id","value":"'000000000000000000000000'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":120,"unknown":0,"total":126},"items":[{"uid":"4eafab323564a3a0","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/4eafab323564a3a0","status":"passed","time":{"start":1767849992242,"stop":1767849992466,"duration":224}},{"uid":"419b8a2875c388d9","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/419b8a2875c388d9","status":"passed","time":{"start":1766507886542,"stop":1766507886768,"duration":226}},{"uid":"17b5604626b8cb83","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/17b5604626b8cb83","status":"passed","time":{"start":1766506538080,"stop":1766506538349,"duration":269}},{"uid":"eb42e31289fca4f6","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/eb42e31289fca4f6","status":"passed","time":{"start":1766505392402,"stop":1766505392668,"duration":266}},{"uid":"22489311fc523952","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/22489311fc523952","status":"passed","time":{"start":1766504313375,"stop":1766504313591,"duration":216}},{"uid":"1d685c7097110f9b","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/1d685c7097110f9b","status":"passed","time":{"start":1766503075083,"stop":1766503075278,"duration":195}},{"uid":"36df4b6f6d2dfb36","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/36df4b6f6d2dfb36","status":"passed","time":{"start":1766497216707,"stop":1766497216903,"duration":196}},{"uid":"645ca8592765493","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/645ca8592765493","status":"passed","time":{"start":1766488864680,"stop":1766488864874,"duration":194}},{"uid":"c508de1d1aa3c143","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/c508de1d1aa3c143","status":"passed","time":{"start":1766487458582,"stop":1766487458856,"duration":274}},{"uid":"99290fd1fea248f6","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/99290fd1fea248f6","status":"passed","time":{"start":1766412348322,"stop":1766412348531,"duration":209}},{"uid":"e04427be91e3aa5b","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/e04427be91e3aa5b","status":"passed","time":{"start":1766406300497,"stop":1766406301764,"duration":1267}},{"uid":"b36450a1cb6b31e9","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/b36450a1cb6b31e9","status":"passed","time":{"start":1766403969316,"stop":1766403969543,"duration":227}},{"uid":"1cd4a1952aa17749","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/1cd4a1952aa17749","status":"passed","time":{"start":1766402561853,"stop":1766402562078,"duration":225}},{"uid":"c583cb065831d3fc","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/c583cb065831d3fc","status":"passed","time":{"start":1766067476935,"stop":1766067477157,"duration":222}},{"uid":"882f00842224d02c","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/882f00842224d02c","status":"passed","time":{"start":1766042895020,"stop":1766042895210,"duration":190}},{"uid":"20fca9d515cd4ebf","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/20fca9d515cd4ebf","status":"passed","time":{"start":1765984284811,"stop":1765984285088,"duration":277}},{"uid":"7587b09761dc8b80","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/7587b09761dc8b80","status":"passed","time":{"start":1765975617950,"stop":1765975618155,"duration":205}},{"uid":"215217317d17a20a","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/215217317d17a20a","status":"passed","time":{"start":1765891825586,"stop":1765891825857,"duration":271}},{"uid":"b0d0addc2763adb3","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/b0d0addc2763adb3","status":"passed","time":{"start":1765890017344,"stop":1765890017579,"duration":235}},{"uid":"ffa47a6fcbeba6ff","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/ffa47a6fcbeba6ff","status":"passed","time":{"start":1765881177243,"stop":1765881177494,"duration":251}}]},"tags":["backend"]},"source":"6bb83b8831c6d673.json","parameterValues":["400","'000000000000000000000000'"]}