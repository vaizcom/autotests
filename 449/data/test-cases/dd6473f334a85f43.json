{"uid":"dd6473f334a85f43","name":"Негативный кейс: documentId={'id': '123'}","fullName":"tests.test_backend.document.test_get_document#test_get_document_invalid_input","historyId":"07a993de4eb955e7977a4fc2be5e99d8","time":{"start":1763387974416,"stop":1763387974545,"duration":129},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f061917eb10>\ntemp_space = '691b29650d8887e706faae80', document_id = {'id': '123'}\nexpected_status = 400, expected_error_code = 'InvalidForm'\n\n    @pytest.mark.parametrize(\n        'document_id, expected_status, expected_error_code',\n        [\n            ('nonexistent_id', 400, 'InvalidForm'),\n            (None, 400, 'InvalidForm'),\n            ('', 400, 'InvalidForm'),\n            (123, 400, 'InvalidForm'),\n            ('abc', 400, 'InvalidForm'),\n            ('!@#$', 400, 'InvalidForm'),\n            ({'id': '123'}, 400, 'InvalidForm'),\n        ],\n        ids=['invalid-id', 'missing-id', 'empty-string', 'int-id', 'short-str', 'special-chars', 'json-object'],\n    )\n    def test_get_document_invalid_input(owner_client, temp_space, document_id, expected_status, expected_error_code):\n        allure.dynamic.title(f'Негативный кейс: documentId={document_id}')\n    \n        with allure.step('Отправка запроса с некорректным или отсутствующим documentId'):\n            payload = {'documentId': document_id} if document_id is not None else {}\n            resp = owner_client.post(\n                path='/GetDocument',\n                json=payload,\n                headers={'Content-Type': 'application/json', 'Current-Space-Id': temp_space},\n            )\n>           assert resp.status_code == expected_status\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_document.py:64: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1763387737613,"stop":1763387737917,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_space","time":{"start":1763387748989,"stop":1763387749547,"duration":558},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f061917eb10>\ntemp_space = '691b29650d8887e706faae80', document_id = {'id': '123'}\nexpected_status = 400, expected_error_code = 'InvalidForm'\n\n    @pytest.mark.parametrize(\n        'document_id, expected_status, expected_error_code',\n        [\n            ('nonexistent_id', 400, 'InvalidForm'),\n            (None, 400, 'InvalidForm'),\n            ('', 400, 'InvalidForm'),\n            (123, 400, 'InvalidForm'),\n            ('abc', 400, 'InvalidForm'),\n            ('!@#$', 400, 'InvalidForm'),\n            ({'id': '123'}, 400, 'InvalidForm'),\n        ],\n        ids=['invalid-id', 'missing-id', 'empty-string', 'int-id', 'short-str', 'special-chars', 'json-object'],\n    )\n    def test_get_document_invalid_input(owner_client, temp_space, document_id, expected_status, expected_error_code):\n        allure.dynamic.title(f'Негативный кейс: documentId={document_id}')\n    \n        with allure.step('Отправка запроса с некорректным или отсутствующим documentId'):\n            payload = {'documentId': document_id} if document_id is not None else {}\n            resp = owner_client.post(\n                path='/GetDocument',\n                json=payload,\n                headers={'Content-Type': 'application/json', 'Current-Space-Id': temp_space},\n            )\n>           assert resp.status_code == expected_status\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_document.py:64: AssertionError","steps":[{"name":"Отправка запроса с некорректным или отсутствующим documentId","time":{"start":1763387974416,"stop":1763387974544,"duration":128},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_get_document.py\", line 64, in test_get_document_invalid_input\n    assert resp.status_code == expected_status\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_space::0","time":{"start":1763387989198,"stop":1763387989326,"duration":128},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document"},{"name":"suite","value":"test_get_document"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2589-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_document"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"document_id","value":"{'id': '123'}"},{"name":"expected_error_code","value":"'InvalidForm'"},{"name":"expected_status","value":"400"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":38,"unknown":0,"total":43},"items":[{"uid":"8cc767e3c9fc004b","reportUrl":"https://vaizcom.github.io/autotests/448/#testresult/8cc767e3c9fc004b","status":"passed","time":{"start":1763373275289,"stop":1763373275488,"duration":199}},{"uid":"bfb40b1aade69d56","reportUrl":"https://vaizcom.github.io/autotests/448/#testresult/bfb40b1aade69d56","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1763372684994,"stop":1763372685161,"duration":167}},{"uid":"2d47e1253c40bcab","reportUrl":"https://vaizcom.github.io/autotests/447/#testresult/2d47e1253c40bcab","status":"passed","time":{"start":1763366498231,"stop":1763366498459,"duration":228}},{"uid":"8f0d37582f5d49de","reportUrl":"https://vaizcom.github.io/autotests/446/#testresult/8f0d37582f5d49de","status":"passed","time":{"start":1763130573945,"stop":1763130574199,"duration":254}},{"uid":"bf0c2a420b5bc362","reportUrl":"https://vaizcom.github.io/autotests/445/#testresult/bf0c2a420b5bc362","status":"passed","time":{"start":1763114265628,"stop":1763114265916,"duration":288}},{"uid":"d506001d771f4e58","reportUrl":"https://vaizcom.github.io/autotests/444/#testresult/d506001d771f4e58","status":"passed","time":{"start":1763046947059,"stop":1763046947262,"duration":203}},{"uid":"fe6563183b244a58","reportUrl":"https://vaizcom.github.io/autotests/443/#testresult/fe6563183b244a58","status":"passed","time":{"start":1763042600223,"stop":1763042600433,"duration":210}},{"uid":"5fa8c2d883ce292b","reportUrl":"https://vaizcom.github.io/autotests/442/#testresult/5fa8c2d883ce292b","status":"passed","time":{"start":1763040520392,"stop":1763040520594,"duration":202}},{"uid":"f7cb1eb3a681320b","reportUrl":"https://vaizcom.github.io/autotests/441/#testresult/f7cb1eb3a681320b","status":"passed","time":{"start":1763037207795,"stop":1763037208042,"duration":247}},{"uid":"64dd3ad8977c4373","reportUrl":"https://vaizcom.github.io/autotests/440/#testresult/64dd3ad8977c4373","status":"passed","time":{"start":1763034797316,"stop":1763034797527,"duration":211}},{"uid":"36671b8247ffd0df","reportUrl":"https://vaizcom.github.io/autotests/439/#testresult/36671b8247ffd0df","status":"passed","time":{"start":1763023104748,"stop":1763023104998,"duration":250}},{"uid":"abf4a801cbf0f543","reportUrl":"https://vaizcom.github.io/autotests/438/#testresult/abf4a801cbf0f543","status":"passed","time":{"start":1763020697300,"stop":1763020697543,"duration":243}},{"uid":"a4b506b2d3349ddc","reportUrl":"https://vaizcom.github.io/autotests/437/#testresult/a4b506b2d3349ddc","status":"passed","time":{"start":1762972952912,"stop":1762972953143,"duration":231}},{"uid":"b83482f36f581138","reportUrl":"https://vaizcom.github.io/autotests/436/#testresult/b83482f36f581138","status":"passed","time":{"start":1762972285846,"stop":1762972286092,"duration":246}},{"uid":"80afcd150868f74d","reportUrl":"https://vaizcom.github.io/autotests/434/#testresult/80afcd150868f74d","status":"passed","time":{"start":1762950683043,"stop":1762950683225,"duration":182}},{"uid":"2132afc555f7da39","reportUrl":"https://vaizcom.github.io/autotests/433/#testresult/2132afc555f7da39","status":"passed","time":{"start":1762949009841,"stop":1762949010091,"duration":250}},{"uid":"abcdc2bbb429c42","reportUrl":"https://vaizcom.github.io/autotests/432/#testresult/abcdc2bbb429c42","status":"passed","time":{"start":1762947217570,"stop":1762947217814,"duration":244}},{"uid":"c4c60934e436ae9","reportUrl":"https://vaizcom.github.io/autotests/432/#testresult/c4c60934e436ae9","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1762939580079,"stop":1762939580189,"duration":110}},{"uid":"383f8bce0d4a3a14","reportUrl":"https://vaizcom.github.io/autotests/431/#testresult/383f8bce0d4a3a14","status":"passed","time":{"start":1762855686083,"stop":1762855686331,"duration":248}},{"uid":"61fc45b2682adc3d","reportUrl":"https://vaizcom.github.io/autotests/430/#testresult/61fc45b2682adc3d","status":"passed","time":{"start":1762780832462,"stop":1762780832658,"duration":196}}]},"tags":["backend"]},"source":"dd6473f334a85f43.json","parameterValues":["{'id': '123'}","'InvalidForm'","400"]}