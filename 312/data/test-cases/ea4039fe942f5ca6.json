{"uid":"ea4039fe942f5ca6","name":"test_get_recent_documents_foreign_space_access_denied","fullName":"tests.test_backend.document.access_doc.test_get_recent_documents_access_by_roles#test_get_recent_documents_foreign_space_access_denied","historyId":"996a4da9b4c0403770e77b7279cc3a30","time":{"start":1752827425741,"stop":1752827426037,"duration":296},"description":"Проверяет запрет доступа к списку недавних документов через чужое пространство","descriptionHtml":"<p>Проверяет запрет доступа к списку недавних документов через чужое пространство</p>\n","status":"failed","statusMessage":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code","statusTrace":"foreign_client = <tests.core.client.APIClient object at 0x7fc8b592e850>\nspace_id_module = '687a0620fa535636d1ec62ed'\n\n    def test_get_recent_documents_foreign_space_access_denied(foreign_client, space_id_module):\n        \"\"\"Проверяет запрет доступа к списку недавних документов через чужое пространство\"\"\"\n    \n        with allure.step('Попытка получения недавних документов в чужом пространстве'):\n            recent_resp = foreign_client.post(**get_recent_documents_endpoint(space_id=space_id_module))\n    \n>           assert recent_resp.status_code == 403\nE           assert 400 == 403\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_get_recent_documents_access_by_roles.py:145: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1752827235806,"stop":1752827235806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1752827235806,"stop":1752827235806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1752827235806,"stop":1752827235806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1752827235807,"stop":1752827236240,"duration":433},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1752827235807,"stop":1752827235807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"foreign_client","time":{"start":1752827273964,"stop":1752827273964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"space_id_module","time":{"start":1752827423995,"stop":1752827425741,"duration":1746},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"Проверяет запрет доступа к списку недавних документов через чужое пространство","status":"failed","statusMessage":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code","statusTrace":"foreign_client = <tests.core.client.APIClient object at 0x7fc8b592e850>\nspace_id_module = '687a0620fa535636d1ec62ed'\n\n    def test_get_recent_documents_foreign_space_access_denied(foreign_client, space_id_module):\n        \"\"\"Проверяет запрет доступа к списку недавних документов через чужое пространство\"\"\"\n    \n        with allure.step('Попытка получения недавних документов в чужом пространстве'):\n            recent_resp = foreign_client.post(**get_recent_documents_endpoint(space_id=space_id_module))\n    \n>           assert recent_resp.status_code == 403\nE           assert 400 == 403\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_get_recent_documents_access_by_roles.py:145: AssertionError","steps":[{"name":"Попытка получения недавних документов в чужом пространстве","time":{"start":1752827425741,"stop":1752827426037,"duration":296},"status":"failed","statusMessage":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_get_recent_documents_access_by_roles.py\", line 145, in test_get_recent_documents_foreign_space_access_denied\n    assert recent_resp.status_code == 403\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"space_id_module::0","time":{"start":1752827426040,"stop":1752827427311,"duration":1271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_get_recent_documents_access_by_roles"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2538-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_get_recent_documents_access_by_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"a8234b4b8ba90321","reportUrl":"https://vaizcom.github.io/autotests/311//#testresult/a8234b4b8ba90321","status":"failed","statusDetails":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code","time":{"start":1752738363060,"stop":1752738363718,"duration":658}}]},"tags":["backend"]},"source":"ea4039fe942f5ca6.json","parameterValues":[]}