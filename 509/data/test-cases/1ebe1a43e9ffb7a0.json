{"uid":"1ebe1a43e9ffb7a0","name":"Multiple Edit Tasks: Проверка установленного лимита в 21 задачу — ожидаем 400 или TooManyTasksSelected","fullName":"tests.test_backend.task_service.multiple_edit_tasks.test_limit_validation#test_multiple_edit_tasks_limit","historyId":"e81e161d8f5923fd500a14c6d4b2f4a9","time":{"start":1765881275580,"stop":1765881283627,"duration":8047},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7fe3ff8692d0>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7fe3ff6c2e80>\n\n    @allure.parent_suite(\"multiple_edit_tasks\")\n    def test_multiple_edit_tasks_limit(owner_client, main_space, create_30_tasks):\n        allure.dynamic.title(\"Multiple Edit Tasks: Проверка установленного лимита в 21 задачу — ожидаем 400 или TooManyTasksSelected\")\n        with allure.step(\"Создаём 21 задачу\"):\n>           task_ids = create_30_tasks(count=21)\n\ntests/test_backend/task_service/multiple_edit_tasks/test_limit_validation.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_backend/task_service/conftest.py:88: in _factory\n    resp.raise_for_status()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [400]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py:1024: HTTPError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1765880286464,"stop":1765880286464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1765880286465,"stop":1765880286465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765880286465,"stop":1765880286465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1765880286465,"stop":1765880286465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1765880286465,"stop":1765880287271,"duration":806},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1765880289429,"stop":1765880289725,"duration":296},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1765880289725,"stop":1765880290023,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1765880295287,"stop":1765880295563,"duration":276},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_30_tasks","time":{"start":1765881275580,"stop":1765881275580,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7fe3ff8692d0>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7fe3ff6c2e80>\n\n    @allure.parent_suite(\"multiple_edit_tasks\")\n    def test_multiple_edit_tasks_limit(owner_client, main_space, create_30_tasks):\n        allure.dynamic.title(\"Multiple Edit Tasks: Проверка установленного лимита в 21 задачу — ожидаем 400 или TooManyTasksSelected\")\n        with allure.step(\"Создаём 21 задачу\"):\n>           task_ids = create_30_tasks(count=21)\n\ntests/test_backend/task_service/multiple_edit_tasks/test_limit_validation.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_backend/task_service/conftest.py:88: in _factory\n    resp.raise_for_status()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [400]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py:1024: HTTPError","steps":[{"name":"Создаём 21 задачу","time":{"start":1765881275580,"stop":1765881283626,"duration":8046},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/multiple_edit_tasks/test_limit_validation.py\", line 12, in test_multiple_edit_tasks_limit\n    task_ids = create_30_tasks(count=21)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/conftest.py\", line 88, in _factory\n    resp.raise_for_status()\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_30_tasks::0","time":{"start":1765881283672,"stop":1765881288183,"duration":4511},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"multiple_edit_tasks"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_limit_validation"},{"name":"host","value":"runnervm6qbrg"},{"name":"thread","value":"2637-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.multiple_edit_tasks.test_limit_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":26,"unknown":0,"total":28},"items":[{"uid":"78429bae7d0a5c7d","reportUrl":"https://vaizcom.github.io/autotests/508/#testresult/78429bae7d0a5c7d","status":"passed","time":{"start":1765875013108,"stop":1765875023591,"duration":10483}},{"uid":"f19c731106a31ab6","reportUrl":"https://vaizcom.github.io/autotests/507/#testresult/f19c731106a31ab6","status":"passed","time":{"start":1765810173314,"stop":1765810183075,"duration":9761}},{"uid":"11b08506c03698fc","reportUrl":"https://vaizcom.github.io/autotests/506/#testresult/11b08506c03698fc","status":"passed","time":{"start":1765789595240,"stop":1765789602149,"duration":6909}},{"uid":"6845e6692f92f64d","reportUrl":"https://vaizcom.github.io/autotests/505/#testresult/6845e6692f92f64d","status":"passed","time":{"start":1765786557137,"stop":1765786566867,"duration":9730}},{"uid":"c3b110fa8de41a66","reportUrl":"https://vaizcom.github.io/autotests/504/#testresult/c3b110fa8de41a66","status":"passed","time":{"start":1765553105822,"stop":1765553113868,"duration":8046}},{"uid":"d89b63d4d8a32b98","reportUrl":"https://vaizcom.github.io/autotests/503/#testresult/d89b63d4d8a32b98","status":"passed","time":{"start":1765551852456,"stop":1765551859843,"duration":7387}},{"uid":"592b9131862ce8ea","reportUrl":"https://vaizcom.github.io/autotests/502/#testresult/592b9131862ce8ea","status":"passed","time":{"start":1765550492072,"stop":1765550502195,"duration":10123}},{"uid":"9407686fb742c2d0","reportUrl":"https://vaizcom.github.io/autotests/501/#testresult/9407686fb742c2d0","status":"passed","time":{"start":1765544553619,"stop":1765544560567,"duration":6948}},{"uid":"784e1dbd5a8c1446","reportUrl":"https://vaizcom.github.io/autotests/500/#testresult/784e1dbd5a8c1446","status":"passed","time":{"start":1765526363874,"stop":1765526370990,"duration":7116}},{"uid":"dcab7aae2a1253d4","reportUrl":"https://vaizcom.github.io/autotests/499/#testresult/dcab7aae2a1253d4","status":"passed","time":{"start":1765458170360,"stop":1765458178070,"duration":7710}},{"uid":"732c18c11d9b4ba1","reportUrl":"https://vaizcom.github.io/autotests/498/#testresult/732c18c11d9b4ba1","status":"passed","time":{"start":1765444420835,"stop":1765444431089,"duration":10254}},{"uid":"7277abdf168f502e","reportUrl":"https://vaizcom.github.io/autotests/497/#testresult/7277abdf168f502e","status":"passed","time":{"start":1765442531708,"stop":1765442539489,"duration":7781}},{"uid":"3595d411de889dd4","reportUrl":"https://vaizcom.github.io/autotests/496/#testresult/3595d411de889dd4","status":"passed","time":{"start":1765372947890,"stop":1765372955903,"duration":8013}},{"uid":"421a9baa3529d9e9","reportUrl":"https://vaizcom.github.io/autotests/495/#testresult/421a9baa3529d9e9","status":"passed","time":{"start":1765274515853,"stop":1765274528913,"duration":13060}},{"uid":"e9c6a8633bf77dbb","reportUrl":"https://vaizcom.github.io/autotests/494/#testresult/e9c6a8633bf77dbb","status":"passed","time":{"start":1765206697624,"stop":1765206705027,"duration":7403}},{"uid":"465f60bfebd15b5","reportUrl":"https://vaizcom.github.io/autotests/493/#testresult/465f60bfebd15b5","status":"passed","time":{"start":1765203558328,"stop":1765203565816,"duration":7488}},{"uid":"b26602023a9e87c2","reportUrl":"https://vaizcom.github.io/autotests/492/#testresult/b26602023a9e87c2","status":"passed","time":{"start":1765200701286,"stop":1765200710506,"duration":9220}},{"uid":"ff3e10a221b5c70","reportUrl":"https://vaizcom.github.io/autotests/491/#testresult/ff3e10a221b5c70","status":"passed","time":{"start":1765189280944,"stop":1765189290890,"duration":9946}},{"uid":"629ac0ff77fba768","reportUrl":"https://vaizcom.github.io/autotests/490/#testresult/629ac0ff77fba768","status":"passed","time":{"start":1765187946075,"stop":1765187953250,"duration":7175}},{"uid":"f84f23e8ebb802f9","reportUrl":"https://vaizcom.github.io/autotests/489/#testresult/f84f23e8ebb802f9","status":"passed","time":{"start":1764995144568,"stop":1764995151475,"duration":6907}}]},"tags":["backend"]},"source":"1ebe1a43e9ffb7a0.json","parameterValues":[]}