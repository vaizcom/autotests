{"uid":"27618f841d2f1804","name":"Create task with minimal payload: клиент=member_client, ожидаемый статус=200","fullName":"tests.test_backend.task.access_task.test_create_task#test_create_task_with_minimal_payload","historyId":"b3f7091db66090294e334bca994bcfd6","time":{"start":1759754131998,"stop":1759754133082,"duration":1084},"description":"\n    Тест проверки создания задачи с минимальным набором полей в системе управления проектами под разными ролями.\n\n    Цель теста — убедиться, что можно успешно создать задачу, указав только минимально необходимые данные, и что поведение API зависит от прав пользователя (типа клиента).\n    В процессе теста дополнительно валидируются структура созданной задачи, значения по умолчанию, связи (creator, board и пр.), а также удаление задачи после проверки.\n\n    Ход теста:\n        1. Получение клиента согласно переданной роли через фикстуру.\n        2. Получение id пользователя, с помощью которого осуществляется создание задачи.\n        3. Формирование минимального payload и попытка создать задачу через API.\n        4. Проверка статус-кода ответа.\n        5. Если задача успешно создана (ответ 200):\n            - Проверка наполнения и структуры ответа:\n                - Сопоставление идентификатора доски.\n                - Проверка значения названия (должно быть \"Untitled task\" по умолчанию).\n                - Проверка исполнителей, типов, майлстоунов, подзадач (должны быть пустые списки).\n                - Проверка полей completed (False), creator, hrid, priority и других системных полей.\n                - Проверка структуры ключей (обязательные и дополнительные).\n                - Проверка, что поля parentTask, archiver, archivedAt, completedAt равны None.\n        6. Независимо от результата (finally):\n            - Если задача была создана, выполняется её удаление через соответствующий endpoint.\n    ","descriptionHtml":"<pre><code>Тест проверки создания задачи с минимальным набором полей в системе управления проектами под разными ролями.\n\nЦель теста — убедиться, что можно успешно создать задачу, указав только минимально необходимые данные, и что поведение API зависит от прав пользователя (типа клиента).\nВ процессе теста дополнительно валидируются структура созданной задачи, значения по умолчанию, связи (creator, board и пр.), а также удаление задачи после проверки.\n\nХод теста:\n    1. Получение клиента согласно переданной роли через фикстуру.\n    2. Получение id пользователя, с помощью которого осуществляется создание задачи.\n    3. Формирование минимального payload и попытка создать задачу через API.\n    4. Проверка статус-кода ответа.\n    5. Если задача успешно создана (ответ 200):\n        - Проверка наполнения и структуры ответа:\n            - Сопоставление идентификатора доски.\n            - Проверка значения названия (должно быть &quot;Untitled task&quot; по умолчанию).\n            - Проверка исполнителей, типов, майлстоунов, подзадач (должны быть пустые списки).\n            - Проверка полей completed (False), creator, hrid, priority и других системных полей.\n            - Проверка структуры ключей (обязательные и дополнительные).\n            - Проверка, что поля parentTask, archiver, archivedAt, completedAt равны None.\n    6. Независимо от результата (finally):\n        - Если задача была создана, выполняется её удаление через соответствующий endpoint.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1759753722566,"stop":1759753723075,"duration":509},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1759753723076,"stop":1759753723533,"duration":457},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project","time":{"start":1759753723533,"stop":1759753723753,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"member_client","time":{"start":1759753726152,"stop":1759753726401,"duration":249},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_board","time":{"start":1759753728177,"stop":1759753728390,"duration":213},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Тест проверки создания задачи с минимальным набором полей в системе управления проектами под разными ролями.\n\n    Цель теста — убедиться, что можно успешно создать задачу, указав только минимально необходимые данные, и что поведение API зависит от прав пользователя (типа клиента).\n    В процессе теста дополнительно валидируются структура созданной задачи, значения по умолчанию, связи (creator, board и пр.), а также удаление задачи после проверки.\n\n    Ход теста:\n        1. Получение клиента согласно переданной роли через фикстуру.\n        2. Получение id пользователя, с помощью которого осуществляется создание задачи.\n        3. Формирование минимального payload и попытка создать задачу через API.\n        4. Проверка статус-кода ответа.\n        5. Если задача успешно создана (ответ 200):\n            - Проверка наполнения и структуры ответа:\n                - Сопоставление идентификатора доски.\n                - Проверка значения названия (должно быть \"Untitled task\" по умолчанию).\n                - Проверка исполнителей, типов, майлстоунов, подзадач (должны быть пустые списки).\n                - Проверка полей completed (False), creator, hrid, priority и других системных полей.\n                - Проверка структуры ключей (обязательные и дополнительные).\n                - Проверка, что поля parentTask, archiver, archivedAt, completedAt равны None.\n        6. Независимо от результата (finally):\n            - Если задача была создана, выполняется её удаление через соответствующий endpoint.\n    ","status":"passed","steps":[{"name":"Получение клиента для member_client","time":{"start":1759754131998,"stop":1759754131998,"duration":0},"status":"passed","steps":[{"name":"Получение клиента для member_client","time":{"start":1759754131998,"stop":1759754131998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Получение id пользователя который создает задачу","time":{"start":1759754131998,"stop":1759754132402,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Создание задачи с минимальным payload","time":{"start":1759754132402,"stop":1759754132653,"duration":251},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка статус-кода: ожидаем 200","time":{"start":1759754132653,"stop":1759754132653,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем содержимое ответа с задачей","time":{"start":1759754132653,"stop":1759754132852,"duration":199},"status":"passed","steps":[{"name":"Проверка обязательных полей","time":{"start":1759754132653,"stop":1759754132653,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка системных полей","time":{"start":1759754132653,"stop":1759754132852,"duration":199},"status":"passed","steps":[{"name":"Проверяем поле 'hrid'","time":{"start":1759754132653,"stop":1759754132852,"duration":199},"status":"passed","steps":[{"name":"Получаем slug проекта","time":{"start":1759754132653,"stop":1759754132852,"duration":199},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка, что hrid 'CCSS-349' соответствует шаблону '^CCSS-\\d+$'","time":{"start":1759754132852,"stop":1759754132852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Проверка полей, которые должны быть пустыми","time":{"start":1759754132852,"stop":1759754132852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка полей с `None` (null)","time":{"start":1759754132852,"stop":1759754132852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка значений по умолчанию","time":{"start":1759754132852,"stop":1759754132852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем содержимое ответа задачи","time":{"start":1759754132852,"stop":1759754132852,"duration":0},"status":"passed","steps":[{"name":"Проверка структуры ключей задачи","time":{"start":1759754132852,"stop":1759754132852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Удаляем задачу: 68e3b7941140fad5d3ddc42c","time":{"start":1759754132852,"stop":1759754133082,"duration":230},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":17,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.task.access_task"},{"name":"suite","value":"test_create_task"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2562-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task.access_task.test_create_task"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'member_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":4,"unknown":0,"total":5},"items":[{"uid":"1467f2b82d20977f","reportUrl":"https://vaizcom.github.io/autotests/337//#testresult/1467f2b82d20977f","status":"passed","time":{"start":1759141013177,"stop":1759141014340,"duration":1163}},{"uid":"6a201b5dcd758323","reportUrl":"https://vaizcom.github.io/autotests/335//#testresult/6a201b5dcd758323","status":"broken","statusDetails":"TypeError: validate_hrid() missing 3 required positional arguments: 'space_id', 'project_id', and 'task_hrid'","time":{"start":1758892138975,"stop":1758892139799,"duration":824}},{"uid":"98aa9475dbaa4952","reportUrl":"https://vaizcom.github.io/autotests/334//#testresult/98aa9475dbaa4952","status":"passed","time":{"start":1758808076463,"stop":1758808077251,"duration":788}},{"uid":"d3078376ab2cfb7d","reportUrl":"https://vaizcom.github.io/autotests/333//#testresult/d3078376ab2cfb7d","status":"passed","time":{"start":1758806947977,"stop":1758806948795,"duration":818}}]},"tags":["backend"]},"source":"27618f841d2f1804.json","parameterValues":["'member_client'","200"]}