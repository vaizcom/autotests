{"uid":"9fc0bffe7bd3c5ec","name":"Негативный кейс: documentId=","fullName":"tests.test_backend.document.test_get_document#test_get_document_invalid_input","historyId":"1d5d4a584eb0a48bbe054e3a52d35d64","time":{"start":1763372684308,"stop":1763372684474,"duration":166},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f77c963fad0>\ntemp_space = '691aedb94bfde6405da027ce', document_id = '', expected_status = 400\nexpected_error_code = 'InvalidForm'\n\n    @pytest.mark.parametrize(\n        'document_id, expected_status, expected_error_code',\n        [\n            ('nonexistent_id', 400, 'InvalidForm'),\n            (None, 400, 'InvalidForm'),\n            ('', 400, 'InvalidForm'),\n            (123, 400, 'InvalidForm'),\n            ('abc', 400, 'InvalidForm'),\n            ('!@#$', 400, 'InvalidForm'),\n            ({'id': '123'}, 400, 'InvalidForm'),\n        ],\n        ids=['invalid-id', 'missing-id', 'empty-string', 'int-id', 'short-str', 'special-chars', 'json-object'],\n    )\n    def test_get_document_invalid_input(owner_client, temp_space, document_id, expected_status, expected_error_code):\n        allure.dynamic.title(f'Негативный кейс: documentId={document_id}')\n    \n        with allure.step('Отправка запроса с некорректным или отсутствующим documentId'):\n            payload = {'documentId': document_id} if document_id is not None else {}\n            resp = owner_client.post(\n                path='/GetDocument',\n                json=payload,\n                headers={'Content-Type': 'application/json', 'Current-Space-Id': temp_space},\n            )\n>           assert resp.status_code == expected_status\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_document.py:64: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1763372463637,"stop":1763372463637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1763372463637,"stop":1763372463637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1763372463637,"stop":1763372463637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1763372463637,"stop":1763372464256,"duration":619},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1763372463637,"stop":1763372463637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_space","time":{"start":1763372473721,"stop":1763372474260,"duration":539},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f77c963fad0>\ntemp_space = '691aedb94bfde6405da027ce', document_id = '', expected_status = 400\nexpected_error_code = 'InvalidForm'\n\n    @pytest.mark.parametrize(\n        'document_id, expected_status, expected_error_code',\n        [\n            ('nonexistent_id', 400, 'InvalidForm'),\n            (None, 400, 'InvalidForm'),\n            ('', 400, 'InvalidForm'),\n            (123, 400, 'InvalidForm'),\n            ('abc', 400, 'InvalidForm'),\n            ('!@#$', 400, 'InvalidForm'),\n            ({'id': '123'}, 400, 'InvalidForm'),\n        ],\n        ids=['invalid-id', 'missing-id', 'empty-string', 'int-id', 'short-str', 'special-chars', 'json-object'],\n    )\n    def test_get_document_invalid_input(owner_client, temp_space, document_id, expected_status, expected_error_code):\n        allure.dynamic.title(f'Негативный кейс: documentId={document_id}')\n    \n        with allure.step('Отправка запроса с некорректным или отсутствующим documentId'):\n            payload = {'documentId': document_id} if document_id is not None else {}\n            resp = owner_client.post(\n                path='/GetDocument',\n                json=payload,\n                headers={'Content-Type': 'application/json', 'Current-Space-Id': temp_space},\n            )\n>           assert resp.status_code == expected_status\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_document.py:64: AssertionError","steps":[{"name":"Отправка запроса с некорректным или отсутствующим documentId","time":{"start":1763372684308,"stop":1763372684474,"duration":166},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_get_document.py\", line 64, in test_get_document_invalid_input\n    assert resp.status_code == expected_status\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_space::0","time":{"start":1763372706682,"stop":1763372706846,"duration":164},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document"},{"name":"suite","value":"test_get_document"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2573-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_document"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"document_id","value":"''"},{"name":"expected_error_code","value":"'InvalidForm'"},{"name":"expected_status","value":"400"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":37,"unknown":0,"total":41},"items":[{"uid":"f9e3c201d50c9b53","reportUrl":"https://vaizcom.github.io/autotests/447/#testresult/f9e3c201d50c9b53","status":"passed","time":{"start":1763366497296,"stop":1763366497523,"duration":227}},{"uid":"a0e1b59f24d7928d","reportUrl":"https://vaizcom.github.io/autotests/446/#testresult/a0e1b59f24d7928d","status":"passed","time":{"start":1763130572908,"stop":1763130573169,"duration":261}},{"uid":"96f80b21d0072248","reportUrl":"https://vaizcom.github.io/autotests/445/#testresult/96f80b21d0072248","status":"passed","time":{"start":1763114264486,"stop":1763114264743,"duration":257}},{"uid":"2db6345899faff9d","reportUrl":"https://vaizcom.github.io/autotests/444/#testresult/2db6345899faff9d","status":"passed","time":{"start":1763046944620,"stop":1763046945023,"duration":403}},{"uid":"fe539ad55cf612b3","reportUrl":"https://vaizcom.github.io/autotests/443/#testresult/fe539ad55cf612b3","status":"passed","time":{"start":1763042599379,"stop":1763042599584,"duration":205}},{"uid":"41f19ac2080ef34c","reportUrl":"https://vaizcom.github.io/autotests/442/#testresult/41f19ac2080ef34c","status":"passed","time":{"start":1763040519585,"stop":1763040519787,"duration":202}},{"uid":"af28704c42938091","reportUrl":"https://vaizcom.github.io/autotests/441/#testresult/af28704c42938091","status":"passed","time":{"start":1763037206770,"stop":1763037207016,"duration":246}},{"uid":"f121fe72dc1d3236","reportUrl":"https://vaizcom.github.io/autotests/440/#testresult/f121fe72dc1d3236","status":"passed","time":{"start":1763034796457,"stop":1763034796679,"duration":222}},{"uid":"8a97a231db1b6d71","reportUrl":"https://vaizcom.github.io/autotests/439/#testresult/8a97a231db1b6d71","status":"passed","time":{"start":1763023103760,"stop":1763023104007,"duration":247}},{"uid":"19d7fd50a96e67f8","reportUrl":"https://vaizcom.github.io/autotests/438/#testresult/19d7fd50a96e67f8","status":"passed","time":{"start":1763020696302,"stop":1763020696548,"duration":246}},{"uid":"e7187aafdbcb71c7","reportUrl":"https://vaizcom.github.io/autotests/437/#testresult/e7187aafdbcb71c7","status":"passed","time":{"start":1762972950990,"stop":1762972951192,"duration":202}},{"uid":"9ba06c7b9eea7a75","reportUrl":"https://vaizcom.github.io/autotests/436/#testresult/9ba06c7b9eea7a75","status":"passed","time":{"start":1762972284864,"stop":1762972285113,"duration":249}},{"uid":"4b53cf9678dc5c54","reportUrl":"https://vaizcom.github.io/autotests/434/#testresult/4b53cf9678dc5c54","status":"passed","time":{"start":1762950682299,"stop":1762950682485,"duration":186}},{"uid":"2ddf44c370238d65","reportUrl":"https://vaizcom.github.io/autotests/433/#testresult/2ddf44c370238d65","status":"passed","time":{"start":1762949008854,"stop":1762949009102,"duration":248}},{"uid":"61d3e2ee2b11b5aa","reportUrl":"https://vaizcom.github.io/autotests/432/#testresult/61d3e2ee2b11b5aa","status":"passed","time":{"start":1762947216571,"stop":1762947216827,"duration":256}},{"uid":"4d13fb8551ecdeb","reportUrl":"https://vaizcom.github.io/autotests/432/#testresult/4d13fb8551ecdeb","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1762939579618,"stop":1762939579728,"duration":110}},{"uid":"b71d4dcb42b120a5","reportUrl":"https://vaizcom.github.io/autotests/431/#testresult/b71d4dcb42b120a5","status":"passed","time":{"start":1762855685064,"stop":1762855685322,"duration":258}},{"uid":"82d76c14d25ca8b9","reportUrl":"https://vaizcom.github.io/autotests/430/#testresult/82d76c14d25ca8b9","status":"passed","time":{"start":1762780831699,"stop":1762780831884,"duration":185}},{"uid":"2e86cc444e01de4d","reportUrl":"https://vaizcom.github.io/autotests/429/#testresult/2e86cc444e01de4d","status":"passed","time":{"start":1762778984397,"stop":1762778984641,"duration":244}},{"uid":"a69339a8760f47c7","reportUrl":"https://vaizcom.github.io/autotests/427/#testresult/a69339a8760f47c7","status":"passed","time":{"start":1762773935951,"stop":1762773936186,"duration":235}}]},"tags":["backend"]},"source":"9fc0bffe7bd3c5ec.json","parameterValues":["''","'InvalidForm'","400"]}