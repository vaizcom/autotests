{"uid":"d64757fb6ea08545","name":"Дублирование Space-документа: создание owner, дублирование member","fullName":"tests.test_backend.document.access_doc.test_duplicate_doc_access_by_roles#test_duplicate_project_and_space_docs_different_roles","historyId":"d6d948ffcf70ffce1ee19dd8e3a7fe66","time":{"start":1752738206007,"stop":1752738207276,"duration":1269},"description":"\n    Тест проверяет дублирование документов разными ролями и типами документов. Тест проверяет, что документы могут быть \n    созданы одной ролью и продублированы другой в соответствии с ожидаемыми условиями, указанными в параметризации.\n    ","descriptionHtml":"<pre><code>Тест проверяет дублирование документов разными ролями и типами документов. Тест проверяет, что документы могут быть \nсозданы одной ролью и продублированы другой в соответствии с ожидаемыми условиями, указанными в параметризации.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1752738136298,"stop":1752738137029,"duration":731},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1752738161209,"stop":1752738161520,"duration":311},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1752738161520,"stop":1752738162137,"duration":617},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"member_client","time":{"start":1752738163444,"stop":1752738164105,"duration":661},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Тест проверяет дублирование документов разными ролями и типами документов. Тест проверяет, что документы могут быть \n    созданы одной ролью и продублированы другой в соответствии с ожидаемыми условиями, указанными в параметризации.\n    ","status":"passed","steps":[{"name":"Создание Space-документа пользователем с ролью owner","time":{"start":1752738206007,"stop":1752738206429,"duration":422},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Дублирование документа пользователем с ролью member","time":{"start":1752738206429,"stop":1752738206735,"duration":306},"status":"passed","steps":[{"name":"Проверка названия дублированного документа","time":{"start":1752738206735,"stop":1752738206735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Архивация исходного документа","time":{"start":1752738206735,"stop":1752738206999,"duration":264},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Архивация копии документа","time":{"start":1752738206999,"stop":1752738207276,"duration":277},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_duplicate_doc_access_by_roles"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2564-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_duplicate_doc_access_by_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"creator_fixture","value":"'owner_client'"},{"name":"doc_container","value":"'main_space'"},{"name":"doc_type","value":"'Space'"},{"name":"duplicator_fixture","value":"'member_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":32,"unknown":0,"total":36},"items":[{"uid":"963b63327f62946","reportUrl":"https://vaizcom.github.io/autotests/310//#testresult/963b63327f62946","status":"passed","time":{"start":1752669105106,"stop":1752669106149,"duration":1043}},{"uid":"4f9963b25f3cb144","reportUrl":"https://vaizcom.github.io/autotests/309//#testresult/4f9963b25f3cb144","status":"passed","time":{"start":1752668228175,"stop":1752668229162,"duration":987}},{"uid":"29462b691f889a35","reportUrl":"https://vaizcom.github.io/autotests/308//#testresult/29462b691f889a35","status":"passed","time":{"start":1752665726209,"stop":1752665727582,"duration":1373}},{"uid":"d53cf3f014bdb931","reportUrl":"https://vaizcom.github.io/autotests/307//#testresult/d53cf3f014bdb931","status":"passed","time":{"start":1752586336254,"stop":1752586337292,"duration":1038}},{"uid":"c487ad24ae3e0ec9","reportUrl":"https://vaizcom.github.io/autotests/306//#testresult/c487ad24ae3e0ec9","status":"passed","time":{"start":1752585498538,"stop":1752585499604,"duration":1066}},{"uid":"5b252f5de33fb1af","reportUrl":"https://vaizcom.github.io/autotests/305//#testresult/5b252f5de33fb1af","status":"passed","time":{"start":1752583599275,"stop":1752583600236,"duration":961}},{"uid":"110e4566bb9628cb","reportUrl":"https://vaizcom.github.io/autotests/304//#testresult/110e4566bb9628cb","status":"passed","time":{"start":1752579829960,"stop":1752579830937,"duration":977}},{"uid":"d5dbaa9c1ccf22e4","reportUrl":"https://vaizcom.github.io/autotests/303//#testresult/d5dbaa9c1ccf22e4","status":"passed","time":{"start":1752569859752,"stop":1752569860954,"duration":1202}},{"uid":"46af7eaa24313a17","reportUrl":"https://vaizcom.github.io/autotests/302//#testresult/46af7eaa24313a17","status":"passed","time":{"start":1752568923973,"stop":1752568925314,"duration":1341}},{"uid":"e2e2f36a56b70d4a","reportUrl":"https://vaizcom.github.io/autotests/301//#testresult/e2e2f36a56b70d4a","status":"passed","time":{"start":1752568004816,"stop":1752568005919,"duration":1103}},{"uid":"1d83497a8de312dd","reportUrl":"https://vaizcom.github.io/autotests/300//#testresult/1d83497a8de312dd","status":"passed","time":{"start":1752565686053,"stop":1752565687522,"duration":1469}},{"uid":"7f525198cf697b90","reportUrl":"https://vaizcom.github.io/autotests/299//#testresult/7f525198cf697b90","status":"passed","time":{"start":1752565147551,"stop":1752565148725,"duration":1174}},{"uid":"e30013a21b7e6aa9","reportUrl":"https://vaizcom.github.io/autotests/298//#testresult/e30013a21b7e6aa9","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752563754172,"stop":1752563754172,"duration":0}},{"uid":"58433f6af730e6be","reportUrl":"https://vaizcom.github.io/autotests/297//#testresult/58433f6af730e6be","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752562342526,"stop":1752562342526,"duration":0}},{"uid":"718963b3d790bedc","reportUrl":"https://vaizcom.github.io/autotests/296//#testresult/718963b3d790bedc","status":"failed","statusDetails":"AssertionError: Неожиданный статус при дублировании: 400, ожидался: 200\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1752500955463,"stop":1752500957490,"duration":2027}},{"uid":"d4e893be462bff47","reportUrl":"https://vaizcom.github.io/autotests/295//#testresult/d4e893be462bff47","status":"failed","statusDetails":"AssertionError: Ошибка при создании документа пользователем owner: статус 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1752500570344,"stop":1752500570752,"duration":408}},{"uid":"eac1981ebba80bf6","reportUrl":"https://vaizcom.github.io/autotests/294//#testresult/eac1981ebba80bf6","status":"passed","time":{"start":1752499242901,"stop":1752499245352,"duration":2451}},{"uid":"f20231b8ee20253f","reportUrl":"https://vaizcom.github.io/autotests/293//#testresult/f20231b8ee20253f","status":"passed","time":{"start":1752498190227,"stop":1752498191389,"duration":1162}},{"uid":"54c4e1bf4a67329f","reportUrl":"https://vaizcom.github.io/autotests/292//#testresult/54c4e1bf4a67329f","status":"passed","time":{"start":1752496524859,"stop":1752496526596,"duration":1737}},{"uid":"a59d3755322c0dc2","reportUrl":"https://vaizcom.github.io/autotests/291//#testresult/a59d3755322c0dc2","status":"passed","time":{"start":1752481663408,"stop":1752481664432,"duration":1024}}]},"tags":["backend"]},"source":"d64757fb6ea08545.json","parameterValues":["'owner_client'","'main_space'","'Space'","'member_client'","200"]}