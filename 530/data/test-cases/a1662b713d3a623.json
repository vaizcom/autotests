{"uid":"a1662b713d3a623","name":"Create project: клиент=member_client, ожидаемый статус=403","fullName":"tests.test_backend.project.access_project.test_create_project#test_create_project_access_by_roles","historyId":"c4c1f5a507950a8baa4b61551fd25ec1","time":{"start":1768298701485,"stop":1768298701603,"duration":118},"status":"failed","statusMessage":"AssertionError: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_project_access_by_roles[member]>>\nclient_fixture = 'member_client', expected_status = 403\nmain_space = '6866309d85fb8d104544a61e'\n\n    @allure.parent_suite(\"Project Service\")\n    @allure.suite(\"Access project\")\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 403),\n            ('guest_client', 403),\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_create_project_access_by_roles(request, client_fixture, expected_status, main_space):\n        allure.dynamic.title(f'Create project: клиент={client_fixture}, ожидаемый статус={expected_status}')\n        prj_id = None\n        try:\n            client = request.getfixturevalue(client_fixture)\n            name = generate_project_name()\n            slug = generate_slug()\n            common_kwargs = {'color': 'blue', 'icon': 'Dot', 'description': 'temporary project'}\n            with allure.step(\"Отправка запроса на создание project\"):\n                response = client.post(**create_project_endpoint(name=name, slug=slug, space_id=main_space, **common_kwargs))\n            with allure.step(f'Проверка статус-кода: ожидаемый {expected_status}'):\n>               assert response.status_code == expected_status, response.text\nE               AssertionError: <html>\r\nE                 <head><title>503 Service Temporarily Unavailable</title></head>\r\nE                 <body>\r\nE                 <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE                 <hr><center>nginx</center>\r\nE                 </body>\r\nE                 </html>\r\nE                 \nE               assert 503 == 403\nE                +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/project/access_project/test_create_project.py:32: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1768298488144,"stop":1768298488609,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1768298488609,"stop":1768298489052,"duration":443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"member_client","time":{"start":1768298491039,"stop":1768298491285,"duration":246},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 403\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_project_access_by_roles[member]>>\nclient_fixture = 'member_client', expected_status = 403\nmain_space = '6866309d85fb8d104544a61e'\n\n    @allure.parent_suite(\"Project Service\")\n    @allure.suite(\"Access project\")\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 403),\n            ('guest_client', 403),\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_create_project_access_by_roles(request, client_fixture, expected_status, main_space):\n        allure.dynamic.title(f'Create project: клиент={client_fixture}, ожидаемый статус={expected_status}')\n        prj_id = None\n        try:\n            client = request.getfixturevalue(client_fixture)\n            name = generate_project_name()\n            slug = generate_slug()\n            common_kwargs = {'color': 'blue', 'icon': 'Dot', 'description': 'temporary project'}\n            with allure.step(\"Отправка запроса на создание project\"):\n                response = client.post(**create_project_endpoint(name=name, slug=slug, space_id=main_space, **common_kwargs))\n            with allure.step(f'Проверка статус-кода: ожидаемый {expected_status}'):\n>               assert response.status_code == expected_status, response.text\nE               AssertionError: <html>\r\nE                 <head><title>503 Service Temporarily Unavailable</title></head>\r\nE                 <body>\r\nE                 <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE                 <hr><center>nginx</center>\r\nE                 </body>\r\nE                 </html>\r\nE                 \nE               assert 503 == 403\nE                +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/project/access_project/test_create_project.py:32: AssertionError","steps":[{"name":"Отправка запроса на создание project","time":{"start":1768298701485,"stop":1768298701603,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка статус-кода: ожидаемый 403","time":{"start":1768298701603,"stop":1768298701603,"duration":0},"status":"failed","statusMessage":"AssertionError: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 403\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/project/access_project/test_create_project.py\", line 32, in test_create_project_access_by_roles\n    assert response.status_code == expected_status, response.text\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"Access project"},{"name":"parentSuite","value":"Project Service"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.project.access_project.test_create_project"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'member_client'"},{"name":"expected_status","value":"403"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":29,"unknown":0,"total":30},"items":[{"uid":"98aef0abcc73b85c","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/98aef0abcc73b85c","status":"passed","time":{"start":1767850006246,"stop":1767850006478,"duration":232}},{"uid":"751a80f72d119253","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/751a80f72d119253","status":"passed","time":{"start":1766507902253,"stop":1766507902474,"duration":221}},{"uid":"1ea2ac099db20d34","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/1ea2ac099db20d34","status":"passed","time":{"start":1766506555158,"stop":1766506555391,"duration":233}},{"uid":"e5349cd49652a732","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/e5349cd49652a732","status":"passed","time":{"start":1766505406929,"stop":1766505407163,"duration":234}},{"uid":"3951340f801fc521","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/3951340f801fc521","status":"passed","time":{"start":1766504327784,"stop":1766504327969,"duration":185}},{"uid":"4cf4bdf473cc658e","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/4cf4bdf473cc658e","status":"passed","time":{"start":1766503086485,"stop":1766503086672,"duration":187}},{"uid":"e1e26c2d0709863d","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/e1e26c2d0709863d","status":"passed","time":{"start":1766497229792,"stop":1766497229974,"duration":182}},{"uid":"74fddf4958f5c8df","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/74fddf4958f5c8df","status":"passed","time":{"start":1766488877846,"stop":1766488878043,"duration":197}},{"uid":"1d61e64c7c94f12d","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/1d61e64c7c94f12d","status":"passed","time":{"start":1766487475973,"stop":1766487476224,"duration":251}},{"uid":"df46e4a4b1c1ae22","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/df46e4a4b1c1ae22","status":"passed","time":{"start":1766412363044,"stop":1766412363235,"duration":191}},{"uid":"e8c7d4a15bdef45c","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/e8c7d4a15bdef45c","status":"passed","time":{"start":1766406314674,"stop":1766406314867,"duration":193}},{"uid":"3305e09436aa6847","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/3305e09436aa6847","status":"passed","time":{"start":1766403983219,"stop":1766403983408,"duration":189}},{"uid":"6407119eedb82dbe","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/6407119eedb82dbe","status":"passed","time":{"start":1766402575591,"stop":1766402575783,"duration":192}},{"uid":"fe82494ae3361937","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/fe82494ae3361937","status":"passed","time":{"start":1766067493531,"stop":1766067493818,"duration":287}},{"uid":"8497329e6ff74e12","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/8497329e6ff74e12","status":"passed","time":{"start":1766042907176,"stop":1766042907421,"duration":245}},{"uid":"48a5cfb4913049e3","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/48a5cfb4913049e3","status":"passed","time":{"start":1765984301154,"stop":1765984301407,"duration":253}},{"uid":"b610dc20f677e783","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/b610dc20f677e783","status":"passed","time":{"start":1765975632028,"stop":1765975632307,"duration":279}},{"uid":"9c7c8681f3c98890","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/9c7c8681f3c98890","status":"passed","time":{"start":1765891841918,"stop":1765891842471,"duration":553}},{"uid":"9590c3c63777e5f2","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/9590c3c63777e5f2","status":"passed","time":{"start":1765890034532,"stop":1765890034829,"duration":297}},{"uid":"976ee290e1f53104","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/976ee290e1f53104","status":"passed","time":{"start":1765881196026,"stop":1765881196493,"duration":467}}]},"tags":["backend"]},"source":"a1662b713d3a623.json","parameterValues":["'member_client'","403"]}