{"uid":"ecd5b598830aab43","name":"GetTasks: Проверка доступа к задачам спейса для всех ролей (без фильтраций)","fullName":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_space_all_(important)#test_get_tasks_by_role_in_second_space","historyId":"e6fe4d9a750dd17ab00858ac03c907ad","time":{"start":1768298714400,"stop":1768298714400,"duration":0},"description":"\n    Проверка доступа ко всем таскам в спейсе для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат ТОЛЬКО указанному спейсу;\n\n    TODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n    (сейчас указан спейс в котором нет архивных тасок)\n    ","descriptionHtml":"<pre><code>Проверка доступа ко всем таскам в спейсе для всех ролей:\n- роли с доступом: HTTP 200 и все задачи принадлежат ТОЛЬКО указанному спейсу;\n\nTODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n(сейчас указан спейс в котором нет архивных тасок)\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Space 691adf9e4bfde6405d9feb3a not found: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"main_client = <tests.core.client.APIClient object at 0x7f78edebb4d0>\n\n    @pytest.fixture(scope='session')\n    def second_space(main_client) -> str:\n        \"\"\"\n        Отличие этого спейса в том, что в  этом спейсе уже есть мемберы с разными ролями(Дубликат).\n        \"\"\"\n        assert SECOND_SPACE_ID, 'Не задана переменная окружения SECOND_SPACE_ID'\n        resp = main_client.post(**get_space_endpoint(space_id=SECOND_SPACE_ID))\n>       assert resp.status_code == 200, f'Space {SECOND_SPACE_ID} not found: {resp.text}'\nE       AssertionError: Space 691adf9e4bfde6405d9feb3a not found: <html>\r\nE         <head><title>503 Service Temporarily Unavailable</title></head>\r\nE         <body>\r\nE         <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE         <hr><center>nginx</center>\r\nE         </body>\r\nE         </html>\r\nE         \nE       assert 503 == 200\nE        +  where 503 = <Response [503]>.status_code\n\ntests/conftest.py:98: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1768298488144,"stop":1768298488609,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1768298488609,"stop":1768298489052,"duration":443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1768298489052,"stop":1768298489481,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_space","time":{"start":1768298714259,"stop":1768298714384,"duration":125},"status":"failed","statusMessage":"AssertionError: Space 691adf9e4bfde6405d9feb3a not found: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 898, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/autotests/autotests/tests/conftest.py\", line 98, in second_space\n    assert resp.status_code == 200, f'Space {SECOND_SPACE_ID} not found: {resp.text}'\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"subSuite","value":"Access get Tasks"},{"name":"suite","value":"Get Tasks"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_space_all_(important)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'member_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":42,"unknown":0,"total":43},"items":[{"uid":"18acc7089ada53e4","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/18acc7089ada53e4","status":"passed","time":{"start":1767850350418,"stop":1767850350652,"duration":234}},{"uid":"2cac6a0ca4f96c24","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/2cac6a0ca4f96c24","status":"passed","time":{"start":1766508244092,"stop":1766508244297,"duration":205}},{"uid":"57b10a8022c95374","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/57b10a8022c95374","status":"passed","time":{"start":1766506909263,"stop":1766506909509,"duration":246}},{"uid":"d6aa97efe8c5c5e3","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/d6aa97efe8c5c5e3","status":"passed","time":{"start":1766505743259,"stop":1766505743492,"duration":233}},{"uid":"21f7a602c76b825f","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/21f7a602c76b825f","status":"passed","time":{"start":1766504660928,"stop":1766504661125,"duration":197}},{"uid":"188487f70d27a145","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/188487f70d27a145","status":"passed","time":{"start":1766503372234,"stop":1766503372410,"duration":176}},{"uid":"a43c10a41511e385","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/a43c10a41511e385","status":"passed","time":{"start":1766497533475,"stop":1766497533655,"duration":180}},{"uid":"3403a4c6123c569f","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/3403a4c6123c569f","status":"passed","time":{"start":1766489154664,"stop":1766489154826,"duration":162}},{"uid":"5135dda8a1b47eb9","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/5135dda8a1b47eb9","status":"passed","time":{"start":1766487841194,"stop":1766487841445,"duration":251}},{"uid":"4e406de8c7ff477d","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/4e406de8c7ff477d","status":"passed","time":{"start":1766412678272,"stop":1766412678475,"duration":203}},{"uid":"d6e102a13b9cb838","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/d6e102a13b9cb838","status":"passed","time":{"start":1766406589709,"stop":1766406589891,"duration":182}},{"uid":"1d73358f3324f3c7","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/1d73358f3324f3c7","status":"passed","time":{"start":1766404276367,"stop":1766404276573,"duration":206}},{"uid":"b5e0ecf26f84ae4f","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/b5e0ecf26f84ae4f","status":"passed","time":{"start":1766402930186,"stop":1766402930387,"duration":201}},{"uid":"6bbdfe7062969c0e","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/6bbdfe7062969c0e","status":"passed","time":{"start":1766067830350,"stop":1766067830551,"duration":201}},{"uid":"d002ccf70853ff83","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/d002ccf70853ff83","status":"passed","time":{"start":1766043245831,"stop":1766043246013,"duration":182}},{"uid":"deb00989a7a2c29f","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/deb00989a7a2c29f","status":"passed","time":{"start":1765984701768,"stop":1765984702007,"duration":239}},{"uid":"658d98a7fbd4e7ef","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/658d98a7fbd4e7ef","status":"passed","time":{"start":1765976011249,"stop":1765976011440,"duration":191}},{"uid":"8027b51510ba2166","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/8027b51510ba2166","status":"passed","time":{"start":1765892186705,"stop":1765892187042,"duration":337}},{"uid":"e0fb8caf9fd40e6f","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/e0fb8caf9fd40e6f","status":"passed","time":{"start":1765890373552,"stop":1765890373741,"duration":189}},{"uid":"6dbc765bddbe73a3","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/6dbc765bddbe73a3","status":"passed","time":{"start":1765881510555,"stop":1765881510761,"duration":206}}]},"tags":["backend"]},"source":"ecd5b598830aab43.json","parameterValues":["'member_client'","200"]}