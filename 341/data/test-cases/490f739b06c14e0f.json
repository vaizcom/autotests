{"uid":"490f739b06c14e0f","name":"Create task with minimal payload: клиент=guest_client, ожидаемый статус=403","fullName":"tests.test_backend.task.access_task.test_create_task#test_create_task_with_minimal_payload","historyId":"67e9b685fa26dff2b68f44e0a4390fd7","time":{"start":1759754133084,"stop":1759754133529,"duration":445},"description":"\n    Тест проверки создания задачи с минимальным набором полей в системе управления проектами под разными ролями.\n\n    Цель теста — убедиться, что можно успешно создать задачу, указав только минимально необходимые данные, и что поведение API зависит от прав пользователя (типа клиента).\n    В процессе теста дополнительно валидируются структура созданной задачи, значения по умолчанию, связи (creator, board и пр.), а также удаление задачи после проверки.\n\n    Ход теста:\n        1. Получение клиента согласно переданной роли через фикстуру.\n        2. Получение id пользователя, с помощью которого осуществляется создание задачи.\n        3. Формирование минимального payload и попытка создать задачу через API.\n        4. Проверка статус-кода ответа.\n        5. Если задача успешно создана (ответ 200):\n            - Проверка наполнения и структуры ответа:\n                - Сопоставление идентификатора доски.\n                - Проверка значения названия (должно быть \"Untitled task\" по умолчанию).\n                - Проверка исполнителей, типов, майлстоунов, подзадач (должны быть пустые списки).\n                - Проверка полей completed (False), creator, hrid, priority и других системных полей.\n                - Проверка структуры ключей (обязательные и дополнительные).\n                - Проверка, что поля parentTask, archiver, archivedAt, completedAt равны None.\n        6. Независимо от результата (finally):\n            - Если задача была создана, выполняется её удаление через соответствующий endpoint.\n    ","descriptionHtml":"<pre><code>Тест проверки создания задачи с минимальным набором полей в системе управления проектами под разными ролями.\n\nЦель теста — убедиться, что можно успешно создать задачу, указав только минимально необходимые данные, и что поведение API зависит от прав пользователя (типа клиента).\nВ процессе теста дополнительно валидируются структура созданной задачи, значения по умолчанию, связи (creator, board и пр.), а также удаление задачи после проверки.\n\nХод теста:\n    1. Получение клиента согласно переданной роли через фикстуру.\n    2. Получение id пользователя, с помощью которого осуществляется создание задачи.\n    3. Формирование минимального payload и попытка создать задачу через API.\n    4. Проверка статус-кода ответа.\n    5. Если задача успешно создана (ответ 200):\n        - Проверка наполнения и структуры ответа:\n            - Сопоставление идентификатора доски.\n            - Проверка значения названия (должно быть &quot;Untitled task&quot; по умолчанию).\n            - Проверка исполнителей, типов, майлстоунов, подзадач (должны быть пустые списки).\n            - Проверка полей completed (False), creator, hrid, priority и других системных полей.\n            - Проверка структуры ключей (обязательные и дополнительные).\n            - Проверка, что поля parentTask, archiver, archivedAt, completedAt равны None.\n    6. Независимо от результата (finally):\n        - Если задача была создана, выполняется её удаление через соответствующий endpoint.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1759753722566,"stop":1759753722566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1759753722566,"stop":1759753723075,"duration":509},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1759753723076,"stop":1759753723533,"duration":457},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project","time":{"start":1759753723533,"stop":1759753723753,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"guest_client","time":{"start":1759753726604,"stop":1759753727744,"duration":1140},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_board","time":{"start":1759753728177,"stop":1759753728390,"duration":213},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Тест проверки создания задачи с минимальным набором полей в системе управления проектами под разными ролями.\n\n    Цель теста — убедиться, что можно успешно создать задачу, указав только минимально необходимые данные, и что поведение API зависит от прав пользователя (типа клиента).\n    В процессе теста дополнительно валидируются структура созданной задачи, значения по умолчанию, связи (creator, board и пр.), а также удаление задачи после проверки.\n\n    Ход теста:\n        1. Получение клиента согласно переданной роли через фикстуру.\n        2. Получение id пользователя, с помощью которого осуществляется создание задачи.\n        3. Формирование минимального payload и попытка создать задачу через API.\n        4. Проверка статус-кода ответа.\n        5. Если задача успешно создана (ответ 200):\n            - Проверка наполнения и структуры ответа:\n                - Сопоставление идентификатора доски.\n                - Проверка значения названия (должно быть \"Untitled task\" по умолчанию).\n                - Проверка исполнителей, типов, майлстоунов, подзадач (должны быть пустые списки).\n                - Проверка полей completed (False), creator, hrid, priority и других системных полей.\n                - Проверка структуры ключей (обязательные и дополнительные).\n                - Проверка, что поля parentTask, archiver, archivedAt, completedAt равны None.\n        6. Независимо от результата (finally):\n            - Если задача была создана, выполняется её удаление через соответствующий endpoint.\n    ","status":"passed","steps":[{"name":"Получение клиента для guest_client","time":{"start":1759754133084,"stop":1759754133084,"duration":0},"status":"passed","steps":[{"name":"Получение клиента для guest_client","time":{"start":1759754133084,"stop":1759754133084,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Получение id пользователя который создает задачу","time":{"start":1759754133084,"stop":1759754133329,"duration":245},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Создание задачи с минимальным payload","time":{"start":1759754133329,"stop":1759754133528,"duration":199},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка статус-кода: ожидаем 403","time":{"start":1759754133528,"stop":1759754133528,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.task.access_task"},{"name":"suite","value":"test_create_task"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2562-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task.access_task.test_create_task"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'guest_client'"},{"name":"expected_status","value":"403"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":5,"unknown":0,"total":5},"items":[{"uid":"50f50b721f80a285","reportUrl":"https://vaizcom.github.io/autotests/337//#testresult/50f50b721f80a285","status":"passed","time":{"start":1759141014343,"stop":1759141014955,"duration":612}},{"uid":"809eaccecbe288ce","reportUrl":"https://vaizcom.github.io/autotests/335//#testresult/809eaccecbe288ce","status":"passed","time":{"start":1758892139806,"stop":1758892140427,"duration":621}},{"uid":"912fa2c01d93e0e2","reportUrl":"https://vaizcom.github.io/autotests/334//#testresult/912fa2c01d93e0e2","status":"passed","time":{"start":1758808077253,"stop":1758808077794,"duration":541}},{"uid":"7e34c20e727a3733","reportUrl":"https://vaizcom.github.io/autotests/333//#testresult/7e34c20e727a3733","status":"passed","time":{"start":1758806948797,"stop":1758806949483,"duration":686}}]},"tags":["backend"]},"source":"490f739b06c14e0f.json","parameterValues":["'guest_client'","403"]}