{"uid":"c9f75d9996067e6b","name":"Тестирование создания подзадачи разными пользовательскими ролями: клиент=guest_client, ожидаемый статус=403","fullName":"tests.test_backend.task_service.create_task.access_task.test_create_sub#test_create_subtask_per_role","historyId":"97e0a065e6c1f53a04d513786a32fb09","time":{"start":1770298837241,"stop":1770298838106,"duration":865},"description":"\n    Тестирование создания подзадачи разными пользовательскими ролями и проверка\n    ожидаемого поведения на основе прав доступа роли.\n\n    Этот тест оценивает может ли клиент с разными уровнями доступа создавать\n    подзадачу для родительской задачи. Также проверяются корректные связи между\n    родительской задачей и подзадачей, включая поля `parentTask` и `subtasks`.\n    ","descriptionHtml":"<pre><code>Тестирование создания подзадачи разными пользовательскими ролями и проверка\nожидаемого поведения на основе прав доступа роли.\n\nЭтот тест оценивает может ли клиент с разными уровнями доступа создавать\nподзадачу для родительской задачи. Также проверяются корректные связи между\nродительской задачей и подзадачей, включая поля `parentTask` и `subtasks`.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1770298408665,"stop":1770298408665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1770298408665,"stop":1770298409268,"duration":603},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1770298408665,"stop":1770298408665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1770298408665,"stop":1770298408665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1770298408665,"stop":1770298408665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1770298411243,"stop":1770298411534,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1770298411534,"stop":1770298411817,"duration":283},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1770298411817,"stop":1770298412072,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"guest_client","time":{"start":1770298414824,"stop":1770298415115,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1770298416664,"stop":1770298417014,"duration":350},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_task_in_main","time":{"start":1770298837241,"stop":1770298837241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Тестирование создания подзадачи разными пользовательскими ролями и проверка\n    ожидаемого поведения на основе прав доступа роли.\n\n    Этот тест оценивает может ли клиент с разными уровнями доступа создавать\n    подзадачу для родительской задачи. Также проверяются корректные связи между\n    родительской задачей и подзадачей, включая поля `parentTask` и `subtasks`.\n    ","status":"passed","steps":[{"name":"Создание родительской задачи через owner_client","time":{"start":1770298837241,"stop":1770298837560,"duration":319},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Создание сабтаски в роли guest_client","time":{"start":1770298837560,"stop":1770298837816,"duration":256},"status":"passed","steps":[{"name":"Проверяем, что guest_client не может создать сабтаску (expected_status == 403)","time":{"start":1770298837816,"stop":1770298837816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Удаляем родительскую задачу 69849dd5b14e9493e7b74d42","time":{"start":1770298837816,"stop":1770298838106,"duration":290},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"suite","value":"Create Task"},{"name":"subSuite","value":"Access create Task"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"2732-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.create_task.access_task.test_create_sub"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'guest_client'"},{"name":"expected_status","value":"403"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":6,"skipped":13,"passed":126,"unknown":0,"total":146},"items":[{"uid":"51252b8009977acd","reportUrl":"https://vaizcom.github.io/autotests/550/#testresult/51252b8009977acd","status":"passed","time":{"start":1770291023019,"stop":1770291023939,"duration":920}},{"uid":"e734eb1b24f21fca","reportUrl":"https://vaizcom.github.io/autotests/549/#testresult/e734eb1b24f21fca","status":"passed","time":{"start":1770281742739,"stop":1770281743601,"duration":862}},{"uid":"43c52991c03c3069","reportUrl":"https://vaizcom.github.io/autotests/548/#testresult/43c52991c03c3069","status":"passed","time":{"start":1770276075612,"stop":1770276076414,"duration":802}},{"uid":"42a3998ce33337be","reportUrl":"https://vaizcom.github.io/autotests/547/#testresult/42a3998ce33337be","status":"passed","time":{"start":1769092770082,"stop":1769092771298,"duration":1216}},{"uid":"288c8e0e85eed978","reportUrl":"https://vaizcom.github.io/autotests/546/#testresult/288c8e0e85eed978","status":"passed","time":{"start":1769007869982,"stop":1769007871538,"duration":1556}},{"uid":"8a474c5ad79474c0","reportUrl":"https://vaizcom.github.io/autotests/545/#testresult/8a474c5ad79474c0","status":"passed","time":{"start":1768995191936,"stop":1768995192924,"duration":988}},{"uid":"22f212532f3766a3","reportUrl":"https://vaizcom.github.io/autotests/544/#testresult/22f212532f3766a3","status":"passed","time":{"start":1768815512981,"stop":1768815513739,"duration":758}},{"uid":"ab61fcd830eb9d64","reportUrl":"https://vaizcom.github.io/autotests/543/#testresult/ab61fcd830eb9d64","status":"passed","time":{"start":1768812433708,"stop":1768812435839,"duration":2131}},{"uid":"fe1a927d86dbc43a","reportUrl":"https://vaizcom.github.io/autotests/541/#testresult/fe1a927d86dbc43a","status":"passed","time":{"start":1768810224768,"stop":1768810225580,"duration":812}},{"uid":"9804ddd845e8baea","reportUrl":"https://vaizcom.github.io/autotests/542/#testresult/9804ddd845e8baea","status":"passed","time":{"start":1768573596445,"stop":1768573597236,"duration":791}},{"uid":"803c76e3bbb28c4a","reportUrl":"https://vaizcom.github.io/autotests/540/#testresult/803c76e3bbb28c4a","status":"passed","time":{"start":1768571811972,"stop":1768571813018,"duration":1046}},{"uid":"869b81899de72dfd","reportUrl":"https://vaizcom.github.io/autotests/539/#testresult/869b81899de72dfd","status":"passed","time":{"start":1768483999965,"stop":1768484000987,"duration":1022}},{"uid":"85af487486e47844","reportUrl":"https://vaizcom.github.io/autotests/538/#testresult/85af487486e47844","status":"passed","time":{"start":1768474297007,"stop":1768474297745,"duration":738}},{"uid":"62adf1f1f3239473","reportUrl":"https://vaizcom.github.io/autotests/537/#testresult/62adf1f1f3239473","status":"passed","time":{"start":1768472826664,"stop":1768472827531,"duration":867}},{"uid":"340d3e4afd0e0697","reportUrl":"https://vaizcom.github.io/autotests/536/#testresult/340d3e4afd0e0697","status":"passed","time":{"start":1768469772286,"stop":1768469773101,"duration":815}},{"uid":"4733e14348051cff","reportUrl":"https://vaizcom.github.io/autotests/534/#testresult/4733e14348051cff","status":"passed","time":{"start":1768468004166,"stop":1768468005037,"duration":871}},{"uid":"fd23bf35a75f0f9f","reportUrl":"https://vaizcom.github.io/autotests/533/#testresult/fd23bf35a75f0f9f","status":"passed","time":{"start":1768403785943,"stop":1768403786869,"duration":926}},{"uid":"b04149eca2fa7da6","reportUrl":"https://vaizcom.github.io/autotests/532/#testresult/b04149eca2fa7da6","status":"passed","time":{"start":1768317122535,"stop":1768317123401,"duration":866}},{"uid":"50b9f8b49776f975","reportUrl":"https://vaizcom.github.io/autotests/531/#testresult/50b9f8b49776f975","status":"passed","time":{"start":1768299755848,"stop":1768299756757,"duration":909}},{"uid":"c90019410b1f8451","reportUrl":"https://vaizcom.github.io/autotests/530/#testresult/c90019410b1f8451","status":"failed","statusDetails":"AssertionError: Не удалось создать родительскую задачу: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","time":{"start":1768298705210,"stop":1768298705330,"duration":120}}]},"tags":["backend"]},"source":"c9f75d9996067e6b.json","parameterValues":["'guest_client'","403"]}