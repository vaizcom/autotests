{"uid":"20b8dd6ceb54903f","name":"Получение сиблингов документа (kind=Member)","fullName":"tests.test_backend.document.test_get_siblings#test_get_document_siblings","historyId":"4737455fbac5e2432e8c06fae57f29ea","time":{"start":1751010366627,"stop":1751010368561,"duration":1934},"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"self = <allure_commons._allure.fixture object at 0x7f741ac72f10>, args = ()\nkwargs = {}\n\n    def __call__(self, *args, **kwargs):\n        self.parameters = func_parameters(self._fixture_function, *args, **kwargs)\n    \n        with self:\n>           return self._fixture_function(*args, **kwargs)\n\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/allure_commons/_allure.py:221: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nowner_client = <tests.core.client.APIClient object at 0x7f741c54ad10>\n\n    @pytest.fixture(scope='module')\n    def space_id_module(owner_client):\n        response = owner_client.post(**create_space_endpoint(name='isolated space'))\n        assert response.status_code == 200\n        space_id = response.json()['payload']['space']['_id']\n    \n        yield space_id\n    \n        # Удаление после теста\n        response = owner_client.post(**remove_space_endpoint(space_id=space_id))\n>       assert response.status_code == 200\nE       assert 400 == 200\nE        +  where 400 = <Response [400]>.status_code\n\ntests/conftest.py:93: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1751010257357,"stop":1751010257357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1751010257358,"stop":1751010257358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1751010257358,"stop":1751010257358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1751010257358,"stop":1751010257358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1751010257358,"stop":1751010258040,"duration":682},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"temp_space","time":{"start":1751010258040,"stop":1751010258940,"duration":900},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"temp_member","time":{"start":1751010292900,"stop":1751010293178,"duration":278},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"self = <allure_commons._allure.fixture object at 0x7f741ac72f10>, args = ()\nkwargs = {}\n\n    def __call__(self, *args, **kwargs):\n        self.parameters = func_parameters(self._fixture_function, *args, **kwargs)\n    \n        with self:\n>           return self._fixture_function(*args, **kwargs)\n\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/allure_commons/_allure.py:221: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nowner_client = <tests.core.client.APIClient object at 0x7f741c54ad10>\n\n    @pytest.fixture(scope='module')\n    def space_id_module(owner_client):\n        response = owner_client.post(**create_space_endpoint(name='isolated space'))\n        assert response.status_code == 200\n        space_id = response.json()['payload']['space']['_id']\n    \n        yield space_id\n    \n        # Удаление после теста\n        response = owner_client.post(**remove_space_endpoint(space_id=space_id))\n>       assert response.status_code == 200\nE       assert 400 == 200\nE        +  where 400 = <Response [400]>.status_code\n\ntests/conftest.py:93: AssertionError","steps":[{"name":"Создание родительского документа","time":{"start":1751010366627,"stop":1751010366926,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Создание дочерних документов","time":{"start":1751010366927,"stop":1751010367859,"duration":932},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Запрос сиблингов для среднего дочернего документа","time":{"start":1751010367859,"stop":1751010368105,"duration":246},"status":"passed","steps":[{"name":"Проверка кода ответа при запросе сиблингов","time":{"start":1751010368105,"stop":1751010368105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка поля type в ответе","time":{"start":1751010368105,"stop":1751010368105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Проверка корректности prev/nextSibling и parents","time":{"start":1751010368105,"stop":1751010368105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка nextSibling для первого документа и отсутствие prevSibling","time":{"start":1751010368105,"stop":1751010368333,"duration":228},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка prevSibling для последнего документа и отсутствие nextSibling","time":{"start":1751010368333,"stop":1751010368561,"duration":228},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка наличия обязательных ключей в payload","time":{"start":1751010368561,"stop":1751010368561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка структуры tree и полей document","time":{"start":1751010368561,"stop":1751010368561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка состава tree","time":{"start":1751010368561,"stop":1751010368561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"temp_member::0","time":{"start":1751010380123,"stop":1751010380123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"temp_space::0","time":{"start":1751010380124,"stop":1751010380850,"duration":726},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document"},{"name":"suite","value":"test_get_siblings"},{"name":"host","value":"pkrvmbietmlfzoi"},{"name":"thread","value":"2560-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_siblings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"kind","value":"'Member'"},{"name":"kind_id_fixture","value":"'temp_member'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":2,"unknown":0,"total":4},"items":[{"uid":"fbc90a132c8fe934","reportUrl":"https://vaizcom.github.io/autotests/221//#testresult/fbc90a132c8fe934","status":"passed","time":{"start":1751008216313,"stop":1751008218112,"duration":1799}},{"uid":"799dc5799f29b59","reportUrl":"https://vaizcom.github.io/autotests/220//#testresult/799dc5799f29b59","status":"passed","time":{"start":1751007441993,"stop":1751007444091,"duration":2098}},{"uid":"3da0af930cf39f93","reportUrl":"https://vaizcom.github.io/autotests/216//#testresult/3da0af930cf39f93","status":"failed","statusDetails":"AssertionError: prevSibling для родителя должен быть None\nassert {'_id': '685d0e3da2b8f0d475387225', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...} is None\n +  where {'_id': '685d0e3da2b8f0d475387225', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...} = <built-in method get of dict object at 0x7f946e3d1000>('prevSibling')\n +    where <built-in method get of dict object at 0x7f946e3d1000> = {'parents': [], 'prevSibling': {'_id': '685d0e3da2b8f0d475387225', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...}, 'tree': [{'document': {'_id': '685d0e44a2b8f0d4753873e1', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...}, 'id': '685d0e44a2b8f0d4753873e1', 'lft': 0, 'rgt': 7}, {'document': {'_id': '685d0e44a2b8f0d4753873f5', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...}, 'id': '685d0e44a2b8f0d4753873f5', 'lft': 1, 'rgt': 2}, {'document': {'_id': '685d0e45a2b8f0d47538743c', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...}, 'id': '685d0e45a2b8f0d47538743c', 'lft': 3, 'rgt': 4}, {'document': {'_id': '685d0e45a2b8f0d475387451', 'kind': 'Member', 'kindId': '685d0defa2b8f0d475385ad0', 'map': [], ...}, 'id': '685d0e45a2b8f0d475387451', 'lft': 5, 'rgt': 6}]}.get","time":{"start":1750928964434,"stop":1750928966327,"duration":1893}}]},"tags":["backend"]},"source":"20b8dd6ceb54903f.json","parameterValues":["'Member'","'temp_member'"]}