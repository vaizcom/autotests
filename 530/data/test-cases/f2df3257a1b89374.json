{"uid":"f2df3257a1b89374","name":"Тестирование получения задач под ролью Client_with_access_only_in_project","fullName":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_project_filters#test_get_tasks_limited_access_filtered_by_project","historyId":"6697bf00acade6656128d76394baed91","time":{"start":1768298714016,"stop":1768298714135,"duration":119},"description":"\n        Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n        но при этом запрос выполняется успешно (HTTP 200).\n        ","descriptionHtml":"<pre><code>    Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n    но при этом запрос выполняется успешно (HTTP 200).\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_get_tasks_limited_access_filtered_by_project[no_access_to_main_project]>>\nclient_fixture = 'client_with_access_only_in_project'\nmain_project = '686672af85fb8d104544e798'\nmain_space = '6866309d85fb8d104544a61e'\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Access get Tasks\")\n    @allure.title(\"GetTasks: Проверка что список задач пустой для пользователей которые не имеют доступ к project\")\n    @pytest.mark.parametrize(\n        'client_fixture',\n        ['client_with_access_only_in_space', 'client_with_access_only_in_project'],\n        ids=['access_only_in_space', 'no_access_to_main_project'],\n    )\n    def test_get_tasks_limited_access_filtered_by_project(request, client_fixture, main_project, main_space):\n        \"\"\"\n            Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n            но при этом запрос выполняется успешно (HTTP 200).\n            \"\"\"\n        role_name = client_fixture.capitalize()\n        allure.dynamic.title(f\"Тестирование получения задач под ролью {role_name}\")\n    \n        client = request.getfixturevalue(client_fixture)\n    \n        with allure.step(f\"{client_fixture}: вызвать GetTasks с фильтром project\"):\n            resp = client.post(**get_tasks_endpoint(space_id=main_space, project=main_project))\n    \n        with allure.step(\"Проверить HTTP 200\"):\n>           assert resp.status_code == 200\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py:82: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1768298488144,"stop":1768298488609,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1768298488609,"stop":1768298489052,"duration":443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1768298489052,"stop":1768298489481,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client_with_access_only_in_project","time":{"start":1768298493891,"stop":1768298494148,"duration":257},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n        но при этом запрос выполняется успешно (HTTP 200).\n        ","status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_get_tasks_limited_access_filtered_by_project[no_access_to_main_project]>>\nclient_fixture = 'client_with_access_only_in_project'\nmain_project = '686672af85fb8d104544e798'\nmain_space = '6866309d85fb8d104544a61e'\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Access get Tasks\")\n    @allure.title(\"GetTasks: Проверка что список задач пустой для пользователей которые не имеют доступ к project\")\n    @pytest.mark.parametrize(\n        'client_fixture',\n        ['client_with_access_only_in_space', 'client_with_access_only_in_project'],\n        ids=['access_only_in_space', 'no_access_to_main_project'],\n    )\n    def test_get_tasks_limited_access_filtered_by_project(request, client_fixture, main_project, main_space):\n        \"\"\"\n            Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n            но при этом запрос выполняется успешно (HTTP 200).\n            \"\"\"\n        role_name = client_fixture.capitalize()\n        allure.dynamic.title(f\"Тестирование получения задач под ролью {role_name}\")\n    \n        client = request.getfixturevalue(client_fixture)\n    \n        with allure.step(f\"{client_fixture}: вызвать GetTasks с фильтром project\"):\n            resp = client.post(**get_tasks_endpoint(space_id=main_space, project=main_project))\n    \n        with allure.step(\"Проверить HTTP 200\"):\n>           assert resp.status_code == 200\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py:82: AssertionError","steps":[{"name":"client_with_access_only_in_project: вызвать GetTasks с фильтром project","time":{"start":1768298714016,"stop":1768298714135,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить HTTP 200","time":{"start":1768298714135,"stop":1768298714135,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py\", line 82, in test_get_tasks_limited_access_filtered_by_project\n    assert resp.status_code == 200\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"subSuite","value":"Access get Tasks"},{"name":"suite","value":"Get Tasks"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_project_filters"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'client_with_access_only_in_project'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":75,"unknown":0,"total":79},"items":[{"uid":"94fdef0c4744c51b","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/94fdef0c4744c51b","status":"passed","time":{"start":1767850349075,"stop":1767850349305,"duration":230}},{"uid":"aa442e7d491e7e5","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/aa442e7d491e7e5","status":"passed","time":{"start":1766508242744,"stop":1766508242958,"duration":214}},{"uid":"ca2c60963413a483","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/ca2c60963413a483","status":"passed","time":{"start":1766506907719,"stop":1766506908003,"duration":284}},{"uid":"67423bfa2528f2f7","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/67423bfa2528f2f7","status":"passed","time":{"start":1766505741821,"stop":1766505742060,"duration":239}},{"uid":"cbd02bd700a60e59","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/cbd02bd700a60e59","status":"passed","time":{"start":1766504659757,"stop":1766504659942,"duration":185}},{"uid":"552ce98019af9a55","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/552ce98019af9a55","status":"passed","time":{"start":1766503370929,"stop":1766503371107,"duration":178}},{"uid":"3ed02b8bda846443","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/3ed02b8bda846443","status":"passed","time":{"start":1766497532411,"stop":1766497532593,"duration":182}},{"uid":"7d16f5f82047a59f","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/7d16f5f82047a59f","status":"passed","time":{"start":1766489153620,"stop":1766489153786,"duration":166}},{"uid":"5b01adafdd539518","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/5b01adafdd539518","status":"passed","time":{"start":1766487839539,"stop":1766487839795,"duration":256}},{"uid":"11f7ab0588af1fbf","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/11f7ab0588af1fbf","status":"passed","time":{"start":1766412677055,"stop":1766412677261,"duration":206}},{"uid":"3331028014d44581","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/3331028014d44581","status":"passed","time":{"start":1766406588660,"stop":1766406588818,"duration":158}},{"uid":"ac9d59c842862606","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/ac9d59c842862606","status":"passed","time":{"start":1766404275066,"stop":1766404275275,"duration":209}},{"uid":"32f022fad1b7ecbf","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/32f022fad1b7ecbf","status":"passed","time":{"start":1766402928943,"stop":1766402929137,"duration":194}},{"uid":"be205516edfb0e39","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/be205516edfb0e39","status":"passed","time":{"start":1766067829141,"stop":1766067829338,"duration":197}},{"uid":"d755c8aff546015d","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/d755c8aff546015d","status":"passed","time":{"start":1766043244718,"stop":1766043244891,"duration":173}},{"uid":"dc71af770fec293e","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/dc71af770fec293e","status":"passed","time":{"start":1765984700227,"stop":1765984700471,"duration":244}},{"uid":"1d15670ad15045ac","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/1d15670ad15045ac","status":"passed","time":{"start":1765976009931,"stop":1765976010224,"duration":293}},{"uid":"7aebdf5fed655443","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/7aebdf5fed655443","status":"passed","time":{"start":1765892184638,"stop":1765892185252,"duration":614}},{"uid":"ace00a8170bb149c","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/ace00a8170bb149c","status":"passed","time":{"start":1765890371941,"stop":1765890372336,"duration":395}},{"uid":"da3e7e479b85f2d2","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/da3e7e479b85f2d2","status":"passed","time":{"start":1765881509315,"stop":1765881509506,"duration":191}}]},"tags":["backend"]},"source":"f2df3257a1b89374.json","parameterValues":["'client_with_access_only_in_project'"]}