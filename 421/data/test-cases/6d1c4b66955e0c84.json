{"uid":"6d1c4b66955e0c84","name":"Создание Personal-документа для роли owner","fullName":"tests.test_backend.document.access_doc.test_create_doc_access_by_roles#test_create_and_archive_personal_doc_access_by_roles","historyId":"f564c615cc7de914d0b50e1cf4067b94","time":{"start":1762516773857,"stop":1762516773989,"duration":132},"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_and_archive_personal_doc_access_by_roles[owner]>>\nmain_personal = {'guest': ['686630dd85fb8d104544aac8'], 'manager': ['6866313985fb8d104544ab6c'], 'member': ['6866310b85fb8d104544ab1d'], 'owner': ['6866346d85fb8d104544ae41']}\nclient_fixture = 'owner_client', expected_status = 200\nmain_space = '6866309d85fb8d104544a61e'\n\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 200),\n            ('guest_client', 200),\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_create_and_archive_personal_doc_access_by_roles(\n        request, main_personal, client_fixture, expected_status, main_space\n    ):\n        api_client = request.getfixturevalue(client_fixture)\n        role = client_fixture.replace('_client', '')\n        personal_id = main_personal[role][0]\n        current_date = datetime.now().strftime('%Y.%m.%d_%H:%M:%S')\n        title = f'{current_date} Personal Doc'\n    \n        allure.dynamic.title(f'Создание Personal-документа для роли {role}')\n    \n        with allure.step(f'{role} создаёт Personal-документ, {expected_status}'):\n            resp = api_client.post(\n                **create_document_endpoint(kind='Member', kind_id=personal_id, space_id=main_space, title=title)\n            )\n>           assert resp.status_code == expected_status\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_create_doc_access_by_roles.py:113: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_and_archive_personal_doc_access_by_roles[owner]>>\nmain_personal = {'guest': ['686630dd85fb8d104544aac8'], 'manager': ['6866313985fb8d104544ab6c'], 'member': ['6866310b85fb8d104544ab1d'], 'owner': ['6866346d85fb8d104544ae41']}\nclient_fixture = 'owner_client', expected_status = 200\nmain_space = '6866309d85fb8d104544a61e'\n\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 200),\n            ('guest_client', 200),\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_create_and_archive_personal_doc_access_by_roles(\n        request, main_personal, client_fixture, expected_status, main_space\n    ):\n        api_client = request.getfixturevalue(client_fixture)\n        role = client_fixture.replace('_client', '')\n        personal_id = main_personal[role][0]\n        current_date = datetime.now().strftime('%Y.%m.%d_%H:%M:%S')\n        title = f'{current_date} Personal Doc'\n    \n        allure.dynamic.title(f'Создание Personal-документа для роли {role}')\n    \n        with allure.step(f'{role} создаёт Personal-документ, {expected_status}'):\n            resp = api_client.post(\n                **create_document_endpoint(kind='Member', kind_id=personal_id, space_id=main_space, title=title)\n            )\n>           assert resp.status_code == expected_status\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_create_doc_access_by_roles.py:113: AssertionError","steps":[{"name":"owner создаёт Personal-документ, 200","time":{"start":1762516773857,"stop":1762516773989,"duration":132},"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_create_doc_access_by_roles.py\", line 113, in test_create_and_archive_personal_doc_access_by_roles\n    assert resp.status_code == expected_status\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_create_doc_access_by_roles"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2586-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_create_doc_access_by_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'owner_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":14,"unknown":0,"total":17},"items":[{"uid":"f59d2b711cd95bd9","reportUrl":"https://vaizcom.github.io/autotests/421/#testresult/f59d2b711cd95bd9","status":"failed","statusDetails":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1762516309333,"stop":1762516309467,"duration":134}},{"uid":"15aaeaa81fa9de8c","reportUrl":"https://vaizcom.github.io/autotests/421/#testresult/15aaeaa81fa9de8c","status":"failed","statusDetails":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1762514766550,"stop":1762514766676,"duration":126}},{"uid":"7cf4bbe6a6717d68","reportUrl":"https://vaizcom.github.io/autotests/420/#testresult/7cf4bbe6a6717d68","status":"passed","time":{"start":1762507450047,"stop":1762507450584,"duration":537}},{"uid":"af664e541763b7a3","reportUrl":"https://vaizcom.github.io/autotests/420/#testresult/af664e541763b7a3","status":"passed","time":{"start":1762506149072,"stop":1762506149529,"duration":457}},{"uid":"1477f0b84ee99e8c","reportUrl":"https://vaizcom.github.io/autotests/419/#testresult/1477f0b84ee99e8c","status":"passed","time":{"start":1762505268334,"stop":1762505268757,"duration":423}},{"uid":"9838b14e0f575486","reportUrl":"https://vaizcom.github.io/autotests/418/#testresult/9838b14e0f575486","status":"passed","time":{"start":1762354242493,"stop":1762354243031,"duration":538}},{"uid":"6efd45e9692ac7ba","reportUrl":"https://vaizcom.github.io/autotests/417/#testresult/6efd45e9692ac7ba","status":"passed","time":{"start":1762353174892,"stop":1762353175444,"duration":552}},{"uid":"3e734f124cbf128a","reportUrl":"https://vaizcom.github.io/autotests/416/#testresult/3e734f124cbf128a","status":"passed","time":{"start":1762349764892,"stop":1762349765491,"duration":599}},{"uid":"9514a54a9c53cf15","reportUrl":"https://vaizcom.github.io/autotests/415/#testresult/9514a54a9c53cf15","status":"passed","time":{"start":1762331777335,"stop":1762331777953,"duration":618}},{"uid":"ff234659baed473a","reportUrl":"https://vaizcom.github.io/autotests/414/#testresult/ff234659baed473a","status":"passed","time":{"start":1762328785648,"stop":1762328786214,"duration":566}},{"uid":"4745079b16ea3123","reportUrl":"https://vaizcom.github.io/autotests/413/#testresult/4745079b16ea3123","status":"passed","time":{"start":1762270400830,"stop":1762270401411,"duration":581}},{"uid":"e228559118a4ee4f","reportUrl":"https://vaizcom.github.io/autotests/412/#testresult/e228559118a4ee4f","status":"passed","time":{"start":1762269536601,"stop":1762269537231,"duration":630}},{"uid":"abfabf3ef7fc5913","reportUrl":"https://vaizcom.github.io/autotests/411/#testresult/abfabf3ef7fc5913","status":"passed","time":{"start":1762269397585,"stop":1762269398164,"duration":579}},{"uid":"4a0f01f4fe70ecab","reportUrl":"https://vaizcom.github.io/autotests/410/#testresult/4a0f01f4fe70ecab","status":"passed","time":{"start":1762269274633,"stop":1762269275090,"duration":457}},{"uid":"191fa6078b4ff86d","reportUrl":"https://vaizcom.github.io/autotests/409/#testresult/191fa6078b4ff86d","status":"passed","time":{"start":1762268655135,"stop":1762268655592,"duration":457}},{"uid":"f9a40c587e4a532d","reportUrl":"https://vaizcom.github.io/autotests/408/#testresult/f9a40c587e4a532d","status":"passed","time":{"start":1762244987911,"stop":1762244988521,"duration":610}}]},"tags":["backend"]},"source":"6d1c4b66955e0c84.json","parameterValues":["'owner_client'","200"]}