{"uid":"8a31a4a8bd116961","name":"Негативный тест: создание задачи с отрицательным индексом (index=-10) Ожидался статус 400","fullName":"tests.test_backend.task_service.create_task.test_task_indexing_in_group#test_create_task_with_negative_index_returns_error","historyId":"6cf7446d635f17b4f38bf64eb9588a8a","time":{"start":1762506284173,"stop":1762506284282,"duration":109},"description":"\n    Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\n    ","descriptionHtml":"<pre><code>Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено 503, ответ: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_task_with_negative_index_returns_error[-10]>>\nmain_space = '6866309d85fb8d104544a61e', main_board = '6866731185fb8d104544e826'\nnegative_index = -10\n\n    @allure.parent_suite(\"create_task\")\n    @allure.title(\"Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\")\n    @pytest.mark.parametrize(\"negative_index\", [-1, -10])\n    def test_create_task_with_negative_index_returns_error(\n        request, main_space, main_board, negative_index\n    ):\n        \"\"\"\n        Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\n        \"\"\"\n        allure.dynamic.title(f\"Негативный тест: создание задачи с отрицательным индексом (index={negative_index}) Ожидался статус 400\")\n        client = request.getfixturevalue(\"owner_client\")\n        payload = create_task_endpoint(\n            space_id=main_space,\n            board=main_board,\n            name=\"Test negative index\",\n            index=negative_index,\n        )\n        with allure.step(f\"Пробуем создать задачу с index={negative_index}\"):\n            response = client.post(**payload)\n    \n        with allure.step(\"Проверяем структуру и содержание ошибки\"):\n>           assert response.status_code == 400, f\"Ожидался статус 400, получено {response.status_code}, ответ: {response.text}\"\nE           AssertionError: Ожидался статус 400, получено 503, ответ: <html>\r\nE             <head><title>503 Service Temporarily Unavailable</title></head>\r\nE             <body>\r\nE             <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE             <hr><center>nginx</center>\r\nE             </body>\r\nE             </html>\r\nE             \nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/create_task/test_task_indexing_in_group.py:130: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1762506104056,"stop":1762506104470,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1762506104470,"stop":1762506104874,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1762506105061,"stop":1762506105490,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1762506109864,"stop":1762506110247,"duration":383},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\n    ","status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено 503, ответ: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_create_task_with_negative_index_returns_error[-10]>>\nmain_space = '6866309d85fb8d104544a61e', main_board = '6866731185fb8d104544e826'\nnegative_index = -10\n\n    @allure.parent_suite(\"create_task\")\n    @allure.title(\"Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\")\n    @pytest.mark.parametrize(\"negative_index\", [-1, -10])\n    def test_create_task_with_negative_index_returns_error(\n        request, main_space, main_board, negative_index\n    ):\n        \"\"\"\n        Негативный тест: создание задачи с отрицательным индексом должно возвращать ошибку по полю index.\n        \"\"\"\n        allure.dynamic.title(f\"Негативный тест: создание задачи с отрицательным индексом (index={negative_index}) Ожидался статус 400\")\n        client = request.getfixturevalue(\"owner_client\")\n        payload = create_task_endpoint(\n            space_id=main_space,\n            board=main_board,\n            name=\"Test negative index\",\n            index=negative_index,\n        )\n        with allure.step(f\"Пробуем создать задачу с index={negative_index}\"):\n            response = client.post(**payload)\n    \n        with allure.step(\"Проверяем структуру и содержание ошибки\"):\n>           assert response.status_code == 400, f\"Ожидался статус 400, получено {response.status_code}, ответ: {response.text}\"\nE           AssertionError: Ожидался статус 400, получено 503, ответ: <html>\r\nE             <head><title>503 Service Temporarily Unavailable</title></head>\r\nE             <body>\r\nE             <center><h1>503 Service Temporarily Unavailable</h1></center>\r\nE             <hr><center>nginx</center>\r\nE             </body>\r\nE             </html>\r\nE             \nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/create_task/test_task_indexing_in_group.py:130: AssertionError","steps":[{"name":"Пробуем создать задачу с index=-10","time":{"start":1762506284174,"stop":1762506284281,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем структуру и содержание ошибки","time":{"start":1762506284281,"stop":1762506284281,"duration":0},"status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено 503, ответ: <html>\r\n  <head><title>503 Service Temporarily Unavailable</title></head>\r\n  <body>\r\n  <center><h1>503 Service Temporarily Unavailable</h1></center>\r\n  <hr><center>nginx</center>\r\n  </body>\r\n  </html>\r\n  \nassert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/create_task/test_task_indexing_in_group.py\", line 130, in test_create_task_with_negative_index_returns_error\n    assert response.status_code == 400, f\"Ожидался статус 400, получено {response.status_code}, ответ: {response.text}\"\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"create_task"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_task_indexing_in_group"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"2573-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.create_task.test_task_indexing_in_group"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"negative_index","value":"-10"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":13},"items":[{"uid":"b703e2c4604d03e","reportUrl":"https://vaizcom.github.io/autotests/419/#testresult/b703e2c4604d03e","status":"passed","time":{"start":1762505837526,"stop":1762505837712,"duration":186}},{"uid":"1c6f8e15602a25e8","reportUrl":"https://vaizcom.github.io/autotests/418/#testresult/1c6f8e15602a25e8","status":"passed","time":{"start":1762354825728,"stop":1762354825977,"duration":249}},{"uid":"644a3cdfc004c7cb","reportUrl":"https://vaizcom.github.io/autotests/417/#testresult/644a3cdfc004c7cb","status":"passed","time":{"start":1762353790277,"stop":1762353790538,"duration":261}},{"uid":"54c83057f68af1a1","reportUrl":"https://vaizcom.github.io/autotests/416/#testresult/54c83057f68af1a1","status":"passed","time":{"start":1762350370137,"stop":1762350370384,"duration":247}},{"uid":"3ae4bde7156c4a31","reportUrl":"https://vaizcom.github.io/autotests/415/#testresult/3ae4bde7156c4a31","status":"passed","time":{"start":1762332283266,"stop":1762332283458,"duration":192}},{"uid":"2283af893b1b8f83","reportUrl":"https://vaizcom.github.io/autotests/414/#testresult/2283af893b1b8f83","status":"passed","time":{"start":1762329390119,"stop":1762329390372,"duration":253}},{"uid":"4aee7952740d54c2","reportUrl":"https://vaizcom.github.io/autotests/413/#testresult/4aee7952740d54c2","status":"passed","time":{"start":1762270987271,"stop":1762270987501,"duration":230}},{"uid":"fd135629a72d5081","reportUrl":"https://vaizcom.github.io/autotests/412/#testresult/fd135629a72d5081","status":"passed","time":{"start":1762270299240,"stop":1762270299484,"duration":244}},{"uid":"d3a3da45091858a","reportUrl":"https://vaizcom.github.io/autotests/411/#testresult/d3a3da45091858a","status":"passed","time":{"start":1762270190473,"stop":1762270190736,"duration":263}},{"uid":"d85b2c3ab7abae55","reportUrl":"https://vaizcom.github.io/autotests/410/#testresult/d85b2c3ab7abae55","status":"passed","time":{"start":1762269950801,"stop":1762269951291,"duration":490}},{"uid":"a5a6029acd70197e","reportUrl":"https://vaizcom.github.io/autotests/409/#testresult/a5a6029acd70197e","status":"passed","time":{"start":1762269167375,"stop":1762269167568,"duration":193}},{"uid":"2efea5170838c94b","reportUrl":"https://vaizcom.github.io/autotests/408/#testresult/2efea5170838c94b","status":"passed","time":{"start":1762245626136,"stop":1762245626394,"duration":258}}]},"tags":["backend"]},"source":"8a31a4a8bd116961.json","parameterValues":["-10"]}