{"uid":"96d21b1d47475d2","name":"Архивирование Space-документа для роли manager","fullName":"tests.test_backend.document.access_doc.test_archive_doc#test_archive_space_doc","historyId":"5e7c8af1758830173e4e2d42e4b077e5","time":{"start":1752665679510,"stop":1752665680175,"duration":665},"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","descriptionHtml":"<pre><code>Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\nТест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\nи оценивает возможность архивации документа на основе предоставленной роли client_fixture.\nПроверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\nДополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\nс использованием случайного клиента с повышенными правами.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1752665650193,"stop":1752665650193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1752665650193,"stop":1752665650193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1752665650194,"stop":1752665650194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1752665650194,"stop":1752665650194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1752665676854,"stop":1752665677513,"duration":659},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1752665677513,"stop":1752665677870,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"manager_client","time":{"start":1752665677871,"stop":1752665678525,"duration":654},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","status":"passed","steps":[{"name":"Случайный клиент(manager_client) создаёт Space-документ для архивации (title = 16.07_11:34:39 Space Doc For Archive Check)","time":{"start":1752665679510,"stop":1752665679838,"duration":328},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Архивация Space-документа в роли manager, 200","time":{"start":1752665679838,"stop":1752665680174,"duration":336},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_archive_doc"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2560-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_archive_doc"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'manager_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":50,"unknown":0,"total":54},"items":[{"uid":"bab7b974761c4e82","reportUrl":"https://vaizcom.github.io/autotests/307//#testresult/bab7b974761c4e82","status":"passed","time":{"start":1752586300690,"stop":1752586301809,"duration":1119}},{"uid":"7a935e17e8d6c8fc","reportUrl":"https://vaizcom.github.io/autotests/306//#testresult/7a935e17e8d6c8fc","status":"passed","time":{"start":1752585461471,"stop":1752585462598,"duration":1127}},{"uid":"7dd9786a452e4c5a","reportUrl":"https://vaizcom.github.io/autotests/305//#testresult/7dd9786a452e4c5a","status":"passed","time":{"start":1752583562877,"stop":1752583563401,"duration":524}},{"uid":"7b47688c33bc06ff","reportUrl":"https://vaizcom.github.io/autotests/304//#testresult/7b47688c33bc06ff","status":"passed","time":{"start":1752579795282,"stop":1752579795791,"duration":509}},{"uid":"c168ba817399f407","reportUrl":"https://vaizcom.github.io/autotests/303//#testresult/c168ba817399f407","status":"passed","time":{"start":1752569817253,"stop":1752569818950,"duration":1697}},{"uid":"670778dc2408527d","reportUrl":"https://vaizcom.github.io/autotests/302//#testresult/670778dc2408527d","status":"passed","time":{"start":1752568880727,"stop":1752568883485,"duration":2758}},{"uid":"971e4a64e85c09b4","reportUrl":"https://vaizcom.github.io/autotests/301//#testresult/971e4a64e85c09b4","status":"passed","time":{"start":1752568134339,"stop":1752568134884,"duration":545}},{"uid":"e9519dd2169e5594","reportUrl":"https://vaizcom.github.io/autotests/300//#testresult/e9519dd2169e5594","status":"passed","time":{"start":1752565810699,"stop":1752565811385,"duration":686}},{"uid":"d8696e2864a720be","reportUrl":"https://vaizcom.github.io/autotests/299//#testresult/d8696e2864a720be","status":"passed","time":{"start":1752565262843,"stop":1752565263598,"duration":755}},{"uid":"4c8e4e9fe99b7345","reportUrl":"https://vaizcom.github.io/autotests/298//#testresult/4c8e4e9fe99b7345","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752563848045,"stop":1752563848045,"duration":0}},{"uid":"c6b41e1a8e325561","reportUrl":"https://vaizcom.github.io/autotests/297//#testresult/c6b41e1a8e325561","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752562435903,"stop":1752562435903,"duration":0}},{"uid":"d12cb80c630b090c","reportUrl":"https://vaizcom.github.io/autotests/296//#testresult/d12cb80c630b090c","status":"failed","statusDetails":"AssertionError: assert 200 == 403","time":{"start":1752501031412,"stop":1752501031972,"duration":560}},{"uid":"d60b4c01214e431e","reportUrl":"https://vaizcom.github.io/autotests/295//#testresult/d60b4c01214e431e","status":"failed","statusDetails":"AssertionError: assert 200 == 403","time":{"start":1752500642531,"stop":1752500643331,"duration":800}},{"uid":"645618ab542796dd","reportUrl":"https://vaizcom.github.io/autotests/294//#testresult/645618ab542796dd","status":"passed","time":{"start":1752499326547,"stop":1752499328079,"duration":1532}},{"uid":"f4e3e95e4268a1ea","reportUrl":"https://vaizcom.github.io/autotests/293//#testresult/f4e3e95e4268a1ea","status":"passed","time":{"start":1752498148805,"stop":1752498149358,"duration":553}},{"uid":"2953af9bb7989aab","reportUrl":"https://vaizcom.github.io/autotests/292//#testresult/2953af9bb7989aab","status":"passed","time":{"start":1752496478951,"stop":1752496480571,"duration":1620}},{"uid":"7436d5d1a359c8da","reportUrl":"https://vaizcom.github.io/autotests/291//#testresult/7436d5d1a359c8da","status":"passed","time":{"start":1752481624079,"stop":1752481625256,"duration":1177}},{"uid":"59bcfe9441464690","reportUrl":"https://vaizcom.github.io/autotests/290//#testresult/59bcfe9441464690","status":"passed","time":{"start":1752479652094,"stop":1752479653580,"duration":1486}},{"uid":"172e44d5df33f3d5","reportUrl":"https://vaizcom.github.io/autotests/289//#testresult/172e44d5df33f3d5","status":"passed","time":{"start":1752477798634,"stop":1752477799180,"duration":546}},{"uid":"f46f7e1431ddfedc","reportUrl":"https://vaizcom.github.io/autotests/288//#testresult/f46f7e1431ddfedc","status":"passed","time":{"start":1752236677232,"stop":1752236678821,"duration":1589}}]},"tags":["backend"]},"source":"96d21b1d47475d2.json","parameterValues":["'manager_client'","200"]}