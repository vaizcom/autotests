{"uid":"a4eab4023c1b7c0b","name":"Multiple Edit Tasks: completed = True/False для 1 задач (ожидаемый статус 200)","fullName":"tests.test_backend.task_service.multiple_edit_tasks.test_multiple_edit_tasks_completed#test_multiple_edit_tasks_completed","historyId":"a84f57d3f43ce9e67aaed86d97de8e5f","time":{"start":1765458195153,"stop":1765458195717,"duration":564},"status":"failed","statusMessage":"AssertionError: Ожидали 200 при 1 задачах, получено: 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f7a7e437090>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7f7a7e113f60>\ncount = 1, expect_status = 200\n\n    @allure.parent_suite(\"multiple_edit_tasks\")\n    @pytest.mark.parametrize(\n        \"count, expect_status\",\n        [\n            (1, 200),\n            (20, 200),\n        ],\n        ids=[\"1-task\", \"20-tasks\"],\n    )\n    def test_multiple_edit_tasks_completed(owner_client, main_space, create_30_tasks, count, expect_status):\n        allure.dynamic.title(f\"Multiple Edit Tasks: completed = True/False для {count} задач (ожидаемый статус {expect_status})\")\n        \"\"\"\n            Флоу:\n            1) Создать N задач (1, 20).\n            2) Проставить completed=True через MultipleEditTasks (ожидаем 200).\n            3) Проверить через get_task, что completed=True.\n            4) Снять completed=False и проверить через get_task.\n        \"\"\"\n    \n        with allure.step(f\"Создаём {count} задач\"):\n            task_ids = create_30_tasks(count=count)\n            assert len(task_ids) == count, f\"Ожидали создать {count} задач, создано: {len(task_ids)}\"\n    \n        with allure.step(f\"Устанавливаем completed=True для {count} задач\"):\n            payload_true = [{\"taskId\": tid, \"completed\": True} for tid in task_ids]\n            resp_true = owner_client.post(**multiple_edit_tasks_endpoint(space_id=main_space, tasks=payload_true))\n            body_true = resp_true.json()\n    \n        with allure.step(\"Проверяем, что ответ корректен и задачи отражены в success\"):\n>           assert resp_true.status_code == 200, f\"Ожидали 200 при {count} задачах, получено: {resp_true.status_code}\"\nE           AssertionError: Ожидали 200 при 1 задачах, получено: 400\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_completed.py:37: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1765457368185,"stop":1765457368691,"duration":506},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1765457370634,"stop":1765457370872,"duration":238},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1765457370872,"stop":1765457371085,"duration":213},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1765457726227,"stop":1765457726691,"duration":464},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_30_tasks","time":{"start":1765458195153,"stop":1765458195153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Ожидали 200 при 1 задачах, получено: 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f7a7e437090>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7f7a7e113f60>\ncount = 1, expect_status = 200\n\n    @allure.parent_suite(\"multiple_edit_tasks\")\n    @pytest.mark.parametrize(\n        \"count, expect_status\",\n        [\n            (1, 200),\n            (20, 200),\n        ],\n        ids=[\"1-task\", \"20-tasks\"],\n    )\n    def test_multiple_edit_tasks_completed(owner_client, main_space, create_30_tasks, count, expect_status):\n        allure.dynamic.title(f\"Multiple Edit Tasks: completed = True/False для {count} задач (ожидаемый статус {expect_status})\")\n        \"\"\"\n            Флоу:\n            1) Создать N задач (1, 20).\n            2) Проставить completed=True через MultipleEditTasks (ожидаем 200).\n            3) Проверить через get_task, что completed=True.\n            4) Снять completed=False и проверить через get_task.\n        \"\"\"\n    \n        with allure.step(f\"Создаём {count} задач\"):\n            task_ids = create_30_tasks(count=count)\n            assert len(task_ids) == count, f\"Ожидали создать {count} задач, создано: {len(task_ids)}\"\n    \n        with allure.step(f\"Устанавливаем completed=True для {count} задач\"):\n            payload_true = [{\"taskId\": tid, \"completed\": True} for tid in task_ids]\n            resp_true = owner_client.post(**multiple_edit_tasks_endpoint(space_id=main_space, tasks=payload_true))\n            body_true = resp_true.json()\n    \n        with allure.step(\"Проверяем, что ответ корректен и задачи отражены в success\"):\n>           assert resp_true.status_code == 200, f\"Ожидали 200 при {count} задачах, получено: {resp_true.status_code}\"\nE           AssertionError: Ожидали 200 при 1 задачах, получено: 400\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_completed.py:37: AssertionError","steps":[{"name":"Создаём 1 задач","time":{"start":1765458195153,"stop":1765458195467,"duration":314},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Устанавливаем completed=True для 1 задач","time":{"start":1765458195467,"stop":1765458195716,"duration":249},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем, что ответ корректен и задачи отражены в success","time":{"start":1765458195716,"stop":1765458195717,"duration":1},"status":"failed","statusMessage":"AssertionError: Ожидали 200 при 1 задачах, получено: 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_completed.py\", line 37, in test_multiple_edit_tasks_completed\n    assert resp_true.status_code == 200, f\"Ожидали 200 при {count} задачах, получено: {resp_true.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_30_tasks::0","time":{"start":1765458195722,"stop":1765458195982,"duration":260},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"multiple_edit_tasks"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_multiple_edit_tasks_completed"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2641-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.multiple_edit_tasks.test_multiple_edit_tasks_completed"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"count","value":"1"},{"name":"expect_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":20,"unknown":0,"total":22},"items":[{"uid":"81abf0059de2e649","reportUrl":"https://vaizcom.github.io/autotests/498/#testresult/81abf0059de2e649","status":"passed","time":{"start":1765444448780,"stop":1765444453498,"duration":4718}},{"uid":"4f1c94943376eaac","reportUrl":"https://vaizcom.github.io/autotests/497/#testresult/4f1c94943376eaac","status":"passed","time":{"start":1765442560288,"stop":1765442562037,"duration":1749}},{"uid":"cc4eff4cbc7a0ab4","reportUrl":"https://vaizcom.github.io/autotests/496/#testresult/cc4eff4cbc7a0ab4","status":"passed","time":{"start":1765372976152,"stop":1765372978131,"duration":1979}},{"uid":"aad2f8d80d4217ba","reportUrl":"https://vaizcom.github.io/autotests/495/#testresult/aad2f8d80d4217ba","status":"passed","time":{"start":1765274557151,"stop":1765274559548,"duration":2397}},{"uid":"e6e04e64700e64ee","reportUrl":"https://vaizcom.github.io/autotests/494/#testresult/e6e04e64700e64ee","status":"passed","time":{"start":1765206725322,"stop":1765206727588,"duration":2266}},{"uid":"b7db7501271aaec8","reportUrl":"https://vaizcom.github.io/autotests/493/#testresult/b7db7501271aaec8","status":"passed","time":{"start":1765203585129,"stop":1765203586709,"duration":1580}},{"uid":"b32aff8fbfbeba3a","reportUrl":"https://vaizcom.github.io/autotests/492/#testresult/b32aff8fbfbeba3a","status":"passed","time":{"start":1765200726941,"stop":1765200733941,"duration":7000}},{"uid":"bebe742f1b7358c","reportUrl":"https://vaizcom.github.io/autotests/491/#testresult/bebe742f1b7358c","status":"passed","time":{"start":1765189307472,"stop":1765189311447,"duration":3975}},{"uid":"ad2eb41a4c2457d9","reportUrl":"https://vaizcom.github.io/autotests/490/#testresult/ad2eb41a4c2457d9","status":"passed","time":{"start":1765187971715,"stop":1765187973367,"duration":1652}},{"uid":"ccd06bfce34a2d74","reportUrl":"https://vaizcom.github.io/autotests/489/#testresult/ccd06bfce34a2d74","status":"passed","time":{"start":1764995167554,"stop":1764995169052,"duration":1498}},{"uid":"f41e888411b1bae4","reportUrl":"https://vaizcom.github.io/autotests/488/#testresult/f41e888411b1bae4","status":"passed","time":{"start":1764856198507,"stop":1764856199773,"duration":1266}},{"uid":"67059770a478e4e3","reportUrl":"https://vaizcom.github.io/autotests/487/#testresult/67059770a478e4e3","status":"passed","time":{"start":1764851577933,"stop":1764851579185,"duration":1252}},{"uid":"7d63f6528590640a","reportUrl":"https://vaizcom.github.io/autotests/486/#testresult/7d63f6528590640a","status":"passed","time":{"start":1764848852597,"stop":1764848854104,"duration":1507}},{"uid":"a1ec2b8639327278","reportUrl":"https://vaizcom.github.io/autotests/485/#testresult/a1ec2b8639327278","status":"passed","time":{"start":1764766903799,"stop":1764766905480,"duration":1681}},{"uid":"7ca22050c12b21f3","reportUrl":"https://vaizcom.github.io/autotests/484/#testresult/7ca22050c12b21f3","status":"broken","statusDetails":"requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-uat.vaiz.dev/v4/CreateTask","time":{"start":1764765361990,"stop":1764765362180,"duration":190}},{"uid":"9bd644aefd0fbb37","reportUrl":"https://vaizcom.github.io/autotests/483/#testresult/9bd644aefd0fbb37","status":"passed","time":{"start":1764749313027,"stop":1764749314387,"duration":1360}},{"uid":"5caca857d81b409b","reportUrl":"https://vaizcom.github.io/autotests/482/#testresult/5caca857d81b409b","status":"passed","time":{"start":1764687313780,"stop":1764687315106,"duration":1326}},{"uid":"f712381dc0b314","reportUrl":"https://vaizcom.github.io/autotests/481/#testresult/f712381dc0b314","status":"passed","time":{"start":1764680354519,"stop":1764680356001,"duration":1482}},{"uid":"ed530c5e6e1501e1","reportUrl":"https://vaizcom.github.io/autotests/480/#testresult/ed530c5e6e1501e1","status":"passed","time":{"start":1764602552560,"stop":1764602554157,"duration":1597}},{"uid":"a1a6ec007b4f15e7","reportUrl":"https://vaizcom.github.io/autotests/479/#testresult/a1a6ec007b4f15e7","status":"passed","time":{"start":1764593932367,"stop":1764593933651,"duration":1284}}]},"tags":["backend"]},"source":"a4eab4023c1b7c0b.json","parameterValues":["1","200"]}