{"uid":"22809790b82eeb17","name":"Тестирование получения задач под ролью Client_with_access_only_in_space","fullName":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_project_filters#test_get_tasks_limited_access_filtered_by_project","historyId":"11380f2b22d8d6e095eff9b3c1385257","time":{"start":1768298713893,"stop":1768298714012,"duration":119},"description":"\n        Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n        но при этом запрос выполняется успешно (HTTP 200).\n        ","descriptionHtml":"<pre><code>    Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n    но при этом запрос выполняется успешно (HTTP 200).\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_get_tasks_limited_access_filtered_by_project[access_only_in_space]>>\nclient_fixture = 'client_with_access_only_in_space'\nmain_project = '686672af85fb8d104544e798'\nmain_space = '6866309d85fb8d104544a61e'\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Access get Tasks\")\n    @allure.title(\"GetTasks: Проверка что список задач пустой для пользователей которые не имеют доступ к project\")\n    @pytest.mark.parametrize(\n        'client_fixture',\n        ['client_with_access_only_in_space', 'client_with_access_only_in_project'],\n        ids=['access_only_in_space', 'no_access_to_main_project'],\n    )\n    def test_get_tasks_limited_access_filtered_by_project(request, client_fixture, main_project, main_space):\n        \"\"\"\n            Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n            но при этом запрос выполняется успешно (HTTP 200).\n            \"\"\"\n        role_name = client_fixture.capitalize()\n        allure.dynamic.title(f\"Тестирование получения задач под ролью {role_name}\")\n    \n        client = request.getfixturevalue(client_fixture)\n    \n        with allure.step(f\"{client_fixture}: вызвать GetTasks с фильтром project\"):\n            resp = client.post(**get_tasks_endpoint(space_id=main_space, project=main_project))\n    \n        with allure.step(\"Проверить HTTP 200\"):\n>           assert resp.status_code == 200\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py:82: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1768298488144,"stop":1768298488609,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1768298488609,"stop":1768298489052,"duration":443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1768298489052,"stop":1768298489481,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client_with_access_only_in_space","time":{"start":1768298493460,"stop":1768298493694,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n        но при этом запрос выполняется успешно (HTTP 200).\n        ","status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_get_tasks_limited_access_filtered_by_project[access_only_in_space]>>\nclient_fixture = 'client_with_access_only_in_space'\nmain_project = '686672af85fb8d104544e798'\nmain_space = '6866309d85fb8d104544a61e'\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Access get Tasks\")\n    @allure.title(\"GetTasks: Проверка что список задач пустой для пользователей которые не имеют доступ к project\")\n    @pytest.mark.parametrize(\n        'client_fixture',\n        ['client_with_access_only_in_space', 'client_with_access_only_in_project'],\n        ids=['access_only_in_space', 'no_access_to_main_project'],\n    )\n    def test_get_tasks_limited_access_filtered_by_project(request, client_fixture, main_project, main_space):\n        \"\"\"\n            Проверяет, что пользователи без доступа к проекту получают пустой список задач,\n            но при этом запрос выполняется успешно (HTTP 200).\n            \"\"\"\n        role_name = client_fixture.capitalize()\n        allure.dynamic.title(f\"Тестирование получения задач под ролью {role_name}\")\n    \n        client = request.getfixturevalue(client_fixture)\n    \n        with allure.step(f\"{client_fixture}: вызвать GetTasks с фильтром project\"):\n            resp = client.post(**get_tasks_endpoint(space_id=main_space, project=main_project))\n    \n        with allure.step(\"Проверить HTTP 200\"):\n>           assert resp.status_code == 200\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py:82: AssertionError","steps":[{"name":"client_with_access_only_in_space: вызвать GetTasks с фильтром project","time":{"start":1768298713893,"stop":1768298714011,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить HTTP 200","time":{"start":1768298714011,"stop":1768298714011,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py\", line 82, in test_get_tasks_limited_access_filtered_by_project\n    assert resp.status_code == 200\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"subSuite","value":"Access get Tasks"},{"name":"suite","value":"Get Tasks"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_project_filters"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'client_with_access_only_in_space'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":76,"unknown":0,"total":79},"items":[{"uid":"ca174debc43fd2fc","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/ca174debc43fd2fc","status":"passed","time":{"start":1767850348847,"stop":1767850349073,"duration":226}},{"uid":"d29f148f5575fdfe","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/d29f148f5575fdfe","status":"passed","time":{"start":1766508242528,"stop":1766508242742,"duration":214}},{"uid":"4c02d5a7d1081f8","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/4c02d5a7d1081f8","status":"passed","time":{"start":1766506907477,"stop":1766506907717,"duration":240}},{"uid":"c9b2489c786baeea","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/c9b2489c786baeea","status":"passed","time":{"start":1766505741578,"stop":1766505741819,"duration":241}},{"uid":"1bc44eaca1430f74","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/1bc44eaca1430f74","status":"passed","time":{"start":1766504659571,"stop":1766504659755,"duration":184}},{"uid":"23be3c2bdc5b0c5","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/23be3c2bdc5b0c5","status":"passed","time":{"start":1766503370741,"stop":1766503370927,"duration":186}},{"uid":"8f7291792cb7fcce","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/8f7291792cb7fcce","status":"passed","time":{"start":1766497532238,"stop":1766497532409,"duration":171}},{"uid":"2fb102b3365a0f8b","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/2fb102b3365a0f8b","status":"passed","time":{"start":1766489153457,"stop":1766489153619,"duration":162}},{"uid":"4971ef671943a4a4","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/4971ef671943a4a4","status":"passed","time":{"start":1766487839291,"stop":1766487839537,"duration":246}},{"uid":"558ce53d6b6acfba","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/558ce53d6b6acfba","status":"passed","time":{"start":1766412676843,"stop":1766412677053,"duration":210}},{"uid":"35853f22c911c01d","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/35853f22c911c01d","status":"passed","time":{"start":1766406588496,"stop":1766406588658,"duration":162}},{"uid":"a2f7ce0962a060c3","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/a2f7ce0962a060c3","status":"passed","time":{"start":1766404274856,"stop":1766404275064,"duration":208}},{"uid":"79651fc02af79bee","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/79651fc02af79bee","status":"passed","time":{"start":1766402928755,"stop":1766402928942,"duration":187}},{"uid":"b9b5c80aac1e5c41","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/b9b5c80aac1e5c41","status":"passed","time":{"start":1766067828934,"stop":1766067829139,"duration":205}},{"uid":"a1a7f1307c76e3ac","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/a1a7f1307c76e3ac","status":"passed","time":{"start":1766043244534,"stop":1766043244716,"duration":182}},{"uid":"9f93fb078c7b456e","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/9f93fb078c7b456e","status":"passed","time":{"start":1765984699977,"stop":1765984700225,"duration":248}},{"uid":"df0aedc22b6d96a6","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/df0aedc22b6d96a6","status":"passed","time":{"start":1765976009725,"stop":1765976009930,"duration":205}},{"uid":"ad6c1cc8e37f1a28","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/ad6c1cc8e37f1a28","status":"passed","time":{"start":1765892184392,"stop":1765892184636,"duration":244}},{"uid":"f0dabd806998ce95","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/f0dabd806998ce95","status":"passed","time":{"start":1765890371746,"stop":1765890371939,"duration":193}},{"uid":"c55b2416c1e3a56b","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/c55b2416c1e3a56b","status":"passed","time":{"start":1765881509139,"stop":1765881509313,"duration":174}}]},"tags":["backend"]},"source":"22809790b82eeb17.json","parameterValues":["'client_with_access_only_in_space'"]}