{"uid":"717d0302eba040eb","name":"Проверка создания задачи с конкретным payload и структурой ответа : клиент=owner_client, ожидаемый статус=200","fullName":"tests.test_backend.task.access_task.test_create_task#test_create_task_with_specific_payload_and_response","historyId":"1570e48b1a88a9e1442c836c0fe032a4","time":{"start":1760511009850,"stop":1760511012180,"duration":2330},"description":"\n    Данный тест проверяет возможность создания задачи с заранее определённым набором данных (payload) через API\n     управления задачами для различных ролей пользователей, а также корректность и полноту возвращаемого ответа.\n     Тест эмулирует действия разных типов клиентов (владелец, менеджер, участник, гость) и сравнивает фактический результат с ожидаемым HTTP-статусом.\n    ","descriptionHtml":"<pre><code>Данный тест проверяет возможность создания задачи с заранее определённым набором данных (payload) через API\n управления задачами для различных ролей пользователей, а также корректность и полноту возвращаемого ответа.\n Тест эмулирует действия разных типов клиентов (владелец, менеджер, участник, гость) и сравнивает фактический результат с ожидаемым HTTP-статусом.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1760510565520,"stop":1760510565521,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1760510565520,"stop":1760510565520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1760510565520,"stop":1760510565520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1760510565521,"stop":1760510566146,"duration":625},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1760510565521,"stop":1760510565521,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1760510566146,"stop":1760510566736,"duration":590},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project","time":{"start":1760510566736,"stop":1760510566976,"duration":240},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1760510566978,"stop":1760510567566,"duration":588},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_board","time":{"start":1760510571366,"stop":1760510571911,"duration":545},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Данный тест проверяет возможность создания задачи с заранее определённым набором данных (payload) через API\n     управления задачами для различных ролей пользователей, а также корректность и полноту возвращаемого ответа.\n     Тест эмулирует действия разных типов клиентов (владелец, менеджер, участник, гость) и сравнивает фактический результат с ожидаемым HTTP-статусом.\n    ","status":"passed","steps":[{"name":"Получение клиента для owner_client","time":{"start":1760511009850,"stop":1760511009850,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Запрашиваем данные борды с ID: 6866731185fb8d104544e826","time":{"start":1760511010109,"stop":1760511010377,"duration":268},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем наличие typesList","time":{"start":1760511010377,"stop":1760511010377,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Рандомно выбираем `type` из typesList","time":{"start":1760511010377,"stop":1760511010377,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Запрашиваем данные борды с ID: 6866731185fb8d104544e826","time":{"start":1760511010377,"stop":1760511010633,"duration":256},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем наличие списка групп","time":{"start":1760511010633,"stop":1760511010633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Рандомно выбираем группу из списка","time":{"start":1760511010633,"stop":1760511010633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Генерация payload","time":{"start":1760511011163,"stop":1760511011163,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Отправляем запрос на создание задачи","time":{"start":1760511011163,"stop":1760511011509,"duration":346},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка статус-кода: ожидаем 200","time":{"start":1760511011509,"stop":1760511011509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем содержимое ответа задачи","time":{"start":1760511011509,"stop":1760511011883,"duration":374},"status":"passed","steps":[{"name":"Проверяем основные данные задачи","time":{"start":1760511011509,"stop":1760511011509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем связанные поля","time":{"start":1760511011509,"stop":1760511011509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем временные поля и сроки задачи","time":{"start":1760511011509,"stop":1760511011509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем метаданные","time":{"start":1760511011509,"stop":1760511011509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем поле 'hrid'","time":{"start":1760511011509,"stop":1760511011882,"duration":373},"status":"passed","steps":[{"name":"Получаем slug проекта","time":{"start":1760511011509,"stop":1760511011882,"duration":373},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка, что hrid 'CCSS-3040' соответствует шаблону '^CCSS-\\d+$'","time":{"start":1760511011882,"stop":1760511011882,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Проверяем поля с пустыми значениями и None","time":{"start":1760511011882,"stop":1760511011882,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверяем содержимое ответа задачи","time":{"start":1760511011882,"stop":1760511011883,"duration":1},"status":"passed","steps":[{"name":"Проверка структуры ключей задачи","time":{"start":1760511011882,"stop":1760511011883,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Удаляем задачу: 68ef4423165f71382bd6e7b3","time":{"start":1760511011883,"stop":1760511012180,"duration":297},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.task.access_task"},{"name":"suite","value":"test_create_task"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2553-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task.access_task.test_create_task"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'owner_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":14,"unknown":0,"total":16},"items":[{"uid":"1282a10d1eaee811","reportUrl":"https://vaizcom.github.io/autotests/372//#testresult/1282a10d1eaee811","status":"passed","time":{"start":1760449446016,"stop":1760449447782,"duration":1766}},{"uid":"ff985b397538e9ca","reportUrl":"https://vaizcom.github.io/autotests/371//#testresult/ff985b397538e9ca","status":"passed","time":{"start":1760447207778,"stop":1760447209571,"duration":1793}},{"uid":"210dd2eb4bb246e8","reportUrl":"https://vaizcom.github.io/autotests/370//#testresult/210dd2eb4bb246e8","status":"passed","time":{"start":1760428057732,"stop":1760428059653,"duration":1921}},{"uid":"f645d21fc21d7c6d","reportUrl":"https://vaizcom.github.io/autotests/369//#testresult/f645d21fc21d7c6d","status":"passed","time":{"start":1760360363668,"stop":1760360365865,"duration":2197}},{"uid":"db789315d435aa37","reportUrl":"https://vaizcom.github.io/autotests/368//#testresult/db789315d435aa37","status":"passed","time":{"start":1760342346182,"stop":1760342348090,"duration":1908}},{"uid":"f3d828f03321b4cc","reportUrl":"https://vaizcom.github.io/autotests/367//#testresult/f3d828f03321b4cc","status":"passed","time":{"start":1760102059403,"stop":1760102061902,"duration":2499}},{"uid":"74abffb498c8edf6","reportUrl":"https://vaizcom.github.io/autotests/366//#testresult/74abffb498c8edf6","status":"passed","time":{"start":1760099046353,"stop":1760099049450,"duration":3097}},{"uid":"b3d43df48d59bf9d","reportUrl":"https://vaizcom.github.io/autotests/365//#testresult/b3d43df48d59bf9d","status":"passed","time":{"start":1760087507841,"stop":1760087510242,"duration":2401}},{"uid":"2942cadd0f9ebc59","reportUrl":"https://vaizcom.github.io/autotests/364//#testresult/2942cadd0f9ebc59","status":"passed","time":{"start":1760017666406,"stop":1760017669809,"duration":3403}},{"uid":"e033e31b561eea86","reportUrl":"https://vaizcom.github.io/autotests/363//#testresult/e033e31b561eea86","status":"passed","time":{"start":1760014741281,"stop":1760014743251,"duration":1970}},{"uid":"abbb954396cf3d8b","reportUrl":"https://vaizcom.github.io/autotests/362//#testresult/abbb954396cf3d8b","status":"passed","time":{"start":1760013847415,"stop":1760013849856,"duration":2441}},{"uid":"64bea05e0eae21bc","reportUrl":"https://vaizcom.github.io/autotests/361//#testresult/64bea05e0eae21bc","status":"passed","time":{"start":1759931785575,"stop":1759931787746,"duration":2171}},{"uid":"ff469c9c0abfe04c","reportUrl":"https://vaizcom.github.io/autotests/360//#testresult/ff469c9c0abfe04c","status":"passed","time":{"start":1759916056898,"stop":1759916058796,"duration":1898}},{"uid":"2013404a10999e49","reportUrl":"https://vaizcom.github.io/autotests/359//#testresult/2013404a10999e49","status":"failed","statusDetails":"AssertionError: Не удалось удалить задачу 68e615d10354864d83fec6ed: 400 {\"payload\":null,\"type\":\"DeleteTask\",\"error\":{\"code\":\"InternalServerError\",\"fields\":[],\"originalType\":\"DeleteTask\",\"meta\":{\"context\":\"MongoServerError\",\"message\":\"Caused by :: Write conflict during plan execution and yielding is disabled. :: Please retry your operation or multi-document transaction.\"}}}\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1759909326573,"stop":1759909330706,"duration":4133}},{"uid":"149a120f15885163","reportUrl":"https://vaizcom.github.io/autotests/358//#testresult/149a120f15885163","status":"broken","statusDetails":"AttributeError: module 'datetime' has no attribute 'utcnow'","time":{"start":1759908110967,"stop":1759908111685,"duration":718}}]},"tags":["backend"]},"source":"717d0302eba040eb.json","parameterValues":["'owner_client'","200"]}