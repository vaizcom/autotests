{"uid":"fb6c5984c018c6ea","name":"Multiple Edit Tasks: Проверка установленного лимита в 21 задачу — ожидаем 400 или TooManyTasksSelected","fullName":"tests.test_backend.task_service.multiple_edit_tasks.test_limit_validation#test_multiple_edit_tasks_limit","historyId":"e81e161d8f5923fd500a14c6d4b2f4a9","time":{"start":1770373183926,"stop":1770373188225,"duration":4299},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f9a5de10fd0>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7f9a5daa6520>\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Multiple Edit Tasks\")\n    def test_multiple_edit_tasks_limit(owner_client, main_space, create_30_tasks):\n        allure.dynamic.title(\"Multiple Edit Tasks: Проверка установленного лимита в 21 задачу — ожидаем 400 или TooManyTasksSelected\")\n        with allure.step(\"Создаём 21 задачу\"):\n>           task_ids = create_30_tasks(count=21)\n\ntests/test_backend/task_service/multiple_edit_tasks/test_limit_validation.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_backend/task_service/conftest.py:89: in _factory\n    resp.raise_for_status()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [400]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py:1024: HTTPError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1770372203884,"stop":1770372203884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1770372203884,"stop":1770372204480,"duration":596},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1770372203884,"stop":1770372203884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1770372203884,"stop":1770372203884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1770372203884,"stop":1770372203884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1770372206513,"stop":1770372206793,"duration":280},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1770372206793,"stop":1770372207079,"duration":286},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1770372212994,"stop":1770372213271,"duration":277},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_30_tasks","time":{"start":1770373183926,"stop":1770373183926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f9a5de10fd0>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7f9a5daa6520>\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Multiple Edit Tasks\")\n    def test_multiple_edit_tasks_limit(owner_client, main_space, create_30_tasks):\n        allure.dynamic.title(\"Multiple Edit Tasks: Проверка установленного лимита в 21 задачу — ожидаем 400 или TooManyTasksSelected\")\n        with allure.step(\"Создаём 21 задачу\"):\n>           task_ids = create_30_tasks(count=21)\n\ntests/test_backend/task_service/multiple_edit_tasks/test_limit_validation.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_backend/task_service/conftest.py:89: in _factory\n    resp.raise_for_status()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [400]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py:1024: HTTPError","steps":[{"name":"Создаём 21 задачу","time":{"start":1770373183926,"stop":1770373188225,"duration":4299},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://vaiz-api-ms.vaiz.dev/v4/CreateTask\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/multiple_edit_tasks/test_limit_validation.py\", line 14, in test_multiple_edit_tasks_limit\n    task_ids = create_30_tasks(count=21)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/conftest.py\", line 89, in _factory\n    resp.raise_for_status()\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_30_tasks::0","time":{"start":1770373188238,"stop":1770373191500,"duration":3262},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"suite","value":"Multiple Edit Tasks"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"2745-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.multiple_edit_tasks.test_limit_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":67,"unknown":0,"total":71},"items":[{"uid":"799a13d191ffd8f8","reportUrl":"https://vaizcom.github.io/autotests/552/#testresult/799a13d191ffd8f8","status":"passed","time":{"start":1770371846724,"stop":1770371855840,"duration":9116}},{"uid":"24974baf8d14357f","reportUrl":"https://vaizcom.github.io/autotests/551/#testresult/24974baf8d14357f","status":"passed","time":{"start":1770299343330,"stop":1770299352154,"duration":8824}},{"uid":"f6bd14da997794db","reportUrl":"https://vaizcom.github.io/autotests/550/#testresult/f6bd14da997794db","status":"passed","time":{"start":1770291451153,"stop":1770291458443,"duration":7290}},{"uid":"2bc651467af051c4","reportUrl":"https://vaizcom.github.io/autotests/549/#testresult/2bc651467af051c4","status":"passed","time":{"start":1770282194556,"stop":1770282203538,"duration":8982}},{"uid":"f86bea7e956588dc","reportUrl":"https://vaizcom.github.io/autotests/548/#testresult/f86bea7e956588dc","status":"passed","time":{"start":1770276527056,"stop":1770276537823,"duration":10767}},{"uid":"fb6558cf5398cee4","reportUrl":"https://vaizcom.github.io/autotests/547/#testresult/fb6558cf5398cee4","status":"passed","time":{"start":1769093258868,"stop":1769093266690,"duration":7822}},{"uid":"c8a419444b18b5a","reportUrl":"https://vaizcom.github.io/autotests/546/#testresult/c8a419444b18b5a","status":"passed","time":{"start":1769008447029,"stop":1769008455067,"duration":8038}},{"uid":"91d1c4cdfa2cac34","reportUrl":"https://vaizcom.github.io/autotests/545/#testresult/91d1c4cdfa2cac34","status":"passed","time":{"start":1768995698043,"stop":1768995707817,"duration":9774}},{"uid":"43cdab3eb5785729","reportUrl":"https://vaizcom.github.io/autotests/544/#testresult/43cdab3eb5785729","status":"passed","time":{"start":1768815870587,"stop":1768815877182,"duration":6595}},{"uid":"ef10751d2bf13ad3","reportUrl":"https://vaizcom.github.io/autotests/543/#testresult/ef10751d2bf13ad3","status":"passed","time":{"start":1768813153588,"stop":1768813159673,"duration":6085}},{"uid":"b7146f2f6b15467d","reportUrl":"https://vaizcom.github.io/autotests/541/#testresult/b7146f2f6b15467d","status":"passed","time":{"start":1768810750245,"stop":1768810759481,"duration":9236}},{"uid":"153520602a654cfd","reportUrl":"https://vaizcom.github.io/autotests/542/#testresult/153520602a654cfd","status":"passed","time":{"start":1768573939536,"stop":1768573946376,"duration":6840}},{"uid":"1e1b0204bbac5b22","reportUrl":"https://vaizcom.github.io/autotests/540/#testresult/1e1b0204bbac5b22","status":"passed","time":{"start":1768572257930,"stop":1768572266618,"duration":8688}},{"uid":"9f868a258a9ad116","reportUrl":"https://vaizcom.github.io/autotests/539/#testresult/9f868a258a9ad116","status":"passed","time":{"start":1768484521108,"stop":1768484531665,"duration":10557}},{"uid":"b88683712e2e0ebf","reportUrl":"https://vaizcom.github.io/autotests/538/#testresult/b88683712e2e0ebf","status":"passed","time":{"start":1768474610610,"stop":1768474618410,"duration":7800}},{"uid":"2e9885867723440","reportUrl":"https://vaizcom.github.io/autotests/537/#testresult/2e9885867723440","status":"passed","time":{"start":1768473181595,"stop":1768473191108,"duration":9513}},{"uid":"d2bc099cc575317a","reportUrl":"https://vaizcom.github.io/autotests/536/#testresult/d2bc099cc575317a","status":"passed","time":{"start":1768470466423,"stop":1768470476400,"duration":9977}},{"uid":"6cb6d1178360b0ba","reportUrl":"https://vaizcom.github.io/autotests/534/#testresult/6cb6d1178360b0ba","status":"passed","time":{"start":1768468528375,"stop":1768468538890,"duration":10515}},{"uid":"104138df49749836","reportUrl":"https://vaizcom.github.io/autotests/533/#testresult/104138df49749836","status":"passed","time":{"start":1768404237941,"stop":1768404248615,"duration":10674}},{"uid":"837aeceeb4b50333","reportUrl":"https://vaizcom.github.io/autotests/532/#testresult/837aeceeb4b50333","status":"passed","time":{"start":1768317610556,"stop":1768317620122,"duration":9566}}]},"tags":["backend"]},"source":"fb6c5984c018c6ea.json","parameterValues":[]}