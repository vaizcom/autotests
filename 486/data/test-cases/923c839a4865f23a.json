{"uid":"923c839a4865f23a","name":"Доступ к таскам спейса под ролью Manager (HTTP 200)","fullName":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_space_all#test_get_tasks_by_role_in_second_space","historyId":"5351bddcd45383966562032e8a657db5","time":{"start":1764848727673,"stop":1764848727911,"duration":238},"description":"\n    Проверка доступа ко всем таскам в спейсе для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат указанному спейсу;\n\n    TODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n    (сейчас указан спейс в котором нет архивных тасок)\n    ","descriptionHtml":"<pre><code>Проверка доступа ко всем таскам в спейсе для всех ролей:\n- роли с доступом: HTTP 200 и все задачи принадлежат указанному спейсу;\n\nTODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n(сейчас указан спейс в котором нет архивных тасок)\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1764847955099,"stop":1764847955099,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764847955099,"stop":1764847955099,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764847955099,"stop":1764847955099,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764847955099,"stop":1764847955099,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1764847958048,"stop":1764847958353,"duration":305},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1764847958353,"stop":1764847958616,"duration":263},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1764847958617,"stop":1764847958875,"duration":258},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"manager_client","time":{"start":1764847959425,"stop":1764847959715,"duration":290},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_space","time":{"start":1764848726571,"stop":1764848726826,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_project","time":{"start":1764848726826,"stop":1764848727082,"duration":256},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверка доступа ко всем таскам в спейсе для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат указанному спейсу;\n\n    TODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n    (сейчас указан спейс в котором нет архивных тасок)\n    ","status":"passed","steps":[{"name":"manager_client: вызвать GetTasks без фильтров","time":{"start":1764848727673,"stop":1764848727910,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить HTTP 200","time":{"start":1764848727910,"stop":1764848727910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить payload","time":{"start":1764848727910,"stop":1764848727910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить отсутствие задач из другого спейса)","time":{"start":1764848727910,"stop":1764848727910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.task_service.get_tasks.access_get_tasks"},{"name":"suite","value":"test_get_tasks_space_all"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2613-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_space_all"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'manager_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":33,"unknown":0,"total":35},"items":[{"uid":"4a627ecc9ae4a3b9","reportUrl":"https://vaizcom.github.io/autotests/485/#testresult/4a627ecc9ae4a3b9","status":"passed","time":{"start":1764766752244,"stop":1764766752499,"duration":255}},{"uid":"a56b4f31cf093726","reportUrl":"https://vaizcom.github.io/autotests/484/#testresult/a56b4f31cf093726","status":"failed","statusDetails":"AssertionError: Space 691adf9e4bfde6405d9feb3a not found: <!DOCTYPE html>\n  <!--[if lt IE 7]> <html class=\"no-js ie6 oldie\" lang=\"en-US\"> <![endif]-->\n  <!--[if IE 7]>    <html class=\"no-js ie7 oldie\" lang=\"en-US\"> <![endif]-->\n  <!--[if IE 8]>    <html class=\"no-js ie8 oldie\" lang=\"en-US\"> <![endif]-->\n  <!--[if gt IE 8]><!--> <html class=\"no-js\" lang=\"en-US\"> <!--<![endif]-->\n  <head>\n  \n  <title>vaiz.dev | 502: Bad gateway</title>\n  <meta charset=\"UTF-8\" />\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" />\n  <meta name=\"robots\" content=\"noindex, nofollow\" />\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <link rel=\"stylesheet\" id=\"cf_styles-css\" href=\"/cdn-cgi/styles/main.css\" />\n  </head>\n  <body>\n  <div id=\"cf-wrapper\">\n      <div id=\"cf-error-details\" class=\"p-0\">\n          <header class=\"mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-8\">\n              <h1 class=\"inline-block sm:block sm:mb-2 font-light text-60 lg:text-4xl text-black-dark leading-tight mr-2\">\n                  <span class=\"inline-block\">Bad gateway</span>\n                  <span class=\"code-label\">Error code 502</span>\n              </h1>\n              <div>\n                  Visit <a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=vaiz-api-uat.vaiz.dev\" target=\"_blank\" rel=\"noopener noreferrer\">cloudflare.com</a> for more information.\n              </div>\n              <div class=\"mt-3\">2025-12-03 12:35:50 UTC</div>\n          </header>\n          <div class=\"my-8 bg-gradient-gray\">\n              <div class=\"w-240 lg:w-full mx-auto\">\n                  <div class=\"clearfix md:px-8\">\n                      <div id=\"cf-browser-status\" class=\" relative w-1/3 md:w-full py-15 md:p-0 md:py-8 md:text-left md:border-solid md:border-0 md:border-b md:border-gray-400 overflow-hidden float-left md:float-none text-center\">\n    <div class=\"relative mb-10 md:m-0\">\n      \n      <span class=\"cf-icon-browser block md:hidden h-20 bg-center bg-no-repeat\"></span>\n      <span class=\"cf-icon-ok w-12 h-12 absolute left-1/2 md:left-auto md:right-0 md:top-0 -ml-6 -bottom-4\"></span>\n      \n    </div>\n    <span class=\"md:block w-full truncate\">You</span>\n    <h3 class=\"md:inline-block mt-3 md:mt-0 text-2xl text-gray-600 font-light leading-1.3\">\n    \n      Browser\n    \n    </h3>\n    \n    <span class=\"leading-1.3 text-2xl text-green-success\">Working</span>\n    \n  </div>\n                      <div id=\"cf-cloudflare-status\" class=\" relative w-1/3 md:w-full py-15 md:p-0 md:py-8 md:text-left md:border-solid md:border-0 md:border-b md:border-gray-400 overflow-hidden float-left md:float-none text-center\">\n    <div class=\"relative mb-10 md:m-0\">\n      <a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&#38;utm_campaign=vaiz-api-uat.vaiz.dev\" target=\"_blank\" rel=\"noopener noreferrer\">\n      <span class=\"cf-icon-cloud block md:hidden h-20 bg-center bg-no-repeat\"></span>\n      <span class=\"cf-icon-ok w-12 h-12 absolute left-1/2 md:left-auto md:right-0 md:top-0 -ml-6 -bottom-4\"></span>\n      </a>\n    </div>\n    <span class=\"md:block w-full truncate\">San Jose</span>\n    <h3 class=\"md:inline-block mt-3 md:mt-0 text-2xl text-gray-600 font-light leading-1.3\">\n    <a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=vaiz-api-uat.vaiz.dev\" target=\"_blank\" rel=\"noopener noreferrer\">\n      Cloudflare\n    </a>\n    </h3>\n    \n    <span class=\"leading-1.3 text-2xl text-green-success\">Working</span>\n    \n  </div>\n                      <div id=\"cf-host-status\" class=\"cf-error-source relative w-1/3 md:w-full py-15 md:p-0 md:py-8 md:text-left md:border-solid md:border-0 md:border-b md:border-gray-400 overflow-hidden float-left md:float-none text-center\">\n    <div class=\"relative mb-10 md:m-0\">\n      \n      <span class=\"cf-icon-server block md:hidden h-20 bg-center bg-no-repeat\"></span>\n      <span class=\"cf-icon-error w-12 h-12 absolute left-1/2 md:left-auto md:right-0 md:top-0 -ml-6 -bottom-4\"></span>\n      \n    </div>\n    <span class=\"md:block w-full truncate\">vaiz-api-uat.vaiz.dev</span>\n    <h3 class=\"md:inline-block mt-3 md:mt-0 text-2xl text-gray-600 font-light leading-1.3\">\n    \n      Host\n    \n    </h3>\n    \n    <span class=\"leading-1.3 text-2xl text-red-error\">Error</span>\n    \n  </div>\n                  </div>\n              </div>\n          </div>\n  \n          <div class=\"w-240 lg:w-full mx-auto mb-8 lg:px-8\">\n              <div class=\"clearfix\">\n                  <div class=\"w-1/2 md:w-full float-left pr-6 md:pb-10 md:pr-0 leading-relaxed\">\n                      <h2 class=\"text-3xl font-normal leading-1.3 mb-4\">What happened?</h2>\n                      <p>The web server reported a bad gateway error.</p>\n                  </div>\n                  <div class=\"w-1/2 md:w-full float-left leading-relaxed\">\n                      <h2 class=\"text-3xl font-normal leading-1.3 mb-4\">What can I do?</h2>\n                      <p class=\"mb-6\">Please try again in a few minutes.</p>\n                  </div>\n              </div>\n          </div>\n  \n          <div class=\"cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300\">\n      <p class=\"text-13\">\n        <span class=\"cf-footer-item sm:block sm:mb-1\">Cloudflare Ray ID: <strong class=\"font-semibold\">9a831b2fefa4faba</strong></span>\n        <span class=\"cf-footer-separator sm:hidden\">&bull;</span>\n        <span id=\"cf-footer-item-ip\" class=\"cf-footer-item hidden sm:block sm:mb-1\">\n          Your IP:\n          <button type=\"button\" id=\"cf-footer-ip-reveal\" class=\"cf-footer-ip-reveal-btn\">Click to reveal</button>\n          <span class=\"hidden\" id=\"cf-footer-ip\">68.220.63.5</span>\n          <span class=\"cf-footer-separator sm:hidden\">&bull;</span>\n        </span>\n        <span class=\"cf-footer-item sm:block sm:mb-1\"><span>Performance &amp; security by</span> <a rel=\"noopener noreferrer\" href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&#38;utm_campaign=vaiz-api-uat.vaiz.dev\" id=\"brand_link\" target=\"_blank\">Cloudflare</a></span>\n        \n      </p>\n      <script>(function(){function d(){var b=a.getElementById(\"cf-footer-item-ip\"),c=a.getElementById(\"cf-footer-ip-reveal\");b&&\"classList\"in b&&(b.classList.remove(\"hidden\"),c.addEventListener(\"click\",function(){c.classList.add(\"hidden\");a.getElementById(\"cf-footer-ip\").classList.remove(\"hidden\")}))}var a=document;document.addEventListener&&a.addEventListener(\"DOMContentLoaded\",d)})();</script>\n    </div><!-- /.error-footer -->\n  \n      </div>\n  </div>\n  </body>\n  </html>\nassert 502 == 200\n +  where 502 = <Response [502]>.status_code","time":{"start":1764765350598,"stop":1764765350598,"duration":0}},{"uid":"93b542e1b2e74017","reportUrl":"https://vaizcom.github.io/autotests/483/#testresult/93b542e1b2e74017","status":"passed","time":{"start":1764749171997,"stop":1764749172487,"duration":490}},{"uid":"6dd326c28cd2b244","reportUrl":"https://vaizcom.github.io/autotests/482/#testresult/6dd326c28cd2b244","status":"passed","time":{"start":1764687207244,"stop":1764687207417,"duration":173}},{"uid":"21ec87b5face4943","reportUrl":"https://vaizcom.github.io/autotests/481/#testresult/21ec87b5face4943","status":"passed","time":{"start":1764680253294,"stop":1764680253957,"duration":663}},{"uid":"8922d5347bb7f486","reportUrl":"https://vaizcom.github.io/autotests/480/#testresult/8922d5347bb7f486","status":"passed","time":{"start":1764602440534,"stop":1764602440792,"duration":258}},{"uid":"82f1ce07b3a6a32c","reportUrl":"https://vaizcom.github.io/autotests/479/#testresult/82f1ce07b3a6a32c","status":"passed","time":{"start":1764593836320,"stop":1764593836513,"duration":193}},{"uid":"143b0cb6940c0cb2","reportUrl":"https://vaizcom.github.io/autotests/478/#testresult/143b0cb6940c0cb2","status":"passed","time":{"start":1764583368888,"stop":1764583369352,"duration":464}},{"uid":"b85325b4347e63d4","reportUrl":"https://vaizcom.github.io/autotests/477/#testresult/b85325b4347e63d4","status":"passed","time":{"start":1764151954268,"stop":1764151954841,"duration":573}},{"uid":"5330d954afcfb26a","reportUrl":"https://vaizcom.github.io/autotests/476/#testresult/5330d954afcfb26a","status":"passed","time":{"start":1764147477614,"stop":1764147478175,"duration":561}},{"uid":"fa97681e340a9a9","reportUrl":"https://vaizcom.github.io/autotests/475/#testresult/fa97681e340a9a9","status":"passed","time":{"start":1764081175229,"stop":1764081175463,"duration":234}},{"uid":"462eb586c2aefa9e","reportUrl":"https://vaizcom.github.io/autotests/474/#testresult/462eb586c2aefa9e","status":"passed","time":{"start":1764078781752,"stop":1764078782003,"duration":251}},{"uid":"14efa0d24566fed2","reportUrl":"https://vaizcom.github.io/autotests/473/#testresult/14efa0d24566fed2","status":"passed","time":{"start":1764065929014,"stop":1764065929219,"duration":205}},{"uid":"e0fb359441e081d3","reportUrl":"https://vaizcom.github.io/autotests/472/#testresult/e0fb359441e081d3","status":"passed","time":{"start":1764053882641,"stop":1764053882825,"duration":184}},{"uid":"208ae8d677279772","reportUrl":"https://vaizcom.github.io/autotests/471/#testresult/208ae8d677279772","status":"failed","statusDetails":"AssertionError: Задача 632880f6aa99c1540a2738b6 принадлежит другому проекту: 63286261a466b6becd9d6452, ожидался 691adf9f4bfde6405d9feb4a\nassert '63286261a466b6becd9d6452' == '691adf9f4bfde6405d9feb4a'\n  \n  - 691adf9f4bfde6405d9feb4a\n  + 63286261a466b6becd9d6452","time":{"start":1763996499446,"stop":1763996535789,"duration":36343}},{"uid":"fa2da162b2f50ea6","reportUrl":"https://vaizcom.github.io/autotests/470/#testresult/fa2da162b2f50ea6","status":"passed","time":{"start":1763995227475,"stop":1763995227726,"duration":251}},{"uid":"bb3409470e1bafe6","reportUrl":"https://vaizcom.github.io/autotests/469/#testresult/bb3409470e1bafe6","status":"passed","time":{"start":1763993480537,"stop":1763993480774,"duration":237}},{"uid":"7d5fb1fc265263b8","reportUrl":"https://vaizcom.github.io/autotests/468/#testresult/7d5fb1fc265263b8","status":"passed","time":{"start":1763734845477,"stop":1763734845739,"duration":262}},{"uid":"14732346e0beecf7","reportUrl":"https://vaizcom.github.io/autotests/467/#testresult/14732346e0beecf7","status":"passed","time":{"start":1763733026069,"stop":1763733026368,"duration":299}},{"uid":"6597fa7a5d2afde1","reportUrl":"https://vaizcom.github.io/autotests/466/#testresult/6597fa7a5d2afde1","status":"passed","time":{"start":1763726679426,"stop":1763726679963,"duration":537}}]},"tags":["backend"]},"source":"923c839a4865f23a.json","parameterValues":["'manager_client'","200"]}