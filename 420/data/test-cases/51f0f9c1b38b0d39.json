{"uid":"51f0f9c1b38b0d39","name":"Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу","fullName":"tests.test_backend.document.access_doc.test_matrix_access_docs#test_space_client_document_access","historyId":"819e6f6b50b1099dc81434d09f048734","time":{"start":1762506263071,"stop":1762506263189,"duration":118},"description":"\n    Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n\n    ","descriptionHtml":"<pre><code>Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"client_with_access_only_in_space = <tests.core.client.APIClient object at 0x7f57a477c9d0>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title(\n        'Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу'\n    )\n    def test_space_client_document_access(\n            client_with_access_only_in_space, main_space, main_space_doc, main_project_doc, main_personal_doc\n    ):\n        \"\"\"\n        Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n    \n        \"\"\"\n        with allure.step('Проверка доступа к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = client_with_access_only_in_space.post(\n                **get_document_endpoint(document_id=main_space_doc, space_id=main_space)\n            )\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:35: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1762506104055,"stop":1762506104055,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1762506104056,"stop":1762506104470,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1762506104470,"stop":1762506104874,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client_with_access_only_in_space","time":{"start":1762506110838,"stop":1762506111268,"duration":430},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space_doc","time":{"start":1762506263070,"stop":1762506263070,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_personal_doc","time":{"start":1762506263071,"stop":1762506263071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project_doc","time":{"start":1762506263071,"stop":1762506263071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n\n    ","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"client_with_access_only_in_space = <tests.core.client.APIClient object at 0x7f57a477c9d0>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title(\n        'Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу'\n    )\n    def test_space_client_document_access(\n            client_with_access_only_in_space, main_space, main_space_doc, main_project_doc, main_personal_doc\n    ):\n        \"\"\"\n        Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n    \n        \"\"\"\n        with allure.step('Проверка доступа к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = client_with_access_only_in_space.post(\n                **get_document_endpoint(document_id=main_space_doc, space_id=main_space)\n            )\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:35: AssertionError","steps":[{"name":"Проверка доступа к основному документу MAIN_SPACE_DOC_ID","time":{"start":1762506263071,"stop":1762506263188,"duration":117},"status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_matrix_access_docs.py\", line 35, in test_space_client_document_access\n    assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_matrix_access_docs"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"2573-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_matrix_access_docs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":10,"passed":2,"unknown":0,"total":13},"items":[{"uid":"ed2a1ff207bbadc4","reportUrl":"https://vaizcom.github.io/autotests/419/#testresult/ed2a1ff207bbadc4","status":"passed","time":{"start":1762505485135,"stop":1762505485886,"duration":751}},{"uid":"ecf22c2ca125bbeb","reportUrl":"https://vaizcom.github.io/autotests/418/#testresult/ecf22c2ca125bbeb","status":"passed","time":{"start":1762354463096,"stop":1762354464015,"duration":919}},{"uid":"58e520821bbc11af","reportUrl":"https://vaizcom.github.io/autotests/417/#testresult/58e520821bbc11af","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762353403939,"stop":1762353403939,"duration":0}},{"uid":"dcd319caa67b8f6a","reportUrl":"https://vaizcom.github.io/autotests/416/#testresult/dcd319caa67b8f6a","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762349993815,"stop":1762349993815,"duration":0}},{"uid":"c1faf57a5a59b042","reportUrl":"https://vaizcom.github.io/autotests/415/#testresult/c1faf57a5a59b042","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762331964577,"stop":1762331964577,"duration":0}},{"uid":"580a0fa80a1bacb1","reportUrl":"https://vaizcom.github.io/autotests/414/#testresult/580a0fa80a1bacb1","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762329017864,"stop":1762329017864,"duration":0}},{"uid":"257e71ec3b1c6c2c","reportUrl":"https://vaizcom.github.io/autotests/413/#testresult/257e71ec3b1c6c2c","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762270626523,"stop":1762270626523,"duration":0}},{"uid":"a7eb90051cfa3a6","reportUrl":"https://vaizcom.github.io/autotests/412/#testresult/a7eb90051cfa3a6","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762269840056,"stop":1762269840056,"duration":0}},{"uid":"700b3b533c5cfd5f","reportUrl":"https://vaizcom.github.io/autotests/411/#testresult/700b3b533c5cfd5f","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762269701505,"stop":1762269701505,"duration":0}},{"uid":"2c042e122ef9902","reportUrl":"https://vaizcom.github.io/autotests/410/#testresult/2c042e122ef9902","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762269482573,"stop":1762269482573,"duration":0}},{"uid":"7c4709f9a801d3c1","reportUrl":"https://vaizcom.github.io/autotests/409/#testresult/7c4709f9a801d3c1","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762268849415,"stop":1762268849415,"duration":0}},{"uid":"bd6e6f1bf61e8c3f","reportUrl":"https://vaizcom.github.io/autotests/408/#testresult/bd6e6f1bf61e8c3f","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762245238290,"stop":1762245238290,"duration":0}}]},"tags":["backend"]},"source":"51f0f9c1b38b0d39.json","parameterValues":[]}