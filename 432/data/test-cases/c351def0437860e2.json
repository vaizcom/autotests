{"uid":"c351def0437860e2","name":"Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу","fullName":"tests.test_backend.document.access_doc.test_matrix_access_docs#test_space_client_document_access","historyId":"819e6f6b50b1099dc81434d09f048734","time":{"start":1762939571328,"stop":1762939571641,"duration":313},"description":"\n    Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n\n    ","descriptionHtml":"<pre><code>Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"client_with_access_only_in_space = <tests.core.client.APIClient object at 0x7f03150c79d0>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title(\n        'Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу'\n    )\n    def test_space_client_document_access(\n            client_with_access_only_in_space, main_space, main_space_doc, main_project_doc, main_personal_doc\n    ):\n        \"\"\"\n        Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n    \n        \"\"\"\n        with allure.step('Проверка доступа к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = client_with_access_only_in_space.post(\n                **get_document_endpoint(document_id=main_space_doc, space_id=main_space)\n            )\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:35: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1762939434325,"stop":1762939434325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762939434325,"stop":1762939434325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762939434325,"stop":1762939434325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762939434325,"stop":1762939434325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1762939436802,"stop":1762939437041,"duration":239},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1762939437042,"stop":1762939437447,"duration":405},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client_with_access_only_in_space","time":{"start":1762939446923,"stop":1762939447320,"duration":397},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space_doc","time":{"start":1762939571328,"stop":1762939571328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project_doc","time":{"start":1762939571328,"stop":1762939571328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_personal_doc","time":{"start":1762939571328,"stop":1762939571328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n\n    ","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"client_with_access_only_in_space = <tests.core.client.APIClient object at 0x7f03150c79d0>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title(\n        'Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу'\n    )\n    def test_space_client_document_access(\n            client_with_access_only_in_space, main_space, main_space_doc, main_project_doc, main_personal_doc\n    ):\n        \"\"\"\n        Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n    \n        \"\"\"\n        with allure.step('Проверка доступа к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = client_with_access_only_in_space.post(\n                **get_document_endpoint(document_id=main_space_doc, space_id=main_space)\n            )\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:35: AssertionError","steps":[{"name":"Проверка доступа к основному документу MAIN_SPACE_DOC_ID","time":{"start":1762939571329,"stop":1762939571641,"duration":312},"status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_matrix_access_docs.py\", line 35, in test_space_client_document_access\n    assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_matrix_access_docs"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"2580-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_matrix_access_docs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":11,"passed":12,"unknown":0,"total":25},"items":[{"uid":"ddfdf710f9b47cc","reportUrl":"https://vaizcom.github.io/autotests/431/#testresult/ddfdf710f9b47cc","status":"passed","time":{"start":1762855635925,"stop":1762855636965,"duration":1040}},{"uid":"ebc75c1b5842e9e","reportUrl":"https://vaizcom.github.io/autotests/430/#testresult/ebc75c1b5842e9e","status":"passed","time":{"start":1762780787860,"stop":1762780788537,"duration":677}},{"uid":"63f561249c9b0dc6","reportUrl":"https://vaizcom.github.io/autotests/429/#testresult/63f561249c9b0dc6","status":"passed","time":{"start":1762778945154,"stop":1762778945891,"duration":737}},{"uid":"fdfe5b52d0da461b","reportUrl":"https://vaizcom.github.io/autotests/427/#testresult/fdfe5b52d0da461b","status":"passed","time":{"start":1762773886600,"stop":1762773887254,"duration":654}},{"uid":"d11ce93d05da852d","reportUrl":"https://vaizcom.github.io/autotests/426/#testresult/d11ce93d05da852d","status":"passed","time":{"start":1762765430431,"stop":1762765431457,"duration":1026}},{"uid":"1621a702386561a4","reportUrl":"https://vaizcom.github.io/autotests/425/#testresult/1621a702386561a4","status":"passed","time":{"start":1762523267924,"stop":1762523268501,"duration":577}},{"uid":"eaedca0958a6949e","reportUrl":"https://vaizcom.github.io/autotests/424/#testresult/eaedca0958a6949e","status":"passed","time":{"start":1762521204470,"stop":1762521205160,"duration":690}},{"uid":"7b5577c545cae551","reportUrl":"https://vaizcom.github.io/autotests/424/#testresult/7b5577c545cae551","status":"passed","time":{"start":1762520188992,"stop":1762520189548,"duration":556}},{"uid":"5482650a172d76bf","reportUrl":"https://vaizcom.github.io/autotests/422/#testresult/5482650a172d76bf","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762517170630,"stop":1762517170630,"duration":0}},{"uid":"2f6497eb56afa3fc","reportUrl":"https://vaizcom.github.io/autotests/421/#testresult/2f6497eb56afa3fc","status":"passed","time":{"start":1762514866282,"stop":1762514866839,"duration":557}},{"uid":"b24328b5ab50236f","reportUrl":"https://vaizcom.github.io/autotests/420/#testresult/b24328b5ab50236f","status":"passed","time":{"start":1762507673367,"stop":1762507673999,"duration":632}},{"uid":"51f0f9c1b38b0d39","reportUrl":"https://vaizcom.github.io/autotests/420/#testresult/51f0f9c1b38b0d39","status":"failed","statusDetails":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 503 == 200\n +  where 503 = <Response [503]>.status_code","time":{"start":1762506263071,"stop":1762506263189,"duration":118}},{"uid":"ed2a1ff207bbadc4","reportUrl":"https://vaizcom.github.io/autotests/419/#testresult/ed2a1ff207bbadc4","status":"passed","time":{"start":1762505485135,"stop":1762505485886,"duration":751}},{"uid":"ecf22c2ca125bbeb","reportUrl":"https://vaizcom.github.io/autotests/418/#testresult/ecf22c2ca125bbeb","status":"passed","time":{"start":1762354463096,"stop":1762354464015,"duration":919}},{"uid":"58e520821bbc11af","reportUrl":"https://vaizcom.github.io/autotests/417/#testresult/58e520821bbc11af","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762353403939,"stop":1762353403939,"duration":0}},{"uid":"dcd319caa67b8f6a","reportUrl":"https://vaizcom.github.io/autotests/416/#testresult/dcd319caa67b8f6a","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762349993815,"stop":1762349993815,"duration":0}},{"uid":"c1faf57a5a59b042","reportUrl":"https://vaizcom.github.io/autotests/415/#testresult/c1faf57a5a59b042","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762331964577,"stop":1762331964577,"duration":0}},{"uid":"580a0fa80a1bacb1","reportUrl":"https://vaizcom.github.io/autotests/414/#testresult/580a0fa80a1bacb1","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762329017864,"stop":1762329017864,"duration":0}},{"uid":"257e71ec3b1c6c2c","reportUrl":"https://vaizcom.github.io/autotests/413/#testresult/257e71ec3b1c6c2c","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762270626523,"stop":1762270626523,"duration":0}},{"uid":"a7eb90051cfa3a6","reportUrl":"https://vaizcom.github.io/autotests/412/#testresult/a7eb90051cfa3a6","status":"skipped","statusDetails":"Skipped: Revert","time":{"start":1762269840056,"stop":1762269840056,"duration":0}}]},"tags":["backend"]},"source":"c351def0437860e2.json","parameterValues":[]}