{"uid":"a8234b4b8ba90321","name":"test_get_recent_documents_foreign_space_access_denied","fullName":"tests.test_backend.document.access_doc.test_get_recent_documents_access_by_roles#test_get_recent_documents_foreign_space_access_denied","historyId":"996a4da9b4c0403770e77b7279cc3a30","time":{"start":1752738363060,"stop":1752738363718,"duration":658},"description":"Проверяет запрет доступа к списку недавних документов через чужое пространство","descriptionHtml":"<p>Проверяет запрет доступа к списку недавних документов через чужое пространство</p>\n","status":"failed","statusMessage":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code","statusTrace":"foreign_client = <tests.core.client.APIClient object at 0x7fcb69283250>\nspace_id_module = '6878aa3afa535636d1dc822c'\n\n    def test_get_recent_documents_foreign_space_access_denied(foreign_client, space_id_module):\n        \"\"\"Проверяет запрет доступа к списку недавних документов через чужое пространство\"\"\"\n    \n        with allure.step('Попытка получения недавних документов в чужом пространстве'):\n            recent_resp = foreign_client.post(**get_recent_documents_endpoint(space_id=space_id_module))\n    \n>           assert recent_resp.status_code == 403\nE           assert 400 == 403\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_get_recent_documents_access_by_roles.py:145: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1752738136298,"stop":1752738137029,"duration":731},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1752738136298,"stop":1752738136298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"foreign_client","time":{"start":1752738182957,"stop":1752738182957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"space_id_module","time":{"start":1752738362032,"stop":1752738363059,"duration":1027},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"Проверяет запрет доступа к списку недавних документов через чужое пространство","status":"failed","statusMessage":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code","statusTrace":"foreign_client = <tests.core.client.APIClient object at 0x7fcb69283250>\nspace_id_module = '6878aa3afa535636d1dc822c'\n\n    def test_get_recent_documents_foreign_space_access_denied(foreign_client, space_id_module):\n        \"\"\"Проверяет запрет доступа к списку недавних документов через чужое пространство\"\"\"\n    \n        with allure.step('Попытка получения недавних документов в чужом пространстве'):\n            recent_resp = foreign_client.post(**get_recent_documents_endpoint(space_id=space_id_module))\n    \n>           assert recent_resp.status_code == 403\nE           assert 400 == 403\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/access_doc/test_get_recent_documents_access_by_roles.py:145: AssertionError","steps":[{"name":"Попытка получения недавних документов в чужом пространстве","time":{"start":1752738363060,"stop":1752738363718,"duration":658},"status":"failed","statusMessage":"AssertionError: assert 400 == 403\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_get_recent_documents_access_by_roles.py\", line 145, in test_get_recent_documents_foreign_space_access_denied\n    assert recent_resp.status_code == 403\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"space_id_module::0","time":{"start":1752738363721,"stop":1752738364498,"duration":777},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_get_recent_documents_access_by_roles"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2564-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_get_recent_documents_access_by_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["backend"]},"source":"a8234b4b8ba90321.json","parameterValues":[]}