{"uid":"5b157b7d531b4554","name":"Негативный экспорт Y-Doc для document_id=None","fullName":"tests.test_backend.document.test_get_y_document#test_get_ydocument_invalid_id","historyId":"157bed99cdc7c958e668e89123522b58","time":{"start":1768298699333,"stop":1768298699455,"duration":122},"description":"\n    Негативный сценарий: разные некорректные document_id.\n    ","descriptionHtml":"<pre><code>Негативный сценарий: разные некорректные document_id.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\ntemp_space = '696617fe3f4e1998752138fd', fake_id = None, expected_status = 400\n\n    @allure.parent_suite(\"Document Service\")\n    @pytest.mark.parametrize(\n        'fake_id, expected_status',\n        [\n            ('000000000000000000000000', 400),\n            ('', 400),\n            (None, 400),\n        ],\n        ids=['not_found', 'empty', 'null'],\n    )\n    def test_get_ydocument_invalid_id(owner_client, temp_space, fake_id, expected_status):\n        \"\"\"\n        Негативный сценарий: разные некорректные document_id.\n        \"\"\"\n        allure.dynamic.title(f'Негативный экспорт Y-Doc для document_id={fake_id}')\n        with allure.step('Выполняем запрос с некорректным document_id'):\n            endpoint = get_ydocument_endpoint(document_id=fake_id, space_id=temp_space)\n            resp = owner_client.post(**endpoint)\n>           assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\nE           AssertionError: Ожидался 400, получен 503\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_y_document.py:72: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1768298486051,"stop":1768298486554,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_space","time":{"start":1768298494378,"stop":1768298494959,"duration":581},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Негативный сценарий: разные некорректные document_id.\n    ","status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\ntemp_space = '696617fe3f4e1998752138fd', fake_id = None, expected_status = 400\n\n    @allure.parent_suite(\"Document Service\")\n    @pytest.mark.parametrize(\n        'fake_id, expected_status',\n        [\n            ('000000000000000000000000', 400),\n            ('', 400),\n            (None, 400),\n        ],\n        ids=['not_found', 'empty', 'null'],\n    )\n    def test_get_ydocument_invalid_id(owner_client, temp_space, fake_id, expected_status):\n        \"\"\"\n        Негативный сценарий: разные некорректные document_id.\n        \"\"\"\n        allure.dynamic.title(f'Негативный экспорт Y-Doc для document_id={fake_id}')\n        with allure.step('Выполняем запрос с некорректным document_id'):\n            endpoint = get_ydocument_endpoint(document_id=fake_id, space_id=temp_space)\n            resp = owner_client.post(**endpoint)\n>           assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\nE           AssertionError: Ожидался 400, получен 503\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_y_document.py:72: AssertionError","steps":[{"name":"Выполняем запрос с некорректным document_id","time":{"start":1768298699333,"stop":1768298699454,"duration":121},"status":"failed","statusMessage":"AssertionError: Ожидался 400, получен 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_get_y_document.py\", line 72, in test_get_ydocument_invalid_id\n    assert resp.status_code == expected_status, f'Ожидался {expected_status}, получен {resp.status_code}'\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_space::0","time":{"start":1768298720251,"stop":1768298720369,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"Document Service"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_get_y_document"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_y_document"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"expected_status","value":"400"},{"name":"fake_id","value":"None"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":120,"unknown":0,"total":126},"items":[{"uid":"3c2e95d58865ba05","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/3c2e95d58865ba05","status":"passed","time":{"start":1767849992690,"stop":1767849992917,"duration":227}},{"uid":"1fed5f033f3b8d5b","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/1fed5f033f3b8d5b","status":"passed","time":{"start":1766507887022,"stop":1766507887581,"duration":559}},{"uid":"db6e6f6f689f6fef","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/db6e6f6f689f6fef","status":"passed","time":{"start":1766506538614,"stop":1766506538869,"duration":255}},{"uid":"ba947bf30108d4d1","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/ba947bf30108d4d1","status":"passed","time":{"start":1766505392925,"stop":1766505393182,"duration":257}},{"uid":"f6406bda732f2f19","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/f6406bda732f2f19","status":"passed","time":{"start":1766504313799,"stop":1766504313999,"duration":200}},{"uid":"278c6f53fa8fe879","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/278c6f53fa8fe879","status":"passed","time":{"start":1766503075470,"stop":1766503075664,"duration":194}},{"uid":"52a1396bed04e70e","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/52a1396bed04e70e","status":"passed","time":{"start":1766497217099,"stop":1766497217287,"duration":188}},{"uid":"ebd6d393a5271fdb","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/ebd6d393a5271fdb","status":"passed","time":{"start":1766488865081,"stop":1766488865267,"duration":186}},{"uid":"d01ed39d396cc83d","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/d01ed39d396cc83d","status":"passed","time":{"start":1766487460046,"stop":1766487460330,"duration":284}},{"uid":"b76dfc709739f464","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/b76dfc709739f464","status":"passed","time":{"start":1766412348737,"stop":1766412348943,"duration":206}},{"uid":"eb83ada844af17e2","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/eb83ada844af17e2","status":"passed","time":{"start":1766406301979,"stop":1766406302203,"duration":224}},{"uid":"1a100778da4622e","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/1a100778da4622e","status":"passed","time":{"start":1766403969774,"stop":1766403969997,"duration":223}},{"uid":"f3ea4cde0c7d23ec","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/f3ea4cde0c7d23ec","status":"passed","time":{"start":1766402562336,"stop":1766402562552,"duration":216}},{"uid":"5bcab373a10d5bb8","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/5bcab373a10d5bb8","status":"passed","time":{"start":1766067478875,"stop":1766067479106,"duration":231}},{"uid":"8d7e6d5dd211467f","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/8d7e6d5dd211467f","status":"passed","time":{"start":1766042895403,"stop":1766042895585,"duration":182}},{"uid":"7812824c7ebd6cae","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/7812824c7ebd6cae","status":"passed","time":{"start":1765984285348,"stop":1765984285601,"duration":253}},{"uid":"f1053e213ca9e74e","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/f1053e213ca9e74e","status":"passed","time":{"start":1765975618360,"stop":1765975618564,"duration":204}},{"uid":"6095175625f0c6fb","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/6095175625f0c6fb","status":"passed","time":{"start":1765891826117,"stop":1765891826457,"duration":340}},{"uid":"72425a3316f70b7f","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/72425a3316f70b7f","status":"passed","time":{"start":1765890017843,"stop":1765890018736,"duration":893}},{"uid":"ae01cb4235d2089f","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/ae01cb4235d2089f","status":"passed","time":{"start":1765881177716,"stop":1765881177924,"duration":208}}]},"tags":["backend"]},"source":"5b157b7d531b4554.json","parameterValues":["400","None"]}