{"uid":"1cc07bed5d948ed2","name":"Негативный кейс: documentId=nonexistent_id","fullName":"tests.test_backend.document.test_get_document#test_get_document_invalid_input","historyId":"b5ca2b30fcfa44c5173b7e46647c1b5c","time":{"start":1763387973606,"stop":1763387973736,"duration":130},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f061917eb10>\ntemp_space = '691b29650d8887e706faae80', document_id = 'nonexistent_id'\nexpected_status = 400, expected_error_code = 'InvalidForm'\n\n    @pytest.mark.parametrize(\n        'document_id, expected_status, expected_error_code',\n        [\n            ('nonexistent_id', 400, 'InvalidForm'),\n            (None, 400, 'InvalidForm'),\n            ('', 400, 'InvalidForm'),\n            (123, 400, 'InvalidForm'),\n            ('abc', 400, 'InvalidForm'),\n            ('!@#$', 400, 'InvalidForm'),\n            ({'id': '123'}, 400, 'InvalidForm'),\n        ],\n        ids=['invalid-id', 'missing-id', 'empty-string', 'int-id', 'short-str', 'special-chars', 'json-object'],\n    )\n    def test_get_document_invalid_input(owner_client, temp_space, document_id, expected_status, expected_error_code):\n        allure.dynamic.title(f'Негативный кейс: documentId={document_id}')\n    \n        with allure.step('Отправка запроса с некорректным или отсутствующим documentId'):\n            payload = {'documentId': document_id} if document_id is not None else {}\n            resp = owner_client.post(\n                path='/GetDocument',\n                json=payload,\n                headers={'Content-Type': 'application/json', 'Current-Space-Id': temp_space},\n            )\n>           assert resp.status_code == expected_status\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_document.py:64: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763387735904,"stop":1763387735904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1763387737613,"stop":1763387737917,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"temp_space","time":{"start":1763387748989,"stop":1763387749547,"duration":558},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f061917eb10>\ntemp_space = '691b29650d8887e706faae80', document_id = 'nonexistent_id'\nexpected_status = 400, expected_error_code = 'InvalidForm'\n\n    @pytest.mark.parametrize(\n        'document_id, expected_status, expected_error_code',\n        [\n            ('nonexistent_id', 400, 'InvalidForm'),\n            (None, 400, 'InvalidForm'),\n            ('', 400, 'InvalidForm'),\n            (123, 400, 'InvalidForm'),\n            ('abc', 400, 'InvalidForm'),\n            ('!@#$', 400, 'InvalidForm'),\n            ({'id': '123'}, 400, 'InvalidForm'),\n        ],\n        ids=['invalid-id', 'missing-id', 'empty-string', 'int-id', 'short-str', 'special-chars', 'json-object'],\n    )\n    def test_get_document_invalid_input(owner_client, temp_space, document_id, expected_status, expected_error_code):\n        allure.dynamic.title(f'Негативный кейс: documentId={document_id}')\n    \n        with allure.step('Отправка запроса с некорректным или отсутствующим documentId'):\n            payload = {'documentId': document_id} if document_id is not None else {}\n            resp = owner_client.post(\n                path='/GetDocument',\n                json=payload,\n                headers={'Content-Type': 'application/json', 'Current-Space-Id': temp_space},\n            )\n>           assert resp.status_code == expected_status\nE           assert 503 == 400\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/document/test_get_document.py:64: AssertionError","steps":[{"name":"Отправка запроса с некорректным или отсутствующим documentId","time":{"start":1763387973606,"stop":1763387973736,"duration":130},"status":"failed","statusMessage":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_get_document.py\", line 64, in test_get_document_invalid_input\n    assert resp.status_code == expected_status\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"temp_space::0","time":{"start":1763387989198,"stop":1763387989326,"duration":128},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document"},{"name":"suite","value":"test_get_document"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2589-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_get_document"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"document_id","value":"'nonexistent_id'"},{"name":"expected_error_code","value":"'InvalidForm'"},{"name":"expected_status","value":"400"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":38,"unknown":0,"total":43},"items":[{"uid":"86fd8a7a5e386ec2","reportUrl":"https://vaizcom.github.io/autotests/448/#testresult/86fd8a7a5e386ec2","status":"passed","time":{"start":1763373274037,"stop":1763373274238,"duration":201}},{"uid":"f7bc1fc6e5fa1650","reportUrl":"https://vaizcom.github.io/autotests/448/#testresult/f7bc1fc6e5fa1650","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1763372683955,"stop":1763372684126,"duration":171}},{"uid":"31eb75d470dc47b8","reportUrl":"https://vaizcom.github.io/autotests/447/#testresult/31eb75d470dc47b8","status":"passed","time":{"start":1763366496800,"stop":1763366497039,"duration":239}},{"uid":"3e10030677699021","reportUrl":"https://vaizcom.github.io/autotests/446/#testresult/3e10030677699021","status":"passed","time":{"start":1763130572391,"stop":1763130572647,"duration":256}},{"uid":"8ad224d94232985d","reportUrl":"https://vaizcom.github.io/autotests/445/#testresult/8ad224d94232985d","status":"passed","time":{"start":1763114263956,"stop":1763114264222,"duration":266}},{"uid":"4a9cc6039c1e0a61","reportUrl":"https://vaizcom.github.io/autotests/444/#testresult/4a9cc6039c1e0a61","status":"passed","time":{"start":1763046944222,"stop":1763046944414,"duration":192}},{"uid":"d54c4a8824635ee8","reportUrl":"https://vaizcom.github.io/autotests/443/#testresult/d54c4a8824635ee8","status":"passed","time":{"start":1763042598928,"stop":1763042599138,"duration":210}},{"uid":"c355a0d08008b866","reportUrl":"https://vaizcom.github.io/autotests/442/#testresult/c355a0d08008b866","status":"passed","time":{"start":1763040519192,"stop":1763040519388,"duration":196}},{"uid":"b41a850357607325","reportUrl":"https://vaizcom.github.io/autotests/441/#testresult/b41a850357607325","status":"passed","time":{"start":1763037206264,"stop":1763037206513,"duration":249}},{"uid":"29fc165d340f7358","reportUrl":"https://vaizcom.github.io/autotests/440/#testresult/29fc165d340f7358","status":"passed","time":{"start":1763034796056,"stop":1763034796250,"duration":194}},{"uid":"dd9e9a3f7c1967d0","reportUrl":"https://vaizcom.github.io/autotests/439/#testresult/dd9e9a3f7c1967d0","status":"passed","time":{"start":1763023103276,"stop":1763023103516,"duration":240}},{"uid":"df3f0fe1c2b72429","reportUrl":"https://vaizcom.github.io/autotests/438/#testresult/df3f0fe1c2b72429","status":"passed","time":{"start":1763020695790,"stop":1763020696046,"duration":256}},{"uid":"5543bf8192d32d52","reportUrl":"https://vaizcom.github.io/autotests/437/#testresult/5543bf8192d32d52","status":"passed","time":{"start":1762972950596,"stop":1762972950795,"duration":199}},{"uid":"44a87d658478f886","reportUrl":"https://vaizcom.github.io/autotests/436/#testresult/44a87d658478f886","status":"passed","time":{"start":1762972284374,"stop":1762972284618,"duration":244}},{"uid":"bb3bc6fb1750adca","reportUrl":"https://vaizcom.github.io/autotests/434/#testresult/bb3bc6fb1750adca","status":"passed","time":{"start":1762950681917,"stop":1762950682111,"duration":194}},{"uid":"caf2562e5539613e","reportUrl":"https://vaizcom.github.io/autotests/433/#testresult/caf2562e5539613e","status":"passed","time":{"start":1762949008356,"stop":1762949008603,"duration":247}},{"uid":"8c350753034a8fb8","reportUrl":"https://vaizcom.github.io/autotests/432/#testresult/8c350753034a8fb8","status":"passed","time":{"start":1762947216068,"stop":1762947216319,"duration":251}},{"uid":"1b17f8cb7fd224b3","reportUrl":"https://vaizcom.github.io/autotests/432/#testresult/1b17f8cb7fd224b3","status":"failed","statusDetails":"AssertionError: assert 503 == 400\n +  where 503 = <Response [503]>.status_code","time":{"start":1762939579386,"stop":1762939579496,"duration":110}},{"uid":"78c4867ea7977c48","reportUrl":"https://vaizcom.github.io/autotests/431/#testresult/78c4867ea7977c48","status":"passed","time":{"start":1762855684548,"stop":1762855684806,"duration":258}},{"uid":"61eca1d8d14d8b73","reportUrl":"https://vaizcom.github.io/autotests/430/#testresult/61eca1d8d14d8b73","status":"passed","time":{"start":1762780831325,"stop":1762780831509,"duration":184}}]},"tags":["backend"]},"source":"1cc07bed5d948ed2.json","parameterValues":["'nonexistent_id'","'InvalidForm'","400"]}