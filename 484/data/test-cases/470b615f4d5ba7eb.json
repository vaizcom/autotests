{"uid":"470b615f4d5ba7eb","name":"Фильтрация задач: withArchived некорректного типа — ошибка валидации (400)","fullName":"tests.test_backend.task_service.get_tasks.tasks_filtered_by_criteria.test_get_tasks_with_archived#test_get_tasks_with_archived_invalid_type","historyId":"9cfe66da0e10abe4cf3db81ddf1c1ccc","time":{"start":1764765357626,"stop":1764765357791,"duration":165},"description":"\n    Проверяет, что при передаче некорректного значения параметра withArchived (не boolean)\n    API возвращает 400 и сообщение: 'withArchived must be a boolean value'.\n    ","descriptionHtml":"<pre><code>Проверяет, что при передаче некорректного значения параметра withArchived (не boolean)\nAPI возвращает 400 и сообщение: 'withArchived must be a boolean value'.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено: 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f72401f62d0>\nmain_space = '6866309d85fb8d104544a61e'\nboard_with_10000_tasks = '6909d4141a593d8d7c3b9f91'\n\n    @allure.title(\"Фильтрация задач: withArchived некорректного типа — ошибка валидации (400)\")\n    def test_get_tasks_with_archived_invalid_type(owner_client, main_space, board_with_10000_tasks):\n        \"\"\"\n        Проверяет, что при передаче некорректного значения параметра withArchived (не boolean)\n        API возвращает 400 и сообщение: 'withArchived must be a boolean value'.\n        \"\"\"\n        with allure.step(\"Отправляем запрос с withArchived=[] (не boolean)\"):\n            response = owner_client.post(**get_tasks_endpoint(space_id=main_space, board=board_with_10000_tasks, withArchived=[]))\n    \n        with allure.step(\"Проверяем код ответа и структуру ошибки валидации\"):\n            with allure.step(\"Проверить HTTP 400 и наличие валидационной ошибки\"):\n>               assert response.status_code == 400, f\"Ожидался статус 400, получено: {response.status_code}\"\nE               AssertionError: Ожидался статус 400, получено: 503\nE               assert 503 == 400\nE                +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_with_archived.py:102: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1764764561111,"stop":1764764561718,"duration":607},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764764561111,"stop":1764764561111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764764561111,"stop":1764764561111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764764561111,"stop":1764764561111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764764561111,"stop":1764764561111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1764764564744,"stop":1764764566876,"duration":2132},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1764764566877,"stop":1764764567245,"duration":368},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_with_10000_tasks","time":{"start":1764765284886,"stop":1764765285772,"duration":886},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверяет, что при передаче некорректного значения параметра withArchived (не boolean)\n    API возвращает 400 и сообщение: 'withArchived must be a boolean value'.\n    ","status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено: 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f72401f62d0>\nmain_space = '6866309d85fb8d104544a61e'\nboard_with_10000_tasks = '6909d4141a593d8d7c3b9f91'\n\n    @allure.title(\"Фильтрация задач: withArchived некорректного типа — ошибка валидации (400)\")\n    def test_get_tasks_with_archived_invalid_type(owner_client, main_space, board_with_10000_tasks):\n        \"\"\"\n        Проверяет, что при передаче некорректного значения параметра withArchived (не boolean)\n        API возвращает 400 и сообщение: 'withArchived must be a boolean value'.\n        \"\"\"\n        with allure.step(\"Отправляем запрос с withArchived=[] (не boolean)\"):\n            response = owner_client.post(**get_tasks_endpoint(space_id=main_space, board=board_with_10000_tasks, withArchived=[]))\n    \n        with allure.step(\"Проверяем код ответа и структуру ошибки валидации\"):\n            with allure.step(\"Проверить HTTP 400 и наличие валидационной ошибки\"):\n>               assert response.status_code == 400, f\"Ожидался статус 400, получено: {response.status_code}\"\nE               AssertionError: Ожидался статус 400, получено: 503\nE               assert 503 == 400\nE                +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_with_archived.py:102: AssertionError","steps":[{"name":"Отправляем запрос с withArchived=[] (не boolean)","time":{"start":1764765357626,"stop":1764765357790,"duration":164},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем код ответа и структуру ошибки валидации","time":{"start":1764765357790,"stop":1764765357790,"duration":0},"status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено: 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_with_archived.py\", line 102, in test_get_tasks_with_archived_invalid_type\n    assert response.status_code == 400, f\"Ожидался статус 400, получено: {response.status_code}\"\n","steps":[{"name":"Проверить HTTP 400 и наличие валидационной ошибки","time":{"start":1764765357790,"stop":1764765357790,"duration":0},"status":"failed","statusMessage":"AssertionError: Ожидался статус 400, получено: 503\nassert 503 == 400\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_with_archived.py\", line 102, in test_get_tasks_with_archived_invalid_type\n    assert response.status_code == 400, f\"Ожидался статус 400, получено: {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.task_service.get_tasks.tasks_filtered_by_criteria"},{"name":"suite","value":"test_get_tasks_with_archived"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2622-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.tasks_filtered_by_criteria.test_get_tasks_with_archived"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":10},"items":[{"uid":"e53e3bce3f1e8bb6","reportUrl":"https://vaizcom.github.io/autotests/483/#testresult/e53e3bce3f1e8bb6","status":"passed","time":{"start":1764749218567,"stop":1764749218770,"duration":203}},{"uid":"fe8c0822834de592","reportUrl":"https://vaizcom.github.io/autotests/482/#testresult/fe8c0822834de592","status":"passed","time":{"start":1764687250436,"stop":1764687250643,"duration":207}},{"uid":"d89915c64b690f57","reportUrl":"https://vaizcom.github.io/autotests/481/#testresult/d89915c64b690f57","status":"passed","time":{"start":1764680301907,"stop":1764680302167,"duration":260}},{"uid":"bc5276e26b2e56a7","reportUrl":"https://vaizcom.github.io/autotests/480/#testresult/bc5276e26b2e56a7","status":"passed","time":{"start":1764602490669,"stop":1764602490940,"duration":271}},{"uid":"f1ccbea2320b029d","reportUrl":"https://vaizcom.github.io/autotests/479/#testresult/f1ccbea2320b029d","status":"passed","time":{"start":1764593883592,"stop":1764593883805,"duration":213}},{"uid":"49fff37fdb4f61b","reportUrl":"https://vaizcom.github.io/autotests/478/#testresult/49fff37fdb4f61b","status":"passed","time":{"start":1764583411281,"stop":1764583411525,"duration":244}},{"uid":"2d733bc13235676a","reportUrl":"https://vaizcom.github.io/autotests/477/#testresult/2d733bc13235676a","status":"passed","time":{"start":1764152003414,"stop":1764152003668,"duration":254}},{"uid":"b77b0c81443811b6","reportUrl":"https://vaizcom.github.io/autotests/476/#testresult/b77b0c81443811b6","status":"passed","time":{"start":1764147525606,"stop":1764147525852,"duration":246}},{"uid":"c13aae4140e8ad4","reportUrl":"https://vaizcom.github.io/autotests/475/#testresult/c13aae4140e8ad4","status":"passed","time":{"start":1764081226259,"stop":1764081226505,"duration":246}}]},"tags":["backend"]},"source":"470b615f4d5ba7eb.json","parameterValues":[]}