{"uid":"179b92d4b2b514cd","name":"GetTasks milestone: milestone из другой доски не возвращает задачи","fullName":"tests.test_backend.task_service.get_tasks.tasks_filtered_by_criteria.test_get_tasks_milestones#test_get_tasks_filtered_by_another_board_milestone","historyId":"066e447380723edc2da8d6413c2f043d","time":{"start":1768298717769,"stop":1768298717899,"duration":130},"description":"\n        Тест проверяет, что при фильтрации по несуществующему milestone возвращается пустой список задач.\n        Покрывает проверку передачи milestone из другого спейса/проекта/борды\n\n        Ожидаемый результат:\n        - Пустой список задач (tasks == [] или len(tasks) == 0).\n        - Ошибки HTTP отсутствуют.\n        ","descriptionHtml":"<pre><code>    Тест проверяет, что при фильтрации по несуществующему milestone возвращается пустой список задач.\n    Покрывает проверку передачи milestone из другого спейса/проекта/борды\n\n    Ожидаемый результат:\n    - Пустой список задач (tasks == [] или len(tasks) == 0).\n    - Ошибки HTTP отсутствуют.\n</code></pre>\n","status":"broken","statusMessage":"requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-ms.vaiz.dev/v4/GetTasks","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Filtered by criteria\")\n    @allure.title(\"GetTasks milestone: milestone из другой доски не возвращает задачи\")\n    def test_get_tasks_filtered_by_another_board_milestone(owner_client):\n        \"\"\"\n            Тест проверяет, что при фильтрации по несуществующему milestone возвращается пустой список задач.\n            Покрывает проверку передачи milestone из другого спейса/проекта/борды\n    \n            Ожидаемый результат:\n            - Пустой список задач (tasks == [] или len(tasks) == 0).\n            - Ошибки HTTP отсутствуют.\n            \"\"\"\n        space_id = MAIN_SPACE_ID\n        board_id = BOARD_WITH_TASKS\n        another_ms_id = \"68e8fb0f20bb30c7a47df206\"\n    \n        with allure.step(\"Запрашиваем задачи с milestone из другой доски\"):\n            resp = owner_client.post(**get_tasks_endpoint(space_id=space_id, board_id=board_id, milestones=[another_ms_id]))\n>           resp.raise_for_status()\n\ntests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_milestones.py:163: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [503]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-ms.vaiz.dev/v4/GetTasks\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py:1024: HTTPError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1768298486051,"stop":1768298486554,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Тест проверяет, что при фильтрации по несуществующему milestone возвращается пустой список задач.\n        Покрывает проверку передачи milestone из другого спейса/проекта/борды\n\n        Ожидаемый результат:\n        - Пустой список задач (tasks == [] или len(tasks) == 0).\n        - Ошибки HTTP отсутствуют.\n        ","status":"broken","statusMessage":"requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-ms.vaiz.dev/v4/GetTasks","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f78edeb3e50>\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Filtered by criteria\")\n    @allure.title(\"GetTasks milestone: milestone из другой доски не возвращает задачи\")\n    def test_get_tasks_filtered_by_another_board_milestone(owner_client):\n        \"\"\"\n            Тест проверяет, что при фильтрации по несуществующему milestone возвращается пустой список задач.\n            Покрывает проверку передачи milestone из другого спейса/проекта/борды\n    \n            Ожидаемый результат:\n            - Пустой список задач (tasks == [] или len(tasks) == 0).\n            - Ошибки HTTP отсутствуют.\n            \"\"\"\n        space_id = MAIN_SPACE_ID\n        board_id = BOARD_WITH_TASKS\n        another_ms_id = \"68e8fb0f20bb30c7a47df206\"\n    \n        with allure.step(\"Запрашиваем задачи с milestone из другой доски\"):\n            resp = owner_client.post(**get_tasks_endpoint(space_id=space_id, board_id=board_id, milestones=[another_ms_id]))\n>           resp.raise_for_status()\n\ntests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_milestones.py:163: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Response [503]>\n\n    def raise_for_status(self):\n        \"\"\"Raises :class:`HTTPError`, if one occurred.\"\"\"\n    \n        http_error_msg = \"\"\n        if isinstance(self.reason, bytes):\n            # We attempt to decode utf-8 first because some servers\n            # choose to localize their reason strings. If the string\n            # isn't utf-8, we fall back to iso-8859-1 for all other\n            # encodings. (See PR #3538)\n            try:\n                reason = self.reason.decode(\"utf-8\")\n            except UnicodeDecodeError:\n                reason = self.reason.decode(\"iso-8859-1\")\n        else:\n            reason = self.reason\n    \n        if 400 <= self.status_code < 500:\n            http_error_msg = (\n                f\"{self.status_code} Client Error: {reason} for url: {self.url}\"\n            )\n    \n        elif 500 <= self.status_code < 600:\n            http_error_msg = (\n                f\"{self.status_code} Server Error: {reason} for url: {self.url}\"\n            )\n    \n        if http_error_msg:\n>           raise HTTPError(http_error_msg, response=self)\nE           requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-ms.vaiz.dev/v4/GetTasks\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py:1024: HTTPError","steps":[{"name":"Запрашиваем задачи с milestone из другой доски","time":{"start":1768298717769,"stop":1768298717898,"duration":129},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-ms.vaiz.dev/v4/GetTasks\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/get_tasks/tasks_filtered_by_criteria/test_get_tasks_milestones.py\", line 163, in test_get_tasks_filtered_by_another_board_milestone\n    resp.raise_for_status()\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"subSuite","value":"Filtered by criteria"},{"name":"suite","value":"Get Tasks"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.tasks_filtered_by_criteria.test_get_tasks_milestones"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":56,"unknown":0,"total":58},"items":[{"uid":"bea91a13b8799995","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/bea91a13b8799995","status":"passed","time":{"start":1767850409384,"stop":1767850409615,"duration":231}},{"uid":"3077344bb611ffc4","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/3077344bb611ffc4","status":"passed","time":{"start":1766508272707,"stop":1766508272938,"duration":231}},{"uid":"5e4b2baed90a9a21","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/5e4b2baed90a9a21","status":"passed","time":{"start":1766506961956,"stop":1766506962228,"duration":272}},{"uid":"66f8effae4445ff1","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/66f8effae4445ff1","status":"passed","time":{"start":1766505800588,"stop":1766505800865,"duration":277}},{"uid":"82e4ccd91c95592b","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/82e4ccd91c95592b","status":"passed","time":{"start":1766504709155,"stop":1766504709357,"duration":202}},{"uid":"eb0f8c4a407675cf","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/eb0f8c4a407675cf","status":"passed","time":{"start":1766503421019,"stop":1766503421227,"duration":208}},{"uid":"7a4462491482f565","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/7a4462491482f565","status":"passed","time":{"start":1766497578713,"stop":1766497578925,"duration":212}},{"uid":"1f8a1dd4e3666cb","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/1f8a1dd4e3666cb","status":"passed","time":{"start":1766489198425,"stop":1766489198621,"duration":196}},{"uid":"3b0454d305ffe51c","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/3b0454d305ffe51c","status":"passed","time":{"start":1766487891490,"stop":1766487891736,"duration":246}},{"uid":"e70efc94287caad4","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/e70efc94287caad4","status":"passed","time":{"start":1766412727426,"stop":1766412727640,"duration":214}},{"uid":"3c594b7702f2d64","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/3c594b7702f2d64","status":"passed","time":{"start":1766406616658,"stop":1766406616839,"duration":181}},{"uid":"b74b3744d6392a52","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/b74b3744d6392a52","status":"passed","time":{"start":1766404319271,"stop":1766404319476,"duration":205}},{"uid":"15b02b85f032b398","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/15b02b85f032b398","status":"passed","time":{"start":1766402980102,"stop":1766402980322,"duration":220}},{"uid":"cdddf3a95c9695f4","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/cdddf3a95c9695f4","status":"passed","time":{"start":1766067880104,"stop":1766067880320,"duration":216}},{"uid":"91a3c9d2d23ffc25","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/91a3c9d2d23ffc25","status":"passed","time":{"start":1766043290219,"stop":1766043290403,"duration":184}},{"uid":"3341c93df377d625","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/3341c93df377d625","status":"passed","time":{"start":1765984759609,"stop":1765984759883,"duration":274}},{"uid":"cf128f4dda3cfdd8","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/cf128f4dda3cfdd8","status":"passed","time":{"start":1765976059980,"stop":1765976060181,"duration":201}},{"uid":"cb251ada22e99af9","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/cb251ada22e99af9","status":"passed","time":{"start":1765892252221,"stop":1765892252474,"duration":253}},{"uid":"c0d5f2fc751564e2","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/c0d5f2fc751564e2","status":"passed","time":{"start":1765890426167,"stop":1765890426375,"duration":208}},{"uid":"68abcbed049130d3","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/68abcbed049130d3","status":"passed","time":{"start":1765881559492,"stop":1765881559699,"duration":207}}]},"tags":["backend"]},"source":"179b92d4b2b514cd.json","parameterValues":[]}