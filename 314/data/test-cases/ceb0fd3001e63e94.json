{"uid":"ceb0fd3001e63e94","name":"Архивирование Space-документа для роли member","fullName":"tests.test_backend.document.access_doc.test_archive_doc#test_archive_space_doc","historyId":"caa1f26fa1c2a34ffa0bd86c8c25ea11","time":{"start":1752836770473,"stop":1752836771468,"duration":995},"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","descriptionHtml":"<pre><code>Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\nТест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\nи оценивает возможность архивации документа на основе предоставленной роли client_fixture.\nПроверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\nДополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\nс использованием случайного клиента с повышенными правами.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1752836741082,"stop":1752836741082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1752836741082,"stop":1752836741082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1752836741082,"stop":1752836741082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1752836741082,"stop":1752836741082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1752836766820,"stop":1752836767457,"duration":637},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1752836767457,"stop":1752836768065,"duration":608},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"manager_client","time":{"start":1752836768940,"stop":1752836769562,"duration":622},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"member_client","time":{"start":1752836770474,"stop":1752836770819,"duration":345},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяет функциональность архивации Space-документа с разными ролями и уровнями доступа.\n\n    Тест создает Space-документ, используя случайного клиента с повышенными правами (владелец, менеджер или участник),\n    и оценивает возможность архивации документа на основе предоставленной роли client_fixture.\n    Проверяется, что возвращаются корректные коды состояния в зависимости от прав пользователя.\n    Дополнительно, в случаях, когда доступ запрещен и ожидаемый статус 403, документ архивируется после теста\n    с использованием случайного клиента с повышенными правами.\n    ","status":"passed","steps":[{"name":"Случайный клиент(manager_client) создаёт Space-документ для архивации (title = 18.07_11:06:10 Space Doc For Archive Check)","time":{"start":1752836770819,"stop":1752836771124,"duration":305},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Архивация Space-документа в роли member, 200","time":{"start":1752836771124,"stop":1752836771468,"duration":344},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_archive_doc"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"2555-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_archive_doc"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'member_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":57,"unknown":0,"total":60},"items":[{"uid":"16746d496fb561bc","reportUrl":"https://vaizcom.github.io/autotests/313//#testresult/16746d496fb561bc","status":"passed","time":{"start":1752835904085,"stop":1752835904538,"duration":453}},{"uid":"5ea36d18e60b93bf","reportUrl":"https://vaizcom.github.io/autotests/312//#testresult/5ea36d18e60b93bf","status":"passed","time":{"start":1752827259817,"stop":1752827260241,"duration":424}},{"uid":"b5146faa5c4a69a7","reportUrl":"https://vaizcom.github.io/autotests/311//#testresult/b5146faa5c4a69a7","status":"passed","time":{"start":1752738165434,"stop":1752738166043,"duration":609}},{"uid":"1ebabb0d55a0653b","reportUrl":"https://vaizcom.github.io/autotests/310//#testresult/1ebabb0d55a0653b","status":"passed","time":{"start":1752669067601,"stop":1752669068791,"duration":1190}},{"uid":"b6387247c7636497","reportUrl":"https://vaizcom.github.io/autotests/309//#testresult/b6387247c7636497","status":"passed","time":{"start":1752668192182,"stop":1752668193303,"duration":1121}},{"uid":"677f96ff183ea6d2","reportUrl":"https://vaizcom.github.io/autotests/308//#testresult/677f96ff183ea6d2","status":"passed","time":{"start":1752665680177,"stop":1752665681872,"duration":1695}},{"uid":"7dab4b0b68135c6e","reportUrl":"https://vaizcom.github.io/autotests/307//#testresult/7dab4b0b68135c6e","status":"passed","time":{"start":1752586301811,"stop":1752586302278,"duration":467}},{"uid":"b3fcf96a29087a05","reportUrl":"https://vaizcom.github.io/autotests/306//#testresult/b3fcf96a29087a05","status":"passed","time":{"start":1752585462600,"stop":1752585463120,"duration":520}},{"uid":"983aba1b3dfda3ca","reportUrl":"https://vaizcom.github.io/autotests/305//#testresult/983aba1b3dfda3ca","status":"passed","time":{"start":1752583563403,"stop":1752583564584,"duration":1181}},{"uid":"520bf2cb12acfcf","reportUrl":"https://vaizcom.github.io/autotests/304//#testresult/520bf2cb12acfcf","status":"passed","time":{"start":1752579795793,"stop":1752579796886,"duration":1093}},{"uid":"928c0745569586ff","reportUrl":"https://vaizcom.github.io/autotests/303//#testresult/928c0745569586ff","status":"passed","time":{"start":1752569818952,"stop":1752569820624,"duration":1672}},{"uid":"19bf7ca3916014d5","reportUrl":"https://vaizcom.github.io/autotests/302//#testresult/19bf7ca3916014d5","status":"passed","time":{"start":1752568883487,"stop":1752568884161,"duration":674}},{"uid":"e8b5a7babff10654","reportUrl":"https://vaizcom.github.io/autotests/301//#testresult/e8b5a7babff10654","status":"passed","time":{"start":1752568134887,"stop":1752568136391,"duration":1504}},{"uid":"58fb9926674514d2","reportUrl":"https://vaizcom.github.io/autotests/300//#testresult/58fb9926674514d2","status":"passed","time":{"start":1752565811388,"stop":1752565812357,"duration":969}},{"uid":"209adb16508e21b3","reportUrl":"https://vaizcom.github.io/autotests/299//#testresult/209adb16508e21b3","status":"passed","time":{"start":1752565263600,"stop":1752565264175,"duration":575}},{"uid":"2d699e2eae7b46a5","reportUrl":"https://vaizcom.github.io/autotests/298//#testresult/2d699e2eae7b46a5","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752563848049,"stop":1752563848049,"duration":0}},{"uid":"b8d87c2bbd3a511a","reportUrl":"https://vaizcom.github.io/autotests/297//#testresult/b8d87c2bbd3a511a","status":"failed","statusDetails":"Failed: ScopeMismatch: You tried to access the function scoped fixture resource_lock with a session scoped request object. Requesting fixture stack:\ntests/conftest.py:68:  def main_space(main_client, resource_lock) -> str\nRequested fixture:\ntests/conftest.py:25:  def resource_lock()","time":{"start":1752562435907,"stop":1752562435907,"duration":0}},{"uid":"ee296c5d8a8bd73f","reportUrl":"https://vaizcom.github.io/autotests/296//#testresult/ee296c5d8a8bd73f","status":"passed","time":{"start":1752501031978,"stop":1752501033025,"duration":1047}},{"uid":"5092671a77cc956a","reportUrl":"https://vaizcom.github.io/autotests/295//#testresult/5092671a77cc956a","status":"failed","statusDetails":"AssertionError: assert 200 == 403","time":{"start":1752500643337,"stop":1752500643800,"duration":463}},{"uid":"76a8c25c6624ea74","reportUrl":"https://vaizcom.github.io/autotests/294//#testresult/76a8c25c6624ea74","status":"passed","time":{"start":1752499328081,"stop":1752499330570,"duration":2489}}]},"tags":["backend"]},"source":"ceb0fd3001e63e94.json","parameterValues":["'member_client'","200"]}