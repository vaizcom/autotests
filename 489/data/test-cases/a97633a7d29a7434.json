{"uid":"a97633a7d29a7434","name":"Доступ к таскам спейса под ролью Guest (HTTP 200)","fullName":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_space_all#test_get_tasks_by_role_in_second_space","historyId":"5e3115a648e9aa180c61746c96630c21","time":{"start":1764995055686,"stop":1764995055889,"duration":203},"description":"\n    Проверка доступа ко всем таскам в спейсе для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат указанному спейсу;\n\n    TODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n    (сейчас указан спейс в котором нет архивных тасок)\n    ","descriptionHtml":"<pre><code>Проверка доступа ко всем таскам в спейсе для всех ролей:\n- роли с доступом: HTTP 200 и все задачи принадлежат указанному спейсу;\n\nTODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n(сейчас указан спейс в котором нет архивных тасок)\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1764994355050,"stop":1764994355051,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764994355051,"stop":1764994355051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764994355051,"stop":1764994355051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764994355051,"stop":1764994355051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1764994358769,"stop":1764994359046,"duration":277},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1764994359046,"stop":1764994359329,"duration":283},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1764994359329,"stop":1764994359566,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"guest_client","time":{"start":1764994361955,"stop":1764994362499,"duration":544},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_space","time":{"start":1764995054371,"stop":1764995054843,"duration":472},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_project","time":{"start":1764995054843,"stop":1764995055082,"duration":239},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверка доступа ко всем таскам в спейсе для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат указанному спейсу;\n\n    TODO: после исправления бага добавить проверку, что заархивированные задачи не попадают в выборку\n    (сейчас указан спейс в котором нет архивных тасок)\n    ","status":"passed","steps":[{"name":"guest_client: вызвать GetTasks без фильтров","time":{"start":1764995055686,"stop":1764995055889,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить HTTP 200","time":{"start":1764995055889,"stop":1764995055889,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить payload","time":{"start":1764995055889,"stop":1764995055889,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить отсутствие задач из другого спейса)","time":{"start":1764995055889,"stop":1764995055889,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.task_service.get_tasks.access_get_tasks"},{"name":"suite","value":"test_get_tasks_space_all"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2637-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_space_all"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'guest_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":34,"unknown":0,"total":36},"items":[{"uid":"425e7ee8c327dc0e","reportUrl":"https://vaizcom.github.io/autotests/486/#testresult/425e7ee8c327dc0e","status":"passed","time":{"start":1764848728169,"stop":1764848728415,"duration":246}},{"uid":"a862841feb7873b","reportUrl":"https://vaizcom.github.io/autotests/485/#testresult/a862841feb7873b","status":"passed","time":{"start":1764766752760,"stop":1764766753001,"duration":241}},{"uid":"829344a7be3668a1","reportUrl":"https://vaizcom.github.io/autotests/484/#testresult/829344a7be3668a1","status":"failed","statusDetails":"AssertionError: Space 691adf9e4bfde6405d9feb3a not found: <!DOCTYPE html>\n  <!--[if lt IE 7]> <html class=\"no-js ie6 oldie\" lang=\"en-US\"> <![endif]-->\n  <!--[if IE 7]>    <html class=\"no-js ie7 oldie\" lang=\"en-US\"> <![endif]-->\n  <!--[if IE 8]>    <html class=\"no-js ie8 oldie\" lang=\"en-US\"> <![endif]-->\n  <!--[if gt IE 8]><!--> <html class=\"no-js\" lang=\"en-US\"> <!--<![endif]-->\n  <head>\n  \n  <title>vaiz.dev | 502: Bad gateway</title>\n  <meta charset=\"UTF-8\" />\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" />\n  <meta name=\"robots\" content=\"noindex, nofollow\" />\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <link rel=\"stylesheet\" id=\"cf_styles-css\" href=\"/cdn-cgi/styles/main.css\" />\n  </head>\n  <body>\n  <div id=\"cf-wrapper\">\n      <div id=\"cf-error-details\" class=\"p-0\">\n          <header class=\"mx-auto pt-10 lg:pt-6 lg:px-8 w-240 lg:w-full mb-8\">\n              <h1 class=\"inline-block sm:block sm:mb-2 font-light text-60 lg:text-4xl text-black-dark leading-tight mr-2\">\n                  <span class=\"inline-block\">Bad gateway</span>\n                  <span class=\"code-label\">Error code 502</span>\n              </h1>\n              <div>\n                  Visit <a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=vaiz-api-uat.vaiz.dev\" target=\"_blank\" rel=\"noopener noreferrer\">cloudflare.com</a> for more information.\n              </div>\n              <div class=\"mt-3\">2025-12-03 12:35:50 UTC</div>\n          </header>\n          <div class=\"my-8 bg-gradient-gray\">\n              <div class=\"w-240 lg:w-full mx-auto\">\n                  <div class=\"clearfix md:px-8\">\n                      <div id=\"cf-browser-status\" class=\" relative w-1/3 md:w-full py-15 md:p-0 md:py-8 md:text-left md:border-solid md:border-0 md:border-b md:border-gray-400 overflow-hidden float-left md:float-none text-center\">\n    <div class=\"relative mb-10 md:m-0\">\n      \n      <span class=\"cf-icon-browser block md:hidden h-20 bg-center bg-no-repeat\"></span>\n      <span class=\"cf-icon-ok w-12 h-12 absolute left-1/2 md:left-auto md:right-0 md:top-0 -ml-6 -bottom-4\"></span>\n      \n    </div>\n    <span class=\"md:block w-full truncate\">You</span>\n    <h3 class=\"md:inline-block mt-3 md:mt-0 text-2xl text-gray-600 font-light leading-1.3\">\n    \n      Browser\n    \n    </h3>\n    \n    <span class=\"leading-1.3 text-2xl text-green-success\">Working</span>\n    \n  </div>\n                      <div id=\"cf-cloudflare-status\" class=\" relative w-1/3 md:w-full py-15 md:p-0 md:py-8 md:text-left md:border-solid md:border-0 md:border-b md:border-gray-400 overflow-hidden float-left md:float-none text-center\">\n    <div class=\"relative mb-10 md:m-0\">\n      <a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&#38;utm_campaign=vaiz-api-uat.vaiz.dev\" target=\"_blank\" rel=\"noopener noreferrer\">\n      <span class=\"cf-icon-cloud block md:hidden h-20 bg-center bg-no-repeat\"></span>\n      <span class=\"cf-icon-ok w-12 h-12 absolute left-1/2 md:left-auto md:right-0 md:top-0 -ml-6 -bottom-4\"></span>\n      </a>\n    </div>\n    <span class=\"md:block w-full truncate\">San Jose</span>\n    <h3 class=\"md:inline-block mt-3 md:mt-0 text-2xl text-gray-600 font-light leading-1.3\">\n    <a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=vaiz-api-uat.vaiz.dev\" target=\"_blank\" rel=\"noopener noreferrer\">\n      Cloudflare\n    </a>\n    </h3>\n    \n    <span class=\"leading-1.3 text-2xl text-green-success\">Working</span>\n    \n  </div>\n                      <div id=\"cf-host-status\" class=\"cf-error-source relative w-1/3 md:w-full py-15 md:p-0 md:py-8 md:text-left md:border-solid md:border-0 md:border-b md:border-gray-400 overflow-hidden float-left md:float-none text-center\">\n    <div class=\"relative mb-10 md:m-0\">\n      \n      <span class=\"cf-icon-server block md:hidden h-20 bg-center bg-no-repeat\"></span>\n      <span class=\"cf-icon-error w-12 h-12 absolute left-1/2 md:left-auto md:right-0 md:top-0 -ml-6 -bottom-4\"></span>\n      \n    </div>\n    <span class=\"md:block w-full truncate\">vaiz-api-uat.vaiz.dev</span>\n    <h3 class=\"md:inline-block mt-3 md:mt-0 text-2xl text-gray-600 font-light leading-1.3\">\n    \n      Host\n    \n    </h3>\n    \n    <span class=\"leading-1.3 text-2xl text-red-error\">Error</span>\n    \n  </div>\n                  </div>\n              </div>\n          </div>\n  \n          <div class=\"w-240 lg:w-full mx-auto mb-8 lg:px-8\">\n              <div class=\"clearfix\">\n                  <div class=\"w-1/2 md:w-full float-left pr-6 md:pb-10 md:pr-0 leading-relaxed\">\n                      <h2 class=\"text-3xl font-normal leading-1.3 mb-4\">What happened?</h2>\n                      <p>The web server reported a bad gateway error.</p>\n                  </div>\n                  <div class=\"w-1/2 md:w-full float-left leading-relaxed\">\n                      <h2 class=\"text-3xl font-normal leading-1.3 mb-4\">What can I do?</h2>\n                      <p class=\"mb-6\">Please try again in a few minutes.</p>\n                  </div>\n              </div>\n          </div>\n  \n          <div class=\"cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300\">\n      <p class=\"text-13\">\n        <span class=\"cf-footer-item sm:block sm:mb-1\">Cloudflare Ray ID: <strong class=\"font-semibold\">9a831b2fefa4faba</strong></span>\n        <span class=\"cf-footer-separator sm:hidden\">&bull;</span>\n        <span id=\"cf-footer-item-ip\" class=\"cf-footer-item hidden sm:block sm:mb-1\">\n          Your IP:\n          <button type=\"button\" id=\"cf-footer-ip-reveal\" class=\"cf-footer-ip-reveal-btn\">Click to reveal</button>\n          <span class=\"hidden\" id=\"cf-footer-ip\">68.220.63.5</span>\n          <span class=\"cf-footer-separator sm:hidden\">&bull;</span>\n        </span>\n        <span class=\"cf-footer-item sm:block sm:mb-1\"><span>Performance &amp; security by</span> <a rel=\"noopener noreferrer\" href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&#38;utm_campaign=vaiz-api-uat.vaiz.dev\" id=\"brand_link\" target=\"_blank\">Cloudflare</a></span>\n        \n      </p>\n      <script>(function(){function d(){var b=a.getElementById(\"cf-footer-item-ip\"),c=a.getElementById(\"cf-footer-ip-reveal\");b&&\"classList\"in b&&(b.classList.remove(\"hidden\"),c.addEventListener(\"click\",function(){c.classList.add(\"hidden\");a.getElementById(\"cf-footer-ip\").classList.remove(\"hidden\")}))}var a=document;document.addEventListener&&a.addEventListener(\"DOMContentLoaded\",d)})();</script>\n    </div><!-- /.error-footer -->\n  \n      </div>\n  </div>\n  </body>\n  </html>\nassert 502 == 200\n +  where 502 = <Response [502]>.status_code","time":{"start":1764765350614,"stop":1764765350614,"duration":0}},{"uid":"47da1c21f8c262f0","reportUrl":"https://vaizcom.github.io/autotests/483/#testresult/47da1c21f8c262f0","status":"passed","time":{"start":1764749172728,"stop":1764749172926,"duration":198}},{"uid":"9f0f4036730ca342","reportUrl":"https://vaizcom.github.io/autotests/482/#testresult/9f0f4036730ca342","status":"passed","time":{"start":1764687207594,"stop":1764687207961,"duration":367}},{"uid":"4c9d67f62b6156be","reportUrl":"https://vaizcom.github.io/autotests/481/#testresult/4c9d67f62b6156be","status":"passed","time":{"start":1764680254198,"stop":1764680254435,"duration":237}},{"uid":"6354413d62ce5344","reportUrl":"https://vaizcom.github.io/autotests/480/#testresult/6354413d62ce5344","status":"passed","time":{"start":1764602441050,"stop":1764602441624,"duration":574}},{"uid":"4210bbd72bf6eb67","reportUrl":"https://vaizcom.github.io/autotests/479/#testresult/4210bbd72bf6eb67","status":"passed","time":{"start":1764593836713,"stop":1764593837137,"duration":424}},{"uid":"c27795487ee24e22","reportUrl":"https://vaizcom.github.io/autotests/478/#testresult/c27795487ee24e22","status":"passed","time":{"start":1764583369761,"stop":1764583370248,"duration":487}},{"uid":"806e213956b9fb4b","reportUrl":"https://vaizcom.github.io/autotests/477/#testresult/806e213956b9fb4b","status":"passed","time":{"start":1764151955083,"stop":1764151955328,"duration":245}},{"uid":"52c3d5927ba0c40b","reportUrl":"https://vaizcom.github.io/autotests/476/#testresult/52c3d5927ba0c40b","status":"passed","time":{"start":1764147478415,"stop":1764147478666,"duration":251}},{"uid":"bac8fcbcf3c80478","reportUrl":"https://vaizcom.github.io/autotests/475/#testresult/bac8fcbcf3c80478","status":"passed","time":{"start":1764081176037,"stop":1764081176278,"duration":241}},{"uid":"24b9c9a316f18780","reportUrl":"https://vaizcom.github.io/autotests/474/#testresult/24b9c9a316f18780","status":"passed","time":{"start":1764078782221,"stop":1764078782465,"duration":244}},{"uid":"9d1d9881390e6f53","reportUrl":"https://vaizcom.github.io/autotests/473/#testresult/9d1d9881390e6f53","status":"passed","time":{"start":1764065929418,"stop":1764065929618,"duration":200}},{"uid":"5a85631f5828c68b","reportUrl":"https://vaizcom.github.io/autotests/472/#testresult/5a85631f5828c68b","status":"passed","time":{"start":1764053883198,"stop":1764053883377,"duration":179}},{"uid":"2a1edc4c128f0c31","reportUrl":"https://vaizcom.github.io/autotests/471/#testresult/2a1edc4c128f0c31","status":"failed","statusDetails":"AssertionError: Задача 632880f6aa99c1540a2738b6 принадлежит другому проекту: 63286261a466b6becd9d6452, ожидался 691adf9f4bfde6405d9feb4a\nassert '63286261a466b6becd9d6452' == '691adf9f4bfde6405d9feb4a'\n  \n  - 691adf9f4bfde6405d9feb4a\n  + 63286261a466b6becd9d6452","time":{"start":1763996568358,"stop":1763996603949,"duration":35591}},{"uid":"c6e71a28830ccd30","reportUrl":"https://vaizcom.github.io/autotests/470/#testresult/c6e71a28830ccd30","status":"passed","time":{"start":1763995228209,"stop":1763995228442,"duration":233}},{"uid":"590914ece83c1158","reportUrl":"https://vaizcom.github.io/autotests/469/#testresult/590914ece83c1158","status":"passed","time":{"start":1763993481026,"stop":1763993481572,"duration":546}},{"uid":"2061377c3d4f5076","reportUrl":"https://vaizcom.github.io/autotests/468/#testresult/2061377c3d4f5076","status":"passed","time":{"start":1763734845990,"stop":1763734846222,"duration":232}},{"uid":"4f560b5cea6cef8","reportUrl":"https://vaizcom.github.io/autotests/467/#testresult/4f560b5cea6cef8","status":"passed","time":{"start":1763733026618,"stop":1763733026884,"duration":266}}]},"tags":["backend"]},"source":"a97633a7d29a7434.json","parameterValues":["'guest_client'","200"]}