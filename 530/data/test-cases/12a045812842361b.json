{"uid":"12a045812842361b","name":"Доступ к таскам с фильтрацией по project под ролью Owner (HTTP 200)","fullName":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_project_filters#test_get_tasks_filtered_by_project_by_role","historyId":"47b9ff66ed3efb0c4ef955f9d3cd0dfa","time":{"start":1768298713400,"stop":1768298713520,"duration":120},"description":"\n    Проверка фильтрации по конкретному проекту для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат указаному проекту;\n    ","descriptionHtml":"<pre><code>Проверка фильтрации по конкретному проекту для всех ролей:\n- роли с доступом: HTTP 200 и все задачи принадлежат указаному проекту;\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_get_tasks_filtered_by_project_by_role[owner]>>\nclient_fixture = 'owner_client', expected_status = 200\nmain_space = '6866309d85fb8d104544a61e'\nmain_project = '686672af85fb8d104544e798'\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Access get Tasks\")\n    @allure.title(\"GetTasks: Проверка доступа к задачам для всех ролей (с фильтрацией по проекту)\")\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 200),\n            ('guest_client', 200)\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_get_tasks_filtered_by_project_by_role(request, client_fixture, expected_status, main_space, main_project):\n        \"\"\"\n        Проверка фильтрации по конкретному проекту для всех ролей:\n        - роли с доступом: HTTP 200 и все задачи принадлежат указаному проекту;\n        \"\"\"\n        client = request.getfixturevalue(client_fixture)\n        role_name = client_fixture.replace('_client', '').capitalize()\n        allure.dynamic.title(f\"Доступ к таскам с фильтрацией по project под ролью {role_name} (HTTP {expected_status})\")\n    \n        with allure.step(f\"{client_fixture}: вызвать GetTasks с фильтром project\"):\n            resp = client.post(**get_tasks_endpoint(space_id=main_space, project=main_project))\n    \n        with allure.step(f\"Проверить HTTP {expected_status}\"):\n>           assert resp.status_code == expected_status\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py:35: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"owner_client","time":{"start":1768298486051,"stop":1768298486554,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768298486051,"stop":1768298486051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1768298488144,"stop":1768298488609,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1768298488609,"stop":1768298489052,"duration":443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_project","time":{"start":1768298489052,"stop":1768298489481,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверка фильтрации по конкретному проекту для всех ролей:\n    - роли с доступом: HTTP 200 и все задачи принадлежат указаному проекту;\n    ","status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_get_tasks_filtered_by_project_by_role[owner]>>\nclient_fixture = 'owner_client', expected_status = 200\nmain_space = '6866309d85fb8d104544a61e'\nmain_project = '686672af85fb8d104544e798'\n\n    @allure.parent_suite(\"Task Service\")\n    @allure.suite(\"Get Tasks\")\n    @allure.sub_suite(\"Access get Tasks\")\n    @allure.title(\"GetTasks: Проверка доступа к задачам для всех ролей (с фильтрацией по проекту)\")\n    @pytest.mark.parametrize(\n        'client_fixture, expected_status',\n        [\n            ('owner_client', 200),\n            ('manager_client', 200),\n            ('member_client', 200),\n            ('guest_client', 200)\n        ],\n        ids=['owner', 'manager', 'member', 'guest'],\n    )\n    def test_get_tasks_filtered_by_project_by_role(request, client_fixture, expected_status, main_space, main_project):\n        \"\"\"\n        Проверка фильтрации по конкретному проекту для всех ролей:\n        - роли с доступом: HTTP 200 и все задачи принадлежат указаному проекту;\n        \"\"\"\n        client = request.getfixturevalue(client_fixture)\n        role_name = client_fixture.replace('_client', '').capitalize()\n        allure.dynamic.title(f\"Доступ к таскам с фильтрацией по project под ролью {role_name} (HTTP {expected_status})\")\n    \n        with allure.step(f\"{client_fixture}: вызвать GetTasks с фильтром project\"):\n            resp = client.post(**get_tasks_endpoint(space_id=main_space, project=main_project))\n    \n        with allure.step(f\"Проверить HTTP {expected_status}\"):\n>           assert resp.status_code == expected_status\nE           assert 503 == 200\nE            +  where 503 = <Response [503]>.status_code\n\ntests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py:35: AssertionError","steps":[{"name":"owner_client: вызвать GetTasks с фильтром project","time":{"start":1768298713400,"stop":1768298713519,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверить HTTP 200","time":{"start":1768298713519,"stop":1768298713519,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 503 == 200\n +  where 503 = <Response [503]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/get_tasks/access_get_tasks/test_get_tasks_project_filters.py\", line 35, in test_get_tasks_filtered_by_project_by_role\n    assert resp.status_code == expected_status\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Task Service"},{"name":"subSuite","value":"Access get Tasks"},{"name":"suite","value":"Get Tasks"},{"name":"tag","value":"backend"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2651-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.get_tasks.access_get_tasks.test_get_tasks_project_filters"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"client_fixture","value":"'owner_client'"},{"name":"expected_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":78,"unknown":0,"total":79},"items":[{"uid":"d5500109e7c2c6b1","reportUrl":"https://vaizcom.github.io/autotests/529/#testresult/d5500109e7c2c6b1","status":"passed","time":{"start":1767850323994,"stop":1767850331322,"duration":7328}},{"uid":"1ac8b22d1b1ea9fc","reportUrl":"https://vaizcom.github.io/autotests/528/#testresult/1ac8b22d1b1ea9fc","status":"passed","time":{"start":1766508234426,"stop":1766508237086,"duration":2660}},{"uid":"2f0b5793b3175218","reportUrl":"https://vaizcom.github.io/autotests/527/#testresult/2f0b5793b3175218","status":"passed","time":{"start":1766506889203,"stop":1766506894072,"duration":4869}},{"uid":"c6315fe51e83b4b9","reportUrl":"https://vaizcom.github.io/autotests/526/#testresult/c6315fe51e83b4b9","status":"passed","time":{"start":1766505714335,"stop":1766505720677,"duration":6342}},{"uid":"d9fcfc4e832669eb","reportUrl":"https://vaizcom.github.io/autotests/525/#testresult/d9fcfc4e832669eb","status":"passed","time":{"start":1766504639201,"stop":1766504646253,"duration":7052}},{"uid":"a29866d9bd15a0a6","reportUrl":"https://vaizcom.github.io/autotests/524/#testresult/a29866d9bd15a0a6","status":"passed","time":{"start":1766503351257,"stop":1766503355641,"duration":4384}},{"uid":"f2577be36d87c5ec","reportUrl":"https://vaizcom.github.io/autotests/523/#testresult/f2577be36d87c5ec","status":"passed","time":{"start":1766497513664,"stop":1766497519155,"duration":5491}},{"uid":"64c1d4c160e741e1","reportUrl":"https://vaizcom.github.io/autotests/522/#testresult/64c1d4c160e741e1","status":"passed","time":{"start":1766489135844,"stop":1766489141054,"duration":5210}},{"uid":"141a6e785be78549","reportUrl":"https://vaizcom.github.io/autotests/521/#testresult/141a6e785be78549","status":"passed","time":{"start":1766487818404,"stop":1766487824287,"duration":5883}},{"uid":"8bddbcb53f49f4c7","reportUrl":"https://vaizcom.github.io/autotests/520/#testresult/8bddbcb53f49f4c7","status":"passed","time":{"start":1766412655355,"stop":1766412660049,"duration":4694}},{"uid":"ee2d1723e4c127a2","reportUrl":"https://vaizcom.github.io/autotests/519/#testresult/ee2d1723e4c127a2","status":"passed","time":{"start":1766406582384,"stop":1766406583802,"duration":1418}},{"uid":"16c10d5abcf487b2","reportUrl":"https://vaizcom.github.io/autotests/518/#testresult/16c10d5abcf487b2","status":"passed","time":{"start":1766404256782,"stop":1766404261656,"duration":4874}},{"uid":"c60468d40ecc7be9","reportUrl":"https://vaizcom.github.io/autotests/517/#testresult/c60468d40ecc7be9","status":"passed","time":{"start":1766402909383,"stop":1766402913974,"duration":4591}},{"uid":"526fd5baa61e4bed","reportUrl":"https://vaizcom.github.io/autotests/516/#testresult/526fd5baa61e4bed","status":"passed","time":{"start":1766067809289,"stop":1766067814548,"duration":5259}},{"uid":"e931f44ece8001c3","reportUrl":"https://vaizcom.github.io/autotests/515/#testresult/e931f44ece8001c3","status":"passed","time":{"start":1766043224425,"stop":1766043229526,"duration":5101}},{"uid":"ca8281825620f102","reportUrl":"https://vaizcom.github.io/autotests/514/#testresult/ca8281825620f102","status":"passed","time":{"start":1765984676590,"stop":1765984682490,"duration":5900}},{"uid":"d32f40d4767ea495","reportUrl":"https://vaizcom.github.io/autotests/513/#testresult/d32f40d4767ea495","status":"passed","time":{"start":1765975986955,"stop":1765975993948,"duration":6993}},{"uid":"dd065ec0078c4626","reportUrl":"https://vaizcom.github.io/autotests/512/#testresult/dd065ec0078c4626","status":"passed","time":{"start":1765892143075,"stop":1765892151268,"duration":8193}},{"uid":"a2c45341a4c04119","reportUrl":"https://vaizcom.github.io/autotests/511/#testresult/a2c45341a4c04119","status":"passed","time":{"start":1765890345609,"stop":1765890350942,"duration":5333}},{"uid":"4e504deb9766a2c0","reportUrl":"https://vaizcom.github.io/autotests/510/#testresult/4e504deb9766a2c0","status":"passed","time":{"start":1765881485897,"stop":1765881491242,"duration":5345}}]},"tags":["backend"]},"source":"12a045812842361b.json","parameterValues":["'owner_client'","200"]}