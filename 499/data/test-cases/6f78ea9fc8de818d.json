{"uid":"6f78ea9fc8de818d","name":"Multiple Edit Tasks: completed = True/False для 20 задач (ожидаемый статус 200)","fullName":"tests.test_backend.task_service.multiple_edit_tasks.test_multiple_edit_tasks_completed#test_multiple_edit_tasks_completed","historyId":"f8d648a596bbf0057e8fc370ce173c0b","time":{"start":1765458195984,"stop":1765458203462,"duration":7478},"status":"failed","statusMessage":"AssertionError: Ожидали 200 при 20 задачах, получено: 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f7a7e437090>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7f7a7e0c0fe0>\ncount = 20, expect_status = 200\n\n    @allure.parent_suite(\"multiple_edit_tasks\")\n    @pytest.mark.parametrize(\n        \"count, expect_status\",\n        [\n            (1, 200),\n            (20, 200),\n        ],\n        ids=[\"1-task\", \"20-tasks\"],\n    )\n    def test_multiple_edit_tasks_completed(owner_client, main_space, create_30_tasks, count, expect_status):\n        allure.dynamic.title(f\"Multiple Edit Tasks: completed = True/False для {count} задач (ожидаемый статус {expect_status})\")\n        \"\"\"\n            Флоу:\n            1) Создать N задач (1, 20).\n            2) Проставить completed=True через MultipleEditTasks (ожидаем 200).\n            3) Проверить через get_task, что completed=True.\n            4) Снять completed=False и проверить через get_task.\n        \"\"\"\n    \n        with allure.step(f\"Создаём {count} задач\"):\n            task_ids = create_30_tasks(count=count)\n            assert len(task_ids) == count, f\"Ожидали создать {count} задач, создано: {len(task_ids)}\"\n    \n        with allure.step(f\"Устанавливаем completed=True для {count} задач\"):\n            payload_true = [{\"taskId\": tid, \"completed\": True} for tid in task_ids]\n            resp_true = owner_client.post(**multiple_edit_tasks_endpoint(space_id=main_space, tasks=payload_true))\n            body_true = resp_true.json()\n    \n        with allure.step(\"Проверяем, что ответ корректен и задачи отражены в success\"):\n>           assert resp_true.status_code == 200, f\"Ожидали 200 при {count} задачах, получено: {resp_true.status_code}\"\nE           AssertionError: Ожидали 200 при 20 задачах, получено: 400\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_completed.py:37: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"owner_client","time":{"start":1765457368185,"stop":1765457368691,"duration":506},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1765457368185,"stop":1765457368185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_client","time":{"start":1765457370634,"stop":1765457370872,"duration":238},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_space","time":{"start":1765457370872,"stop":1765457371085,"duration":213},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_board","time":{"start":1765457726227,"stop":1765457726691,"duration":464},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_30_tasks","time":{"start":1765458195983,"stop":1765458195983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Ожидали 200 при 20 задачах, получено: 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"owner_client = <tests.core.client.APIClient object at 0x7f7a7e437090>\nmain_space = '6866309d85fb8d104544a61e'\ncreate_30_tasks = <function create_30_tasks.<locals>._factory at 0x7f7a7e0c0fe0>\ncount = 20, expect_status = 200\n\n    @allure.parent_suite(\"multiple_edit_tasks\")\n    @pytest.mark.parametrize(\n        \"count, expect_status\",\n        [\n            (1, 200),\n            (20, 200),\n        ],\n        ids=[\"1-task\", \"20-tasks\"],\n    )\n    def test_multiple_edit_tasks_completed(owner_client, main_space, create_30_tasks, count, expect_status):\n        allure.dynamic.title(f\"Multiple Edit Tasks: completed = True/False для {count} задач (ожидаемый статус {expect_status})\")\n        \"\"\"\n            Флоу:\n            1) Создать N задач (1, 20).\n            2) Проставить completed=True через MultipleEditTasks (ожидаем 200).\n            3) Проверить через get_task, что completed=True.\n            4) Снять completed=False и проверить через get_task.\n        \"\"\"\n    \n        with allure.step(f\"Создаём {count} задач\"):\n            task_ids = create_30_tasks(count=count)\n            assert len(task_ids) == count, f\"Ожидали создать {count} задач, создано: {len(task_ids)}\"\n    \n        with allure.step(f\"Устанавливаем completed=True для {count} задач\"):\n            payload_true = [{\"taskId\": tid, \"completed\": True} for tid in task_ids]\n            resp_true = owner_client.post(**multiple_edit_tasks_endpoint(space_id=main_space, tasks=payload_true))\n            body_true = resp_true.json()\n    \n        with allure.step(\"Проверяем, что ответ корректен и задачи отражены в success\"):\n>           assert resp_true.status_code == 200, f\"Ожидали 200 при {count} задачах, получено: {resp_true.status_code}\"\nE           AssertionError: Ожидали 200 при 20 задачах, получено: 400\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_completed.py:37: AssertionError","steps":[{"name":"Создаём 20 задач","time":{"start":1765458195984,"stop":1765458203162,"duration":7178},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Устанавливаем completed=True для 20 задач","time":{"start":1765458203162,"stop":1765458203461,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем, что ответ корректен и задачи отражены в success","time":{"start":1765458203461,"stop":1765458203461,"duration":0},"status":"failed","statusMessage":"AssertionError: Ожидали 200 при 20 задачах, получено: 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/task_service/multiple_edit_tasks/test_multiple_edit_tasks_completed.py\", line 37, in test_multiple_edit_tasks_completed\n    assert resp_true.status_code == 200, f\"Ожидали 200 при {count} задачах, получено: {resp_true.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"create_30_tasks::0","time":{"start":1765458203467,"stop":1765458209728,"duration":6261},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"multiple_edit_tasks"},{"name":"tag","value":"backend"},{"name":"suite","value":"test_multiple_edit_tasks_completed"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"2641-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.task_service.multiple_edit_tasks.test_multiple_edit_tasks_completed"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"count","value":"20"},{"name":"expect_status","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":20,"unknown":0,"total":22},"items":[{"uid":"df918e5337b57e38","reportUrl":"https://vaizcom.github.io/autotests/498/#testresult/df918e5337b57e38","status":"passed","time":{"start":1765444453809,"stop":1765444480677,"duration":26868}},{"uid":"2d5ebc1941ad8c95","reportUrl":"https://vaizcom.github.io/autotests/497/#testresult/2d5ebc1941ad8c95","status":"passed","time":{"start":1765442562355,"stop":1765442588088,"duration":25733}},{"uid":"90574af6f3923f63","reportUrl":"https://vaizcom.github.io/autotests/496/#testresult/90574af6f3923f63","status":"passed","time":{"start":1765372978461,"stop":1765373005876,"duration":27415}},{"uid":"ccf0a6ea72c1eb43","reportUrl":"https://vaizcom.github.io/autotests/495/#testresult/ccf0a6ea72c1eb43","status":"passed","time":{"start":1765274559999,"stop":1765274600601,"duration":40602}},{"uid":"3c459bd66564955d","reportUrl":"https://vaizcom.github.io/autotests/494/#testresult/3c459bd66564955d","status":"passed","time":{"start":1765206727835,"stop":1765206745978,"duration":18143}},{"uid":"b2a1db99ff12dddb","reportUrl":"https://vaizcom.github.io/autotests/493/#testresult/b2a1db99ff12dddb","status":"passed","time":{"start":1765203586960,"stop":1765203613256,"duration":26296}},{"uid":"bd02c875abe06650","reportUrl":"https://vaizcom.github.io/autotests/492/#testresult/bd02c875abe06650","status":"passed","time":{"start":1765200734343,"stop":1765200756171,"duration":21828}},{"uid":"70a862639a10d4d0","reportUrl":"https://vaizcom.github.io/autotests/491/#testresult/70a862639a10d4d0","status":"passed","time":{"start":1765189311752,"stop":1765189337755,"duration":26003}},{"uid":"4f5bb136f6e9879f","reportUrl":"https://vaizcom.github.io/autotests/490/#testresult/4f5bb136f6e9879f","status":"passed","time":{"start":1765187973633,"stop":1765187995121,"duration":21488}},{"uid":"5c0dd2d98215cbf7","reportUrl":"https://vaizcom.github.io/autotests/489/#testresult/5c0dd2d98215cbf7","status":"passed","time":{"start":1764995169516,"stop":1764995188810,"duration":19294}},{"uid":"4fc1f6f02b85e5ac","reportUrl":"https://vaizcom.github.io/autotests/488/#testresult/4fc1f6f02b85e5ac","status":"passed","time":{"start":1764856200002,"stop":1764856219388,"duration":19386}},{"uid":"337ef1f482c93e01","reportUrl":"https://vaizcom.github.io/autotests/487/#testresult/337ef1f482c93e01","status":"passed","time":{"start":1764851579405,"stop":1764851601174,"duration":21769}},{"uid":"e50636a6789de449","reportUrl":"https://vaizcom.github.io/autotests/486/#testresult/e50636a6789de449","status":"passed","time":{"start":1764848854393,"stop":1764848876416,"duration":22023}},{"uid":"4e4dea140a90c","reportUrl":"https://vaizcom.github.io/autotests/485/#testresult/4e4dea140a90c","status":"passed","time":{"start":1764766905779,"stop":1764766931458,"duration":25679}},{"uid":"a85a8f58640d8a35","reportUrl":"https://vaizcom.github.io/autotests/484/#testresult/a85a8f58640d8a35","status":"broken","statusDetails":"requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://vaiz-api-uat.vaiz.dev/v4/CreateTask","time":{"start":1764765362197,"stop":1764765362383,"duration":186}},{"uid":"7f246f4480fbd797","reportUrl":"https://vaizcom.github.io/autotests/483/#testresult/7f246f4480fbd797","status":"passed","time":{"start":1764749314647,"stop":1764749348267,"duration":33620}},{"uid":"faf03de4cb5b6094","reportUrl":"https://vaizcom.github.io/autotests/482/#testresult/faf03de4cb5b6094","status":"passed","time":{"start":1764687315339,"stop":1764687333557,"duration":18218}},{"uid":"a0fb7ba1a41b60c","reportUrl":"https://vaizcom.github.io/autotests/481/#testresult/a0fb7ba1a41b60c","status":"passed","time":{"start":1764680356292,"stop":1764680386714,"duration":30422}},{"uid":"158e7b9ff52e037c","reportUrl":"https://vaizcom.github.io/autotests/480/#testresult/158e7b9ff52e037c","status":"passed","time":{"start":1764602554450,"stop":1764602581083,"duration":26633}},{"uid":"a95868a817c9faa2","reportUrl":"https://vaizcom.github.io/autotests/479/#testresult/a95868a817c9faa2","status":"passed","time":{"start":1764593933908,"stop":1764593959515,"duration":25607}}]},"tags":["backend"]},"source":"6f78ea9fc8de818d.json","parameterValues":["20","200"]}