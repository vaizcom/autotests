{"uid":"a75addc7bb863799","name":"Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу","fullName":"tests.test_backend.document.access_doc.test_matrix_access_docs#test_space_client_document_access","historyId":"819e6f6b50b1099dc81434d09f048734","time":{"start":1759837443414,"stop":1759837443931,"duration":517},"description":"\n    Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n\n    ","descriptionHtml":"<pre><code>Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 502 == 200\n +  where 502 = <Response [502]>.status_code","statusTrace":"space_client_memb = <tests.core.client.APIClient object at 0x7f0d3ff1ff50>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title(\n        'Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу'\n    )\n    def test_space_client_document_access(\n        space_client_memb, main_space, main_space_doc, main_project_doc, main_personal_doc\n    ):\n        \"\"\"\n        Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n    \n        \"\"\"\n        with allure.step('Проверка доступа к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = space_client_memb.post(\n                **get_document_endpoint(document_id=main_space_doc, space_id=main_space)\n            )\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 502 == 200\nE            +  where 502 = <Response [502]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:36: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1759837145756,"stop":1759837145756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1759837145756,"stop":1759837145756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1759837145756,"stop":1759837145756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1759837145756,"stop":1759837145756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1759837145756,"stop":1759837146498,"duration":742},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1759837146498,"stop":1759837146894,"duration":396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"space_client_memb","time":{"start":1759837153051,"stop":1759837153684,"duration":633},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space_doc","time":{"start":1759837443413,"stop":1759837443413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project_doc","time":{"start":1759837443413,"stop":1759837443413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_personal_doc","time":{"start":1759837443413,"stop":1759837443413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n\n    ","status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 502 == 200\n +  where 502 = <Response [502]>.status_code","statusTrace":"space_client_memb = <tests.core.client.APIClient object at 0x7f0d3ff1ff50>\nmain_space = '6866309d85fb8d104544a61e'\nmain_space_doc = '68a5b3f4a136528e28f58d65'\nmain_project_doc = '68a81156e503a7ab645236c1'\nmain_personal_doc = '68a5b40ba136528e28f58dba'\n\n    @allure.title(\n        'Проверка доступа space_client к основному документу и отсутствия доступа к проектному документу и персональному документу'\n    )\n    def test_space_client_document_access(\n        space_client_memb, main_space, main_space_doc, main_project_doc, main_personal_doc\n    ):\n        \"\"\"\n        Проверяем, что space_client имеет доступ к main_space_doc и не имеет доступа к main_personal_doc и main_project_doc.\n    \n        \"\"\"\n        with allure.step('Проверка доступа к основному документу MAIN_SPACE_DOC_ID'):\n            response_space = space_client_memb.post(\n                **get_document_endpoint(document_id=main_space_doc, space_id=main_space)\n            )\n>           assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\nE           AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nE           assert 502 == 200\nE            +  where 502 = <Response [502]>.status_code\n\ntests/test_backend/document/access_doc/test_matrix_access_docs.py:36: AssertionError","steps":[{"name":"Проверка доступа к основному документу MAIN_SPACE_DOC_ID","time":{"start":1759837443414,"stop":1759837443930,"duration":516},"status":"failed","statusMessage":"AssertionError: Доступ к MAIN_SPACE_DOC_ID должен быть разрешён\nassert 502 == 200\n +  where 502 = <Response [502]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/access_doc/test_matrix_access_docs.py\", line 36, in test_space_client_document_access\n    assert response_space.status_code == 200, 'Доступ к MAIN_SPACE_DOC_ID должен быть разрешён'\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document.access_doc"},{"name":"suite","value":"test_matrix_access_docs"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2583-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.access_doc.test_matrix_access_docs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":3,"unknown":0,"total":4},"items":[{"uid":"ebf5f52f6bfadd45","reportUrl":"https://vaizcom.github.io/autotests/355//#testresult/ebf5f52f6bfadd45","status":"passed","time":{"start":1759836227037,"stop":1759836228375,"duration":1338}},{"uid":"addd083127c28a01","reportUrl":"https://vaizcom.github.io/autotests/354//#testresult/addd083127c28a01","status":"passed","time":{"start":1759835605154,"stop":1759835605685,"duration":531}},{"uid":"3333efc282bb058f","reportUrl":"https://vaizcom.github.io/autotests/353//#testresult/3333efc282bb058f","status":"passed","time":{"start":1759834711763,"stop":1759834712464,"duration":701}}]},"tags":["backend"]},"source":"a75addc7bb863799.json","parameterValues":[]}