{"uid":"9f4b84a26f2f9285","name":"test_archive_all_documents[project_docs]","fullName":"tests.test_backend.document.test_archive_all_docs#test_archive_all_documents","historyId":"81a733a0986e34e9cc5f1634f12b9c7a","time":{"start":1761911299877,"stop":1761911300054,"duration":177},"description":"\n    Проверяем удаление всех документов в пространстве и проекте.\n    ","descriptionHtml":"<pre><code>Проверяем удаление всех документов в пространстве и проекте.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_archive_all_documents[project_docs]>>\nowner_client = <tests.core.client.APIClient object at 0x7fbc912cb790>\nkind = 'Project', container_fixture = 'main_project'\nmain_space = '6866309d85fb8d104544a61e'\nexcluded_documents = {'68a5b3f4a136528e28f58d65', '68a81156e503a7ab645236c1'}\n\n    @pytest.mark.parametrize(\n        'kind, container_fixture',\n        [\n            ('Space', 'main_space'),\n            ('Project', 'main_project'),\n        ],\n        ids=['space_docs', 'project_docs'],\n    )\n    def test_archive_all_documents(request, owner_client, kind, container_fixture, main_space, excluded_documents):\n        \"\"\"\n        Проверяем удаление всех документов в пространстве и проекте.\n        \"\"\"\n        with allure.step(f'Подготовка к удалению документов в {kind}'):\n            container_id = request.getfixturevalue(container_fixture)\n    \n        with allure.step(f'Получение списка документов в {kind}'):\n            docs_resp = owner_client.post(**get_documents_endpoint(space_id=main_space, kind=kind, kind_id=container_id))\n>           assert docs_resp.status_code == 200, 'Не удалось получить список документов'\nE           AssertionError: Не удалось получить список документов\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/test_archive_all_docs.py:36: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761911162887,"stop":1761911162887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1761911162888,"stop":1761911162888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1761911162888,"stop":1761911162888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"owner_client","time":{"start":1761911162888,"stop":1761911163517,"duration":629},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1761911162888,"stop":1761911162888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_client","time":{"start":1761911166774,"stop":1761911167100,"duration":326},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space","time":{"start":1761911167101,"stop":1761911167366,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project","time":{"start":1761911167366,"stop":1761911167640,"duration":274},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_space_doc","time":{"start":1761911297530,"stop":1761911297530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"main_project_doc","time":{"start":1761911297530,"stop":1761911297530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"excluded_documents","time":{"start":1761911299696,"stop":1761911299696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Проверяем удаление всех документов в пространстве и проекте.\n    ","status":"failed","statusMessage":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"request = <FixtureRequest for <Function test_archive_all_documents[project_docs]>>\nowner_client = <tests.core.client.APIClient object at 0x7fbc912cb790>\nkind = 'Project', container_fixture = 'main_project'\nmain_space = '6866309d85fb8d104544a61e'\nexcluded_documents = {'68a5b3f4a136528e28f58d65', '68a81156e503a7ab645236c1'}\n\n    @pytest.mark.parametrize(\n        'kind, container_fixture',\n        [\n            ('Space', 'main_space'),\n            ('Project', 'main_project'),\n        ],\n        ids=['space_docs', 'project_docs'],\n    )\n    def test_archive_all_documents(request, owner_client, kind, container_fixture, main_space, excluded_documents):\n        \"\"\"\n        Проверяем удаление всех документов в пространстве и проекте.\n        \"\"\"\n        with allure.step(f'Подготовка к удалению документов в {kind}'):\n            container_id = request.getfixturevalue(container_fixture)\n    \n        with allure.step(f'Получение списка документов в {kind}'):\n            docs_resp = owner_client.post(**get_documents_endpoint(space_id=main_space, kind=kind, kind_id=container_id))\n>           assert docs_resp.status_code == 200, 'Не удалось получить список документов'\nE           AssertionError: Не удалось получить список документов\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests/test_backend/document/test_archive_all_docs.py:36: AssertionError","steps":[{"name":"Подготовка к удалению документов в Project","time":{"start":1761911299877,"stop":1761911299877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Получение списка документов в Project","time":{"start":1761911299877,"stop":1761911300054,"duration":177},"status":"failed","statusMessage":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code\n","statusTrace":"  File \"/home/runner/work/autotests/autotests/tests/test_backend/document/test_archive_all_docs.py\", line 36, in test_archive_all_documents\n    assert docs_resp.status_code == 200, 'Не удалось получить список документов'\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"backend"},{"name":"parentSuite","value":"tests.test_backend.document"},{"name":"suite","value":"test_archive_all_docs"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2557-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_backend.document.test_archive_all_docs"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"container_fixture","value":"'main_project'"},{"name":"kind","value":"'Project'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":13,"broken":0,"skipped":0,"passed":40,"unknown":0,"total":53},"items":[{"uid":"7935938771330b22","reportUrl":"https://vaizcom.github.io/autotests/402//#testresult/7935938771330b22","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761910911619,"stop":1761910911739,"duration":120}},{"uid":"126c6b0adce2dcd7","reportUrl":"https://vaizcom.github.io/autotests/401//#testresult/126c6b0adce2dcd7","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761910613477,"stop":1761910613598,"duration":121}},{"uid":"438fa5236460c5d4","reportUrl":"https://vaizcom.github.io/autotests/400//#testresult/438fa5236460c5d4","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761910005157,"stop":1761910005473,"duration":316}},{"uid":"a38736438115d3b5","reportUrl":"https://vaizcom.github.io/autotests/399//#testresult/a38736438115d3b5","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761900036791,"stop":1761900036965,"duration":174}},{"uid":"818edd69696432","reportUrl":"https://vaizcom.github.io/autotests/398//#testresult/818edd69696432","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761835057454,"stop":1761835057577,"duration":123}},{"uid":"ca314d55ef1dd94c","reportUrl":"https://vaizcom.github.io/autotests/397//#testresult/ca314d55ef1dd94c","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761834641888,"stop":1761834642065,"duration":177}},{"uid":"32961c91da87e7b6","reportUrl":"https://vaizcom.github.io/autotests/396//#testresult/32961c91da87e7b6","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761833478008,"stop":1761833478198,"duration":190}},{"uid":"5be0febf2386aea5","reportUrl":"https://vaizcom.github.io/autotests/395//#testresult/5be0febf2386aea5","status":"passed","time":{"start":1761821709540,"stop":1761821713977,"duration":4437}},{"uid":"ab88aee59ef78ff7","reportUrl":"https://vaizcom.github.io/autotests/394//#testresult/ab88aee59ef78ff7","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761818766229,"stop":1761818766449,"duration":220}},{"uid":"e541564b5a680c70","reportUrl":"https://vaizcom.github.io/autotests/393//#testresult/e541564b5a680c70","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761748630117,"stop":1761748630233,"duration":116}},{"uid":"512cc79908ba6089","reportUrl":"https://vaizcom.github.io/autotests/393//#testresult/512cc79908ba6089","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761747905586,"stop":1761747905775,"duration":189}},{"uid":"7c906e604dc14731","reportUrl":"https://vaizcom.github.io/autotests/391//#testresult/7c906e604dc14731","status":"passed","time":{"start":1761746873638,"stop":1761746877058,"duration":3420}},{"uid":"3f611eb952d7786","reportUrl":"https://vaizcom.github.io/autotests/392//#testresult/3f611eb952d7786","status":"failed","statusDetails":"AssertionError: Не удалось получить список документов\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code","time":{"start":1761745738131,"stop":1761745738252,"duration":121}},{"uid":"7a3f4a3e01491d43","reportUrl":"https://vaizcom.github.io/autotests/391//#testresult/7a3f4a3e01491d43","status":"passed","time":{"start":1761576712235,"stop":1761576712459,"duration":224}},{"uid":"b8a9b31347921306","reportUrl":"https://vaizcom.github.io/autotests/390//#testresult/b8a9b31347921306","status":"passed","time":{"start":1761557362618,"stop":1761557362813,"duration":195}},{"uid":"cde77d8dd7732664","reportUrl":"https://vaizcom.github.io/autotests/389//#testresult/cde77d8dd7732664","status":"passed","time":{"start":1761308586786,"stop":1761308586978,"duration":192}},{"uid":"5149822fe8a0e006","reportUrl":"https://vaizcom.github.io/autotests/388//#testresult/5149822fe8a0e006","status":"passed","time":{"start":1761306748253,"stop":1761306748462,"duration":209}},{"uid":"29c4cf4bc2b3c398","reportUrl":"https://vaizcom.github.io/autotests/387//#testresult/29c4cf4bc2b3c398","status":"passed","time":{"start":1761137041236,"stop":1761137041447,"duration":211}},{"uid":"455ef10148df230c","reportUrl":"https://vaizcom.github.io/autotests/386//#testresult/455ef10148df230c","status":"passed","time":{"start":1761135718401,"stop":1761135718641,"duration":240}},{"uid":"a5956a04457af4a0","reportUrl":"https://vaizcom.github.io/autotests/385//#testresult/a5956a04457af4a0","status":"passed","time":{"start":1761134145788,"stop":1761134145974,"duration":186}}]},"tags":["backend"]},"source":"9f4b84a26f2f9285.json","parameterValues":["'main_project'","'Project'"]}